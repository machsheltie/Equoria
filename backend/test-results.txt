
> equoria-backend@1.0.0 test
> node --experimental-vm-modules node_modules/jest/bin/jest.js

(node:33732) ExperimentalWarning: VM Modules is an experimental feature and might change at any time
(Use `node --trace-warnings ...` to show where the warning was created)
PASS tests/integration/userProgressAPI.integration.test.mjs (5.381 s)
  â— Console

    console.log
      [2025-12-27 23:11:53] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:53] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:53] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:11:55] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:11:55] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:55] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:55] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:55] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:55] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:55] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:55] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: progress-test@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=f00a42857857b748e41589370d030a0a892b31c19649254a58b9a74c0cc4ccc9

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:11:56] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [userRoutes] Self-access validated: user 0abce001-412a-412c-8ecf-5fb214680a29 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [userController.getUserProgressAPI] Getting comprehensive progress for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [userController.getUserProgressAPI] Successfully retrieved progress for user progresstest (Level 1, XP: 0/200, 0% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Attempting to train horse 93892 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] No training records found for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Horse 93892 is eligible to train in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4770

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateHorseStat] Updating intelligence by 3 for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateHorseStat] Updated intelligence for horse 93892: 0 -> 3 (+3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Stat gain: intelligence +3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Incrementing Racing score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Updating Racing score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Successfully updated Racing score for horse 93892: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Successfully incremented Racing score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2295, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Successfully trained horse 93892 in Racing (Log ID: 4770, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [userRoutes] Self-access validated: user 0abce001-412a-412c-8ecf-5fb214680a29 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [userController.getUserProgressAPI] Getting comprehensive progress for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [userController.getUserProgressAPI] Successfully retrieved progress for user progresstest (Level 1, XP: 5/200, 3% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Attempting to train horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:56 GMT-0500 (Eastern Standard Time) (discipline: Racing)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Horse 93892 is eligible to train in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4771

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Incrementing Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Updating Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Successfully updated Dressage score for horse 93892: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Successfully incremented Dressage score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2296, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Successfully trained horse 93892 in Dressage (Log ID: 4771, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Attempting to train horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:56 GMT-0500 (Eastern Standard Time) (discipline: Dressage)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Horse 93892 is eligible to train in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4772

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Incrementing Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Updating Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Successfully updated Show Jumping score for horse 93892: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Successfully incremented Show Jumping score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2297, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Successfully trained horse 93892 in Show Jumping (Log ID: 4772, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Attempting to train horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:56 GMT-0500 (Eastern Standard Time) (discipline: Show Jumping)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Horse 93892 is eligible to train in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4773

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Incrementing Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Updating Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Successfully updated Dressage score for horse 93892: 5 -> 10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Successfully incremented Dressage score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2298, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Successfully trained horse 93892 in Dressage (Log ID: 4773, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Attempting to train horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:56 GMT-0500 (Eastern Standard Time) (discipline: Dressage)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.canTrain] Horse 93892 is eligible to train in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4774

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateHorseStat] Updating precision by 3 for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateHorseStat] Updated precision for horse 93892: 0 -> 3 (+3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Stat gain: precision +3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Incrementing Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Updating Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.updateDisciplineScore] Successfully updated Show Jumping score for horse 93892: 5 -> 10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [horseModel.incrementDisciplineScore] Successfully incremented Show Jumping score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2299, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [trainingController.trainHorse] Successfully trained horse 93892 in Show Jumping (Log ID: 4774, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:56] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Attempting to train horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:56 GMT-0500 (Eastern Standard Time) (discipline: Show Jumping)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Horse 93892 is eligible to train in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4775

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Incrementing Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Updating Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Successfully updated Dressage score for horse 93892: 10 -> 15

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Successfully incremented Dressage score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2300, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Successfully trained horse 93892 in Dressage (Log ID: 4775, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Attempting to train horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:57 GMT-0500 (Eastern Standard Time) (discipline: Dressage)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Horse 93892 is eligible to train in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4776

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Incrementing Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Updating Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Successfully updated Show Jumping score for horse 93892: 10 -> 15

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Successfully incremented Show Jumping score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2301, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Successfully trained horse 93892 in Show Jumping (Log ID: 4776, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Attempting to train horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:57 GMT-0500 (Eastern Standard Time) (discipline: Show Jumping)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Horse 93892 is eligible to train in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4777

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Incrementing Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Updating Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Successfully updated Dressage score for horse 93892: 15 -> 20

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Successfully incremented Dressage score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2302, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Successfully trained horse 93892 in Dressage (Log ID: 4777, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Attempting to train horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:57 GMT-0500 (Eastern Standard Time) (discipline: Dressage)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Horse 93892 is eligible to train in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4778

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Incrementing Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Updating Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Successfully updated Show Jumping score for horse 93892: 15 -> 20

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Successfully incremented Show Jumping score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2303, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Successfully trained horse 93892 in Show Jumping (Log ID: 4778, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Attempting to train horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:57 GMT-0500 (Eastern Standard Time) (discipline: Show Jumping)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Horse 93892 is eligible to train in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4779

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Incrementing Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Updating Dressage score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Successfully updated Dressage score for horse 93892: 20 -> 25

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Successfully incremented Dressage score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2304, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Successfully trained horse 93892 in Dressage (Log ID: 4779, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Attempting to train horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:57 GMT-0500 (Eastern Standard Time) (discipline: Dressage)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Horse 93892 is eligible to train in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4780

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Incrementing Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Updating Show Jumping score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Successfully updated Show Jumping score for horse 93892: 20 -> 25

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Successfully incremented Show Jumping score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2305, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Successfully trained horse 93892 in Show Jumping (Log ID: 4780, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userRoutes] Self-access validated: user 0abce001-412a-412c-8ecf-5fb214680a29 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Getting comprehensive progress for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Successfully retrieved progress for user progresstest (Level 1, XP: 55/200, 28% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [ownership] Found owned horse 93892 for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainRouteHandler] Training request for horse 93892 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Attempting to train horse 93892 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Checking training eligibility for horse 93892 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Getting age for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getHorseAge] Horse 93892 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Fri Dec 19 2025 23:11:57 GMT-0500 (Eastern Standard Time) (discipline: Show Jumping)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.canTrain] Horse 93892 is eligible to train in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93892)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Horse 93892 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Logging training session for horse 93892 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4781

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Incrementing Cross Country score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Updating Cross Country score for horse 93892 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.updateDisciplineScore] Successfully updated Cross Country score for horse 93892: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [horseModel.incrementDisciplineScore] Successfully incremented Cross Country score for horse 93892

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Logging XP event: User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5, Reason: Trained horse Progress Test Horse in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2306, User 0abce001-412a-412c-8ecf-5fb214680a29, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Awarded 5 XP to user 0abce001-412a-412c-8ecf-5fb214680a29 for training - LEVEL UP to undefined!

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.trainHorse] Successfully trained horse 93892 in Cross Country (Log ID: 4781, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userRoutes] Self-access validated: user 0abce001-412a-412c-8ecf-5fb214680a29 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Getting comprehensive progress for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Successfully retrieved progress for user progresstest (Level 2, XP: 200/300, 0% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userRoutes] Self-access validated: user 0abce001-412a-412c-8ecf-5fb214680a29 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Getting comprehensive progress for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Successfully retrieved progress for user progresstest (Level 3, XP: 350/400, 50% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/dashboard/0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/dashboard/0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /dashboard/0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userRoutes] Self-access validated: user 0abce001-412a-412c-8ecf-5fb214680a29 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.getTrainableHorses] Getting trainable horses for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93892 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 93892: Sat Dec 27 2025 23:11:57 GMT-0500 (Eastern Standard Time) (discipline: Cross Country)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [trainingController.getTrainableHorses] Found 0 trainable horses for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getDashboardData] Successfully retrieved dashboard data for user progresstest (1 horses, 0 trainable)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/dashboard/0abce001-412a-412c-8ecf-5fb214680a29 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/999999/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/999999/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /999999/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] warn: [userRoutes] Validation errors for /:id: [{"type":"field","value":"999999","msg":"User ID must be a valid UUID","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/999999/progress - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/invalid/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/invalid/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /invalid/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] warn: [userRoutes] Validation errors for /:id: [{"type":"field","value":"invalid","msg":"User ID must be a valid UUID","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/invalid/progress - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] warn: [auth] Access token is required for GET /users/0abce001-412a-412c-8ecf-5fb214680a29/progress from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /users/0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [auth] Authenticated user 0abce001-412a-412c-8ecf-5fb214680a29 for GET /0abce001-412a-412c-8ecf-5fb214680a29/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userRoutes] Self-access validated: user 0abce001-412a-412c-8ecf-5fb214680a29 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Getting comprehensive progress for user 0abce001-412a-412c-8ecf-5fb214680a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [userController.getUserProgressAPI] Successfully retrieved progress for user progresstest (Level 3, XP: 350/400, 50% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:57] info: [GET] /api/users/0abce001-412a-412c-8ecf-5fb214680a29/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/routes/groomRetirementRoutes.test.mjs
  â— Console

    console.log
      [2025-12-27 23:11:58] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:58] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:58] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:11:58] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:11:58] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:58] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:58] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:58] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:58] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46498/retirement/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /grooms/46498/retirement/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [ownership] Validated ownership: user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d owns groom 46498

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46498/retirement/eligibility - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/retirement/statistics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /grooms/retirement/statistics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /retirement/statistics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/retirement/statistics - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/retirement/approaching

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /grooms/retirement/approaching

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /retirement/approaching

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/retirement/approaching - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46505/legacy/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /grooms/46505/legacy/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [ownership] Validated ownership: user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d owns groom 46505

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46505/legacy/eligibility - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/legacy/history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /grooms/legacy/history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /legacy/history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/legacy/history - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/talents/definitions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/talents/definitions - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46510/talents

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /grooms/46510/talents

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [ownership] Validated ownership: user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d owns groom 46510

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46510/talents - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [POST] /api/grooms/46512/talents/validate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for POST /grooms/46512/talents/validate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [ownership] Validated ownership: user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d owns groom 46512

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [POST] /api/grooms/46512/talents/validate - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [POST] /api/grooms/46514/talents/select

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for POST /grooms/46514/talents/select

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [ownership] Validated ownership: user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d owns groom 46514

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: Groom 46514 selected talent gentle_hands for tier1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [POST] /api/grooms/46514/talents/select - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46516/retirement/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] warn: [auth] Access token is required for GET /grooms/46516/retirement/eligibility from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46516/retirement/eligibility - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/retirement/statistics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] warn: [auth] Access token is required for GET /grooms/retirement/statistics from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/retirement/statistics - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46516/talents

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] warn: [auth] Access token is required for GET /grooms/46516/talents from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/46516/talents - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/talents/definitions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/talents/definitions - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/invalid/retirement/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for GET /grooms/invalid/retirement/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] warn: [groomRoutes] Validation errors: [{"type":"field","value":"invalid","msg":"Groom ID must be an integer","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [GET] /api/grooms/invalid/retirement/eligibility - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [POST] /api/grooms/46522/talents/select

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [auth] Authenticated user 8f0f8bff-88fe-4d76-9aee-80847cbfc06d for POST /grooms/46522/talents/select

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] warn: [groomRoutes] Validation errors: [{"type":"field","value":"invalid_tier","msg":"Invalid tier","path":"tier","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:11:59] info: [POST] /api/grooms/46522/talents/select - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/controllers/personalityEvolutionController.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:00] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:00] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:00] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:00] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:00] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:00] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:00] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:00] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:00] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/groom/46524/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/groom/46524/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /groom/46524/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Validated ownership: user f4bac71a-202b-41ce-a21c-55bfb70e8b10 owns groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.evolveGroomPersonalityController] Processing groom evolution for ID: 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.evolveGroomPersonality] Starting evolution analysis for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.applyPersonalityEvolutionEffects] Applying effects for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/groom/46524/evolve - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/groom/invalid/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/groom/invalid/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /groom/invalid/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] warn: [personalityEvolutionRoutes] Validation errors: [{"type":"field","value":"invalid","msg":"Groom ID must be a positive integer","path":"groomId","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/groom/invalid/evolve - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/groom/46524/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] warn: [auth] Access token is required for POST /personality-evolution/groom/46524/evolve from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/groom/46524/evolve - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/horse/93893/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/horse/93893/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /horse/93893/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Validated ownership: user f4bac71a-202b-41ce-a21c-55bfb70e8b10 owns horse 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.evolveHorseTemperamentController] Processing horse evolution for ID: 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.evolveHorseTemperament] Starting evolution analysis for horse 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.applyPersonalityEvolutionEffects] Applying effects for horse 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/horse/93893/evolve - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/horse/invalid/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/horse/invalid/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /horse/invalid/evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] warn: [personalityEvolutionRoutes] Validation errors: [{"type":"field","value":"invalid","msg":"Horse ID must be a positive integer","path":"horseId","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/horse/invalid/evolve - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/groom/46524/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /groom/46524/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.getEvolutionTriggersController] Analyzing triggers for groom ID: 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Found owned groom 46524 for user f4bac71a-202b-41ce-a21c-55bfb70e8b10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.calculatePersonalityEvolutionTriggers] Analyzing triggers for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/triggers - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/horse/93893/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/horse/93893/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /horse/93893/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.getEvolutionTriggersController] Analyzing triggers for horse ID: 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Found owned horse 93893 for user f4bac71a-202b-41ce-a21c-55bfb70e8b10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.calculatePersonalityEvolutionTriggers] Analyzing triggers for horse 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/horse/93893/triggers - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/invalid/46524/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/invalid/46524/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /invalid/46524/triggers

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] warn: [personalityEvolutionRoutes] Validation errors: [{"type":"field","value":"invalid","msg":"Entity type must be either \"groom\" or \"horse\"","path":"entityType","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/invalid/46524/triggers - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/groom/46524/stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /groom/46524/stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.getPersonalityStabilityController] Analyzing stability for groom ID: 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Found owned groom 46524 for user f4bac71a-202b-41ce-a21c-55bfb70e8b10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.analyzePersonalityStability] Analyzing stability for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/stability - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/horse/93893/stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/horse/93893/stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /horse/93893/stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.getPersonalityStabilityController] Analyzing stability for horse ID: 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Found owned horse 93893 for user f4bac71a-202b-41ce-a21c-55bfb70e8b10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.analyzePersonalityStability] Analyzing stability for horse 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/horse/93893/stability - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/groom/46524/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /groom/46524/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.predictPersonalityEvolutionController] Predicting evolution for groom ID: 46524 over 30 days

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Found owned groom 46524 for user f4bac71a-202b-41ce-a21c-55bfb70e8b10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.predictPersonalityEvolution] Predicting evolution for groom 46524 over 30 days

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/predict - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/horse/93893/predict?timeframeDays=60

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/horse/93893/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /horse/93893/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.predictPersonalityEvolutionController] Predicting evolution for horse ID: 93893 over 60 days

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Found owned horse 93893 for user f4bac71a-202b-41ce-a21c-55bfb70e8b10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.predictPersonalityEvolution] Predicting evolution for horse 93893 over 60 days

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/horse/93893/predict?timeframeDays=60 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/predict?timeframeDays=500

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/groom/46524/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /groom/46524/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] warn: [personalityEvolutionRoutes] Validation errors: [{"type":"field","value":"500","msg":"Timeframe must be between 1 and 365 days","path":"timeframeDays","location":"query"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/predict?timeframeDays=500 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/groom/46524/history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /groom/46524/history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.getPersonalityEvolutionHistoryController] Getting evolution history for groom ID: 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [ownership] Found owned groom 46524 for user f4bac71a-202b-41ce-a21c-55bfb70e8b10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.getPersonalityEvolutionHistory] Getting history for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/groom/46524/history - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/apply-effects

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/apply-effects

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /apply-effects

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.applyPersonalityEvolutionEffectsController] Applying evolution effects for groom ID: 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.applyPersonalityEvolutionEffects] Applying effects for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/apply-effects - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/apply-effects

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/apply-effects

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /apply-effects

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] warn: [personalityEvolutionRoutes] Validation errors: [{"type":"field","msg":"Entity type must be either \"groom\" or \"horse\"","path":"entityType","location":"body"},{"type":"field","msg":"Invalid evolution type","path":"evolutionType","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/apply-effects - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/batch-evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/batch-evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /batch-evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionController.batchEvolvePersonalitiesController] Processing batch evolution for 2 entities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.evolveGroomPersonality] Starting evolution analysis for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.applyPersonalityEvolutionEffects] Applying effects for groom 46524

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.evolveHorseTemperament] Starting evolution analysis for horse 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [personalityEvolutionSystem.applyPersonalityEvolutionEffects] Applying effects for horse 93893

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/batch-evolve - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/batch-evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /personality-evolution/batch-evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for POST /batch-evolve

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] warn: [personalityEvolutionRoutes] Validation errors: [{"type":"field","value":[],"msg":"Entities must be an array with 1-50 items","path":"entities","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [POST] /api/personality-evolution/batch-evolve - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /personality-evolution/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [auth] Authenticated user f4bac71a-202b-41ce-a21c-55bfb70e8b10 for GET /config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [GET] /api/personality-evolution/config - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/routes/advancedEpigeneticRoutes.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:01] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:01] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:02] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:02] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93894/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93894

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: Environmental analysis generated for horse 93894 by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93894/environmental-analysis - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93894/environmental-forecast?days=30

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/environmental-forecast

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/environmental-forecast

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93894

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: Environmental forecast generated for horse 93894 (30 days) by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93894/environmental-forecast?days=30 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [POST] /api/horses/93894/evaluate-trait-opportunity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for POST /horses/93894/evaluate-trait-opportunity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for POST /horses/93894/evaluate-trait-opportunity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93894

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: Trait opportunity evaluated for horse 93894 (confident in early_socialization) by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [POST] /api/horses/93894/evaluate-trait-opportunity - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93894/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] warn: [auth] Access token is required for GET /horses/93894/environmental-analysis from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93894/environmental-analysis - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93896/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93896/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93896/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] warn: [ownership] horse 93896 not found or not owned by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:02] info: [GET] /api/horses/93896/environmental-analysis - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93895/trait-interactions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93895/trait-interactions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93895/trait-interactions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93895

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: Trait interactions analyzed for horse 93895 by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93895/trait-interactions - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93895/trait-matrix

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93895/trait-matrix

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93895/trait-matrix

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93895

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: Trait interaction matrix generated for horse 93895 by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93895/trait-matrix - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93895/trait-stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93895/trait-stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93895/trait-stability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93895

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: Trait stability analyzed for horse 93895 by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93895/trait-stability - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/developmental-windows

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/developmental-windows

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/developmental-windows

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93894

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: Developmental windows identified for horse 93894 by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/developmental-windows - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/developmental-forecast?days=60

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/developmental-forecast

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/developmental-forecast

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93894

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: Developmental forecast generated for horse 93894 (60 days) by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/developmental-forecast?days=60 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/critical-period-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/critical-period-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/critical-period-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93894

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: Critical period analysis generated for horse 93894 by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/critical-period-analysis - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [POST] /api/horses/93894/coordinate-development

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for POST /horses/93894/coordinate-development

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for POST /horses/93894/coordinate-development

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [ownership] Validated ownership: user a288d1a0-ef04-4003-a0c8-4a0b6664e591 owns horse 93894

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: Development coordination generated for horse 93894 by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [POST] /api/horses/93894/coordinate-development - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [POST] /api/horses/93894/evaluate-trait-opportunity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for POST /horses/93894/evaluate-trait-opportunity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for POST /horses/93894/evaluate-trait-opportunity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [POST] /api/horses/93894/evaluate-trait-opportunity - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/developmental-forecast?days=-5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/developmental-forecast

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/93894/developmental-forecast

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/93894/developmental-forecast?days=-5 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/99999/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/99999/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [auth] Authenticated user a288d1a0-ef04-4003-a0c8-4a0b6664e591 for GET /horses/99999/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] warn: [ownership] horse 99999 not found or not owned by user a288d1a0-ef04-4003-a0c8-4a0b6664e591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [GET] /api/horses/99999/environmental-analysis - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/routes/enhancedReportingRoutes.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:03] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:03] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:04] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:04] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/93899/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93899/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93899/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [ownership] Validated ownership: user 258daec1-38fa-4663-9332-8186cdc9930c owns horse 93899

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: Enhanced trait history generated for horse 93899 by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/93899/enhanced-trait-history - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/93898/epigenetic-insights

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93898/epigenetic-insights

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93898/epigenetic-insights

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [ownership] Validated ownership: user 258daec1-38fa-4663-9332-8186cdc9930c owns horse 93898

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: Epigenetic insights generated for horse 93898 by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/93898/epigenetic-insights - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/93899/trait-timeline

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93899/trait-timeline

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93899/trait-timeline

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [ownership] Validated ownership: user 258daec1-38fa-4663-9332-8186cdc9930c owns horse 93899

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: Trait timeline generated for horse 93899 by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/93899/trait-timeline - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/users/258daec1-38fa-4663-9332-8186cdc9930c/stable-epigenetic-report

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /users/258daec1-38fa-4663-9332-8186cdc9930c/stable-epigenetic-report

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /users/258daec1-38fa-4663-9332-8186cdc9930c/stable-epigenetic-report

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: Stable epigenetic report generated for user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/users/258daec1-38fa-4663-9332-8186cdc9930c/stable-epigenetic-report - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [POST] /api/horses/compare-epigenetics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for POST /horses/compare-epigenetics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for POST /horses/compare-epigenetics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: Horse comparison generated for 3 horses by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [POST] /api/horses/compare-epigenetics - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/trait-trends?userId=258daec1-38fa-4663-9332-8186cdc9930c&timeframe=30

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/trait-trends

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /trait-trends

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: Trait trends analyzed for user 258daec1-38fa-4663-9332-8186cdc9930c (30 days)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:04] info: [GET] /api/horses/trait-trends?userId=258daec1-38fa-4663-9332-8186cdc9930c&timeframe=30 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93899/enhanced-trait-history?traitType=positive&discoveryMethod=milestone_evaluation&dateFrom=2025-12-18T04%3A12%3A05.002Z&dateTo=2025-12-28T04%3A12%3A05.002Z

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93899/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93899/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [ownership] Validated ownership: user 258daec1-38fa-4663-9332-8186cdc9930c owns horse 93899

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: Enhanced trait history generated for horse 93899 by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93899/enhanced-trait-history?traitType=positive&discoveryMethod=milestone_evaluation&dateFrom=2025-12-18T04%3A12%3A05.002Z&dateTo=2025-12-28T04%3A12%3A05.002Z - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93898/epigenetic-report-export?format=detailed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93898/epigenetic-report-export

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93898/epigenetic-report-export

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [ownership] Validated ownership: user 258daec1-38fa-4663-9332-8186cdc9930c owns horse 93898

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: Epigenetic report export generated for horse 93898 (detailed) by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93898/epigenetic-report-export?format=detailed - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93897/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] warn: [auth] Access token is required for GET /horses/93897/enhanced-trait-history from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93897/enhanced-trait-history - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93900/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93900/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/93900/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] warn: [ownership] horse 93900 not found or not owned by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/93900/enhanced-trait-history - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [POST] /api/horses/compare-epigenetics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for POST /horses/compare-epigenetics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for POST /horses/compare-epigenetics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [POST] /api/horses/compare-epigenetics - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/99999/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/99999/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [auth] Authenticated user 258daec1-38fa-4663-9332-8186cdc9930c for GET /horses/99999/enhanced-trait-history

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] warn: [ownership] horse 99999 not found or not owned by user 258daec1-38fa-4663-9332-8186cdc9930c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [GET] /api/horses/99999/enhanced-trait-history - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/enhancedGroomInteractions.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:05] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:05] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:05] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:06] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /grooms/enhanced/interactions/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /interactions/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Validated ownership: user f879565b-c75d-45dc-aede-9f50c58c63cc owns groom 46527

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Validated ownership: user f879565b-c75d-45dc-aede-9f50c58c63cc owns horse 93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Getting enhanced interactions for groom 46527 and horse 93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/93901 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/99999/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /grooms/enhanced/interactions/99999/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /interactions/99999/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [ownership] groom 99999 not found or not owned by user f879565b-c75d-45dc-aede-9f50c58c63cc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/99999/93901 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /grooms/enhanced/interactions/46527/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /interactions/46527/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Validated ownership: user f879565b-c75d-45dc-aede-9f50c58c63cc owns groom 46527

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [ownership] horse 99999 not found or not owned by user f879565b-c75d-45dc-aede-9f50c58c63cc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/99999 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Performing enhanced daily_care interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Found owned groom 46527 for user f879565b-c75d-45dc-aede-9f50c58c63cc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomInteractions] Calculated effects: +5 bonding, -2 stress, quality: fair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Enhanced interaction completed: +5 bonding, -2 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Performing enhanced enrichment interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Found owned groom 46527 for user f879565b-c75d-45dc-aede-9f50c58c63cc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomInteractions] Calculated effects: +11 bonding, -5 stress, quality: excellent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Enhanced interaction completed: +11 bonding, -5 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Performing enhanced bonding_time interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Found owned groom 46527 for user f879565b-c75d-45dc-aede-9f50c58c63cc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomInteractions] Calculated effects: +8 bonding, -3 stress, quality: good

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Enhanced interaction completed: +8 bonding, -3 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Performing enhanced bonding_time interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [enhancedGroomRoutes] Validation errors: [{"type":"field","msg":"Invalid value","path":"interactionType","location":"body"},{"type":"field","msg":"Interaction type must be a non-empty string (max 50 characters)","path":"interactionType","location":"body"},{"type":"field","msg":"Invalid value","path":"variation","location":"body"},{"type":"field","msg":"Variation must be a non-empty string (max 100 characters)","path":"variation","location":"body"},{"type":"field","msg":"Duration must be between 5 and 180 minutes","path":"duration","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [enhancedGroomController] Performing enhanced invalid_type interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for POST /interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [enhancedGroomRoutes] Validation errors: [{"type":"field","value":200,"msg":"Duration must be between 5 and 180 minutes","path":"duration","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [POST] /api/grooms/enhanced/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/relationship/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /grooms/enhanced/relationship/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /relationship/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Validated ownership: user f879565b-c75d-45dc-aede-9f50c58c63cc owns groom 46527

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [ownership] Validated ownership: user f879565b-c75d-45dc-aede-9f50c58c63cc owns horse 93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/relationship/46527/93901 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/types

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /grooms/enhanced/interactions/types

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user f879565b-c75d-45dc-aede-9f50c58c63cc for GET /interactions/types

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/types - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [auth] Access token is required for GET /grooms/enhanced/interactions/46527/93901 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/93901 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [auth] Access token is required for GET /grooms/enhanced/interact from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interact - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/relationship/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [auth] Access token is required for GET /grooms/enhanced/relationship/46527/93901 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/relationship/46527/93901 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/types

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [auth] Access token is required for GET /grooms/enhanced/interactions/types from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/types - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user c367b603-2d25-45cd-b687-91b703c9204e for GET /grooms/enhanced/interactions/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [auth] Authenticated user c367b603-2d25-45cd-b687-91b703c9204e for GET /interactions/46527/93901

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] warn: [ownership] groom 46527 not found or not owned by user c367b603-2d25-45cd-b687-91b703c9204e

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:06] info: [GET] /api/grooms/enhanced/interactions/46527/93901 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/groomHandlerSystem.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:07] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:07] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:07] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /groom-handlers/horse/93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /horse/93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [ownership] Validated ownership: user 71c68db5-4e54-47f6-8423-1a26239ae359 owns horse 93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerController] Getting handler for horse 93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93904 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93905

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /groom-handlers/horse/93905

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /horse/93905

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [ownership] Validated ownership: user 71c68db5-4e54-47f6-8423-1a26239ae359 owns horse 93905

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerController] Getting handler for horse 93905

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93905 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93906

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /groom-handlers/horse/93906

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /horse/93906

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] warn: [ownership] horse 93906 not found or not owned by user 71c68db5-4e54-47f6-8423-1a26239ae359

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93906 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/eligibility/93904/Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /groom-handlers/eligibility/93904/Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /eligibility/93904/Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [ownership] Validated ownership: user 71c68db5-4e54-47f6-8423-1a26239ae359 owns horse 93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerController] Checking handler eligibility for horse 93904 in conformation class Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerService] Conformation show detected: Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/eligibility/93904/Mares - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/eligibility/93904/InvalidClass

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /groom-handlers/eligibility/93904/InvalidClass

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /eligibility/93904/InvalidClass

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [ownership] Validated ownership: user 71c68db5-4e54-47f6-8423-1a26239ae359 owns horse 93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerController] Checking handler eligibility for horse 93904 in conformation class InvalidClass

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/eligibility/93904/InvalidClass - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /groom-handlers/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerController] Getting handler configuration

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/config - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/recommendations/93904?className=Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /groom-handlers/recommendations/93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [auth] Authenticated user 71c68db5-4e54-47f6-8423-1a26239ae359 for GET /recommendations/93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [ownership] Validated ownership: user 71c68db5-4e54-47f6-8423-1a26239ae359 owns horse 93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerController] Getting handler recommendations for horse 93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerService] Conformation show detected: Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerService] Conformation show detected: Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [groomHandlerService] Conformation show detected: Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/recommendations/93904?className=Mares - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] warn: [auth] Access token is required for GET /groom-handlers/horse/93904 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/horse/93904 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/eligibility/93904/Mares

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] warn: [auth] Access token is required for GET /groom-handlers/eligibility/93904/Mares from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:07] info: [GET] /api/groom-handlers/eligibility/93904/Mares - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [GET] /api/groom-handlers/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] warn: [auth] Access token is required for GET /groom-handlers/config from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [GET] /api/groom-handlers/config - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [GET] /api/groom-handlers/recommendations/93904

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] warn: [auth] Access token is required for GET /groom-handlers/recommendations/93904 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [GET] /api/groom-handlers/recommendations/93904 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/controllers/dynamicCompatibilityController.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:08] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:08] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:08] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:08] info: [POST] /api/compatibility/calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /compatibility/calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.calculateCompatibility] Calculating compatibility for groom 46531 and horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned groom 46531 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned horse 93907 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.calculateCompatibility] Compatibility calculated: 1.381 (highly_recommended)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/calculate - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /compatibility/calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.calculateCompatibility] Calculating compatibility for groom 46532 and horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned groom 46532 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned horse 93907 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.calculateCompatibility] Compatibility calculated: 0.340 (not_recommended)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/calculate - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /compatibility/calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/calculate - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/calculate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] warn: [auth] Access token is required for POST /compatibility/calculate from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/calculate - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/factors/46531/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /compatibility/factors/46531/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /factors/46531/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Validated ownership: user cfcb788d-d43b-4797-847e-6d76a4acbe62 owns groom 46531

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Validated ownership: user cfcb788d-d43b-4797-847e-6d76a4acbe62 owns horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.getCompatibilityFactors] Analyzing factors for groom 46531 and horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.getCompatibilityFactors] Factors analyzed: excellent compatibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/factors/46531/93907 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/factors/invalid/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /compatibility/factors/invalid/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /factors/invalid/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/factors/invalid/93907 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /compatibility/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.predictOutcome] Predicting outcome for groom 46531 and horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned groom 46531 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned horse 93907 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.predictOutcome] Outcome predicted: excellent quality, 0.95 success probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/predict - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /compatibility/predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /predict

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.predictOutcome] Predicting outcome for groom 46532 and horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned groom 46532 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned horse 93907 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.predictOutcome] Outcome predicted: fair quality, 0.52 success probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/predict - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/recommendations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /compatibility/recommendations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for POST /recommendations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.getRecommendations] Getting recommendations for horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Found owned horse 93907 for user cfcb788d-d43b-4797-847e-6d76a4acbe62

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.getRecommendations] Found 3 groom recommendations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [POST] /api/compatibility/recommendations - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/trends/46531/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /compatibility/trends/46531/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /trends/46531/93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Validated ownership: user cfcb788d-d43b-4797-847e-6d76a4acbe62 owns groom 46531

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [ownership] Validated ownership: user cfcb788d-d43b-4797-847e-6d76a4acbe62 owns horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.getCompatibilityTrends] Analyzing trends for groom 46531 and horse 93907

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.getCompatibilityTrends] Trends analyzed: insufficient_data trend with 0 data points

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/trends/46531/93907 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /compatibility/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [auth] Authenticated user cfcb788d-d43b-4797-847e-6d76a4acbe62 for GET /config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [dynamicCompatibilityController.getCompatibilityConfig] Getting compatibility system configuration

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [GET] /api/compatibility/config - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

FAIL tests/groomBonusTraits.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:09] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:09] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:10] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:10] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.assignBonusTraits] Assigning bonus traits to groom 46534

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.assignBonusTraits] Successfully assigned bonus traits to groom 46534

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.assignBonusTraits] Assigning bonus traits to groom 46535

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] error: [groomBonusTraitService.assignBonusTraits] Error assigning bonus traits to groom 46535: Bonus trait constraints violated: Maximum 3 bonus traits allowed, got 4, Bonus for trait 'trait1' must be between 0 and 0.3 (30%)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Getting bonus traits for groom 46536

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Retrieved bonus traits for groom 46536

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [traitAssignmentLogic.calculateTraitProbabilityWithBonus] Calculating probability for trait 'sensitive' on horse 93913

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Getting bonus traits for groom 46537

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Retrieved bonus traits for groom 46537

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.checkBonusEligibility] Checking bonus eligibility for horse 93913 and groom 46537

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.checkBonusEligibility] Eligibility check complete for horse 93913 and groom 46537: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [traitAssignmentLogic.calculateTraitProbabilityWithBonus] Applied 20% bonus to trait 'sensitive' for horse 93913

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [traitAssignmentLogic.calculateTraitProbabilityWithBonus] Calculating probability for trait 'sensitive' on horse 93914

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Getting bonus traits for groom 46538

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Retrieved bonus traits for groom 46538

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.checkBonusEligibility] Checking bonus eligibility for horse 93914 and groom 46538

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.checkBonusEligibility] Eligibility check complete for horse 93914 and groom 46538: false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [traitAssignmentLogic.calculateTraitProbabilityWithBonus] Groom 46538 not eligible for bonus: Bond score too low

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [traitAssignmentLogic.calculateTraitProbabilityWithBonus] Calculating probability for trait 'sensitive' on horse 93915

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Getting bonus traits for groom 46539

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Retrieved bonus traits for groom 46539

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.checkBonusEligibility] Checking bonus eligibility for horse 93915 and groom 46539

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.checkBonusEligibility] Eligibility check complete for horse 93915 and groom 46539: false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [traitAssignmentLogic.calculateTraitProbabilityWithBonus] Groom 46539 not eligible for bonus: Insufficient assignment coverage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [GET] /api/grooms/46540/bonus-traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [auth] Authenticated user 0f161c23-dc1f-455d-8c6a-e14263b965e2 for GET /grooms/46540/bonus-traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [ownership] Validated ownership: user 0f161c23-dc1f-455d-8c6a-e14263b965e2 owns groom 46540

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomController.getGroomBonusTraits] Getting bonus traits for groom 46540

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Getting bonus traits for groom 46540

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.getBonusTraits] Retrieved bonus traits for groom 46540

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [GET] /api/grooms/46540/bonus-traits - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [PUT] /api/grooms/46541/bonus-traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [auth] Authenticated user 86570c3d-455f-4e22-b1e5-2efce9f9ff0f for PUT /grooms/46541/bonus-traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [ownership] Validated ownership: user 86570c3d-455f-4e22-b1e5-2efce9f9ff0f owns groom 46541

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomController.updateGroomBonusTraits] Updating bonus traits for groom 46541

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.assignBonusTraits] Assigning bonus traits to groom 46541

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.assignBonusTraits] Successfully assigned bonus traits to groom 46541

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [PUT] /api/grooms/46541/bonus-traits - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [PUT] /api/grooms/46542/bonus-traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [auth] Authenticated user 04037b43-5295-4346-93cb-b6fb081135d0 for PUT /grooms/46542/bonus-traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [ownership] Validated ownership: user 04037b43-5295-4346-93cb-b6fb081135d0 owns groom 46542

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomController.updateGroomBonusTraits] Updating bonus traits for groom 46542

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [groomBonusTraitService.assignBonusTraits] Assigning bonus traits to groom 46542

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] error: [groomBonusTraitService.assignBonusTraits] Error assigning bonus traits to groom 46542: Bonus trait constraints violated: Bonus for trait 'trait1' must be between 0 and 0.3 (30%)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:10] error: [groomController.updateGroomBonusTraits] Error: Bonus trait constraints violated: Bonus for trait 'trait1' must be between 0 and 0.3 (30%)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:10] info: [PUT] /api/grooms/46542/bonus-traits - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [GET] /api/grooms/46543/bonus-traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] warn: [auth] Access token is required for GET /grooms/46543/bonus-traits from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:10] info: [GET] /api/grooms/46543/bonus-traits - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— Groom Bonus Traits System â€º Trait Assignment Logic Integration â€º should not apply bonus when coverage is insufficient

    expect(received).toBe(expected) // Object.is equality

    Expected: "Bond score too low"
    Received: "Insufficient assignment coverage"

    [0m [90m 302 |[39m       expect(result[33m.[39mfinalProbability)[33m.[39mtoBe([35m0.1[39m)[33m;[39m [90m// No bonus applied[39m
     [90m 303 |[39m       expect(result[33m.[39mbonusApplied)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 304 |[39m       expect(result[33m.[39mreason)[33m.[39mtoBe([32m'Bond score too low'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 305 |[39m     })[33m;[39m
     [90m 306 |[39m   })[33m;[39m
     [90m 307 |[39m[0m

      at Object.<anonymous> (tests/groomBonusTraits.test.mjs:304:29)

PASS tests/foalEnrichmentIntegration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:11] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:11] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: Trailer Exposure

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Trailer Exposure" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 55, Stress: 20 -> 26

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [traitDiscovery.revealTraits] Found 0 hidden traits for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [traitDiscovery.revealTraits] No hidden traits to reveal for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: Halter Introduction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Halter Introduction" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 55, Stress: 20 -> 26

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/99999/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] warn: [ownership] foal 99999 not found or not owned by user test-user-id

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/99999/enrichment - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 0, Activity: Trailer Exposure

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Trailer Exposure" for foal 1 on day 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] error: [foalModel.completeEnrichmentActivity] Error: Activity "Trailer Exposure" is not appropriate for day 0. Available activities: Gentle Touch, Quiet Presence, Soft Voice

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:11] error: [foalRoutes] POST /api/foals/:foalId/enrichment error: Activity "Trailer Exposure" is not appropriate for day 0. Available activities: Gentle Touch, Quiet Presence, Soft Voice

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: leading_practice

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "leading_practice" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 56, Stress: 20 -> 23

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: Leading Practice

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Leading Practice" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 56, Stress: 20 -> 23

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: HANDLING EXERCISES

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "HANDLING EXERCISES" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 54, Stress: 20 -> 23

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: Halter Introduction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Halter Introduction" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 57, Stress: 20 -> 25

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: Leading Practice

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Leading Practice" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 56, Stress: 20 -> 23

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: Handling Exercises

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Handling Exercises" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 57, Stress: 20 -> 22

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 3, Activity: Trailer Exposure

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Trailer Exposure" for foal 1 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 52, Stress: 20 -> 23

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/1/enrichment - Day 1, Activity: Feeding Assistance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Feeding Assistance" for foal 1 on day 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 50 -> 57, Stress: 20 -> 20

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/1/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/999/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalRoutes] POST /api/foals/999/enrichment - Day 3, Activity: Trailer Exposure

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Trailer Exposure" for foal 999 on day 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 95 -> 98, Stress: 5 -> 12

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [POST] /api/foals/999/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:11] error: [traitDiscovery.revealTraits] Error revealing traits for horse 999: Horse with ID 999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:11] error: [traitDiscoveryMiddleware.triggerAutoDiscovery] Error during auto-discovery for horse 999: Horse with ID 999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

FAIL tests/integration/horseBreedingWorkflow.integration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:12] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:12] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:12] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:12] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:12] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:12] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:12] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:12] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:12] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: integration-test@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=d48d3365dda818ada16fca7683a1b6362b0c00de7f78ad297865b0d99c5b1424

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:13] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [applyEpigeneticTraitsAtBirth] Starting trait assignment at birth

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [applyEpigeneticTraitsAtBirth] Mare stress: 20, Feed quality: 85

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [applyEpigeneticTraitsAtBirth] Applied resilient trait (low stress + premium feed)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [applyEpigeneticTraitsAtBirth] Applied peopleTrusting trait (low stress + premium feed)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [applyEpigeneticTraitsAtBirth] Final traits assigned: {"positive":["resilient","peopleTrusting"],"negative":[]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] warn: [groomSystem.ensureDefaultGroomAssignment] DEPRECATED: Auto-assignment disabled for foal 93922. Players must manually assign grooms.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [foalModel.getFoalDevelopment] Getting development data for foal 93922

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [foalModel.getFoalDevelopment] Retrieved development data for foal 93922

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— ðŸŽ INTEGRATION: Complete Horse Breeding Workflow â€º ðŸ‘¥ STEP 4: Groom Assignment & Care â€º should assign specialized foal care groom to newborn

    expect(received).toBe(expected) // Object.is equality

    Expected: "foal_care"
    Received: "foalCare"

    [0m [90m 286 |[39m
     [90m 287 |[39m       expect(dbAssignment)[33m.[39mtoBeTruthy()[33m;[39m
    [31m[1m>[22m[39m[90m 288 |[39m       expect(dbAssignment[33m.[39mgroom[33m.[39mspeciality)[33m.[39mtoBe([32m'foal_care'[39m)[33m;[39m
     [90m     |[39m                                             [31m[1m^[22m[39m
     [90m 289 |[39m
     [90m 290 |[39m       assignedGroom [33m=[39m dbAssignment[33m.[39mgroom[33m;[39m
     [90m 291 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (tests/integration/horseBreedingWorkflow.integration.test.mjs:288:45)

  â— ðŸŽ INTEGRATION: Complete Horse Breeding Workflow â€º ðŸ‘¥ STEP 4: Groom Assignment & Care â€º should record groom interaction with foal

    TypeError: Cannot read properties of undefined (reading 'id')

    [0m [90m 297 |[39m       [36mconst[39m interactionData [33m=[39m {
     [90m 298 |[39m         foalId[33m:[39m foal[33m.[39mid[33m,[39m
    [31m[1m>[22m[39m[90m 299 |[39m         groomId[33m:[39m assignedGroom[33m.[39mid[33m,[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 300 |[39m         interactionType[33m:[39m [32m'daily_care'[39m[33m,[39m
     [90m 301 |[39m         duration[33m:[39m [35m60[39m[33m,[39m [90m// 1 hour[39m
     [90m 302 |[39m         notes[33m:[39m [32m'Initial care for newborn foal'[39m[33m,[39m[0m

      at Object.<anonymous> (tests/integration/horseBreedingWorkflow.integration.test.mjs:299:32)

  â— ðŸŽ INTEGRATION: Complete Horse Breeding Workflow â€º ðŸŽ¯ STEP 6: End-to-End Workflow Validation â€º should validate complete breeding workflow integrity

    expect(received).toBe(expected) // Object.is equality

    Expected: "foal_care"
    Received: "foalCare"

    [0m [90m 371 |[39m       [90m// Groom care system[39m
     [90m 372 |[39m       expect(foalWithFamily[33m.[39mgroomAssignments)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 373 |[39m       expect(foalWithFamily[33m.[39mgroomAssignments[[35m0[39m][33m.[39mgroom[33m.[39mspeciality)[33m.[39mtoBe([32m'foal_care'[39m)[33m;[39m
     [90m     |[39m                                                                   [31m[1m^[22m[39m
     [90m 374 |[39m       expect(foalWithFamily[33m.[39mgroomInteractions)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m 375 |[39m
     [90m 376 |[39m       [90m// Development tracking[39m[0m

      at Object.<anonymous> (tests/integration/horseBreedingWorkflow.integration.test.mjs:373:67)

  â— ðŸŽ INTEGRATION: Complete Horse Breeding Workflow â€º ðŸŽ¯ STEP 6: End-to-End Workflow Validation â€º should validate business rules are enforced throughout workflow

    TypeError: Cannot read properties of undefined (reading 'speciality')

    [0m [90m 397 |[39m
     [90m 398 |[39m       [90m// Groom specialization rules[39m
    [31m[1m>[22m[39m[90m 399 |[39m       expect(assignedGroom[33m.[39mspeciality)[33m.[39mtoBe([32m'foal_care'[39m)[33m;[39m [90m// Correct specialty for foal[39m
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 400 |[39m
     [90m 401 |[39m       [90m// Data integrity[39m
     [90m 402 |[39m       expect(foal[33m.[39msireId)[33m.[39mtoBe(stallion[33m.[39mid)[33m;[39m[0m

      at Object.<anonymous> (tests/integration/horseBreedingWorkflow.integration.test.mjs:399:28)

FAIL tests/training-updated.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:13] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:13] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:14] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:14] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [auth] Authenticated user 00000000-0000-0000-0000-000000000001 for GET /horses/trainable/00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [trainingController.getTrainableHorses] Getting trainable horses for user 00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] warn: [trainingController.getTrainableHorses] User 00000000-0000-0000-0000-000000000001 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [auth] Authenticated user 00000000-0000-0000-0000-000000000001 for GET /horses/trainable/00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [trainingController.getTrainableHorses] Getting trainable horses for user 00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] warn: [trainingController.getTrainableHorses] User 00000000-0000-0000-0000-000000000001 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [auth] Authenticated user 00000000-0000-0000-0000-000000000001 for GET /horses/trainable/00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [trainingController.getTrainableHorses] Getting trainable horses for user 00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] warn: [trainingController.getTrainableHorses] User 00000000-0000-0000-0000-000000000001 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/training/status/1/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [auth] Authenticated user 00000000-0000-0000-0000-000000000001 for GET /training/status/1/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] warn: [ownership] horse 1 not found or not owned by user 00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/training/status/1/Racing - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/training/status/1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [auth] Authenticated user 00000000-0000-0000-0000-000000000001 for GET /training/status/1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] warn: [ownership] horse 1 not found or not owned by user 00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/training/status/1 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [trainingController.getTrainableHorses] Getting trainable horses for user 00000000-0000-0000-0000-000000000001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] warn: [trainingController.getTrainableHorses] User 00000000-0000-0000-0000-000000000001 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [GET] /api/horses/trainable/00000000-0000-0000-0000-000000000001 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] warn: [ownership] horse 1 not found or not owned by user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [POST] /api/training/train - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [auth] Authenticated user 00000000-0000-0000-0000-000000000001 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [POST] /api/training/train - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [auth] Authenticated user 00000000-0000-0000-0000-000000000001 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:14] info: [POST] /api/training/train - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— ðŸ‹ï¸ INTEGRATION: Training System Updated - User Model Integration â€º Training Status Tests â€º should get training status for a specific horse and discipline

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 163 |[39m         [33m.[39m[36mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer ${authToken}`[39m)[33m;[39m [90m// Ensure auth token is sent[39m
     [90m 164 |[39m
    [31m[1m>[22m[39m[90m 165 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 166 |[39m       expect(response[33m.[39mbody[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 167 |[39m       expect(response[33m.[39mbody[33m.[39mdata)[33m.[39mtoHaveProperty([32m'eligible'[39m)[33m;[39m
     [90m 168 |[39m       expect(response[33m.[39mbody[33m.[39mdata)[33m.[39mtoHaveProperty([32m'reason'[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/training-updated.test.mjs:165:31)

  â— ðŸ‹ï¸ INTEGRATION: Training System Updated - User Model Integration â€º Training Status Tests â€º should get all training status for a horse

    expect(received).toBe(expected) // Object.is equality

    Expected: 200
    Received: 404

    [0m [90m 180 |[39m         [33m.[39m[36mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer ${authToken}`[39m)[33m;[39m [90m// Ensure auth token is sent[39m
     [90m 181 |[39m
    [31m[1m>[22m[39m[90m 182 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m200[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 183 |[39m       expect(response[33m.[39mbody[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m 184 |[39m       expect([36mtypeof[39m response[33m.[39mbody[33m.[39mdata)[33m.[39mtoBe([32m'object'[39m)[33m;[39m [90m// Fixed: API returns object with discipline keys, not array[39m
     [90m 185 |[39m       expect(response[33m.[39mbody[33m.[39mdata)[33m.[39mtoHaveProperty([32m'Racing'[39m)[33m;[39m [90m// Fixed: Check for discipline properties[39m[0m

      at Object.<anonymous> (tests/training-updated.test.mjs:182:31)

  â— ðŸ‹ï¸ INTEGRATION: Training System Updated - User Model Integration â€º Error Handling Tests â€º should handle invalid horse ID gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 403

    [0m [90m 217 |[39m       })[33m;[39m
     [90m 218 |[39m
    [31m[1m>[22m[39m[90m 219 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m404[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 220 |[39m       expect(response[33m.[39mbody[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 221 |[39m       expect(response[33m.[39mbody[33m.[39mmessage)[33m.[39mtoContain([32m'not found'[39m)[33m;[39m
     [90m 222 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (tests/training-updated.test.mjs:219:31)

  â— ðŸ‹ï¸ INTEGRATION: Training System Updated - User Model Integration â€º Error Handling Tests â€º should handle invalid discipline gracefully

    expect(received).toBe(expected) // Object.is equality

    Expected: 404
    Received: 403

    [0m [90m 228 |[39m       })[33m;[39m
     [90m 229 |[39m
    [31m[1m>[22m[39m[90m 230 |[39m       expect(response[33m.[39mstatus)[33m.[39mtoBe([35m404[39m)[33m;[39m [90m// Ownership fails before discipline validation in test mode[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 231 |[39m       expect(response[33m.[39mbody[33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 232 |[39m     })[33m;[39m
     [90m 233 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (tests/training-updated.test.mjs:230:31)

PASS tests/ultraRareTraits.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:15] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:15] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:15] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [ultraRareTriggerEngine] Evaluating ultra-rare triggers for horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [ultraRareTriggerEngine] Ultra-rare trait triggered: Empathic Mirror for horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [ultraRareTriggerEngine] Evaluating exotic unlocks for horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] error: [ultraRareTriggerEngine] Error evaluating Soulbonded conditions: Cannot read properties of undefined (reading 'map')

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:15] info: [groomRareTraitPerks] Assigning rare trait booster perks for groom 46545

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [groomRareTraitPerks] Assigned perk: Phoenix Whisperer to groom 46545

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [groomRareTraitPerks] Perk revealed: Phoenix Whisperer for groom 46545

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [GET] /api/ultra-rare-traits/definitions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [GET] /api/ultra-rare-traits/definitions - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [POST] /api/ultra-rare-traits/evaluate/93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [auth] Authenticated user test-ultra-rare-user for POST /ultra-rare-traits/evaluate/93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:15] info: [auth] Authenticated user test-ultra-rare-user for POST /evaluate/93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [ownership] Validated ownership: user test-ultra-rare-user owns horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [ultraRareTriggerEngine] Evaluating ultra-rare triggers for horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [ultraRareTriggerEngine] Ultra-rare trait triggered: Empathic Mirror for horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [ultraRareTriggerEngine] Evaluating exotic unlocks for horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] error: [ultraRareTriggerEngine] Error evaluating Soulbonded conditions: Cannot read properties of undefined (reading 'map')

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:16] info: [POST] /api/ultra-rare-traits/evaluate/93923 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [GET] /api/ultra-rare-traits/horse/93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [auth] Authenticated user test-ultra-rare-user for GET /ultra-rare-traits/horse/93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [auth] Authenticated user test-ultra-rare-user for GET /horse/93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [ownership] Validated ownership: user test-ultra-rare-user owns horse 93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [GET] /api/ultra-rare-traits/horse/93923 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [POST] /api/ultra-rare-traits/groom/46545/assign-perks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [auth] Authenticated user test-ultra-rare-user for POST /ultra-rare-traits/groom/46545/assign-perks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [auth] Authenticated user test-ultra-rare-user for POST /groom/46545/assign-perks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [ownership] Validated ownership: user test-ultra-rare-user owns groom 46545

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [groomRareTraitPerks] Assigning rare trait booster perks for groom 46545

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [POST] /api/ultra-rare-traits/groom/46545/assign-perks - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [GET] /api/ultra-rare-traits/horse/93923

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [auth] Access token is required for GET /ultra-rare-traits/horse/93923 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [GET] /api/ultra-rare-traits/horse/93923 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [GET] /api/ultra-rare-traits/horse/93924

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [auth] Authenticated user test-ultra-rare-user for GET /ultra-rare-traits/horse/93924

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [auth] Authenticated user test-ultra-rare-user for GET /horse/93924

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [ownership] horse 93924 not found or not owned by user test-ultra-rare-user

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [GET] /api/ultra-rare-traits/horse/93924 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

FAIL tests/trainingController.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:16] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 999 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] error: [trainingController.canTrain] Error checking training eligibility: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:16] error: [trainingController.canTrain] Error checking training eligibility: Discipline is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:16] error: [trainingController.canTrain] Error checking training eligibility: Horse ID is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Getting training status for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] No training records found for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 1 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] No training records found for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Training status retrieved for horse 1: eligible=false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Getting training status for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] No training records found for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 1 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] No training records found for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Training status retrieved for horse 1: eligible=false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Getting training status for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] No training records found for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 1 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] No training records found for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Training status retrieved for horse 1: eligible=false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Getting training status for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] No training records found for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 1 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] No training records found for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Training status retrieved for horse 1: eligible=false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Getting training status for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getLastTrainingDate] No training records found for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 1 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getAnyRecentTraining] No training records found for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainingStatus] Training status retrieved for horse 1: eligible=false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainableHorses] Getting trainable horses for user test-player-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.getTrainableHorses] User test-player-123 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainableHorses] Getting trainable horses for user test-player-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.getTrainableHorses] User test-player-123 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainableHorses] Getting trainable horses for user non-existent-player

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.getTrainableHorses] User non-existent-player not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainableHorses] Getting trainable horses for user test-player-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.getTrainableHorses] User test-player-123 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainableHorses] Getting trainable horses for user test-player-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.getTrainableHorses] User test-player-123 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainableHorses] Getting trainable horses for user test-player-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.getTrainableHorses] User test-player-123 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] error: [trainingController.getTrainableHorses] Error getting trainable horses: User ID is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:16] error: [trainingController.getTrainableHorses] Error getting trainable horses: User ID is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.getTrainableHorses] Getting trainable horses for user test-player-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.getTrainableHorses] User test-player-123 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainRouteHandler] Training request for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainRouteHandler] Training request for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainRouteHandler] Training request for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainRouteHandler] Training request for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainRouteHandler] Training request for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainRouteHandler] Training request for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.trainHorse] Attempting to train horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingController.canTrain] Checking training eligibility for horse 1 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Getting age for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] info: [trainingModel.getHorseAge] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.canTrain] Horse 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:16] warn: [trainingController.trainHorse] Training rejected: Horse not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º canTrain â€º should return eligible true for horse that meets all requirements

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
    -   "eligible": true,
    -   "reason": null,
    +   "eligible": false,
    +   "reason": "Horse not found",
      }

    [0m [90m  97 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m canTrain([35m1[39m[33m,[39m [32m'Dressage'[39m)[33m;[39m
     [90m  98 |[39m
    [31m[1m>[22m[39m[90m  99 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 100 |[39m         eligible[33m:[39m [36mtrue[39m[33m,[39m
     [90m 101 |[39m         reason[33m:[39m [36mnull[39m[33m,[39m
     [90m 102 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:99:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º canTrain â€º should return eligible false for horse under 3 years old

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Object {
        "eligible": false,
    -   "reason": "Horse is under age",
    +   "reason": "Horse not found",
      }

    [0m [90m 110 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m canTrain([35m1[39m[33m,[39m [32m'Dressage'[39m)[33m;[39m
     [90m 111 |[39m
    [31m[1m>[22m[39m[90m 112 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 113 |[39m         eligible[33m:[39m [36mfalse[39m[33m,[39m
     [90m 114 |[39m         reason[33m:[39m [32m'Horse is under age'[39m[33m,[39m
     [90m 115 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:112:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º canTrain â€º should return eligible false for horse with recent training in any discipline

    expect(received).toEqual(expected) // deep equality

    - Expected  - 1
    + Received  + 1

      Object {
        "eligible": false,
    -   "reason": "Training cooldown active for this horse",
    +   "reason": "Horse not found",
      }

    [0m [90m 126 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m canTrain([35m1[39m[33m,[39m [32m'Dressage'[39m)[33m;[39m
     [90m 127 |[39m
    [31m[1m>[22m[39m[90m 128 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 129 |[39m         eligible[33m:[39m [36mfalse[39m[33m,[39m
     [90m 130 |[39m         reason[33m:[39m [32m'Training cooldown active for this horse'[39m[33m,[39m
     [90m 131 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:128:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º canTrain â€º should return eligible true for horse with old training (8+ days ago)

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
    -   "eligible": true,
    -   "reason": null,
    +   "eligible": false,
    +   "reason": "Horse not found",
      }

    [0m [90m 142 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m canTrain([35m1[39m[33m,[39m [32m'Dressage'[39m)[33m;[39m
     [90m 143 |[39m
    [31m[1m>[22m[39m[90m 144 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 145 |[39m         eligible[33m:[39m [36mtrue[39m[33m,[39m
     [90m 146 |[39m         reason[33m:[39m [36mnull[39m[33m,[39m
     [90m 147 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:144:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º canTrain â€º should return eligible false for non-existent horse

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: 999

    Number of calls: 0

    [0m [90m 159 |[39m         reason[33m:[39m [32m'Horse not found'[39m[33m,[39m
     [90m 160 |[39m       })[33m;[39m
    [31m[1m>[22m[39m[90m 161 |[39m       expect(mockGetHorseAge)[33m.[39mtoHaveBeenCalledWith([35m999[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 162 |[39m       expect(mockGetAnyRecentTraining)[33m.[39mnot[33m.[39mtoHaveBeenCalled()[33m;[39m
     [90m 163 |[39m     })[33m;[39m
     [90m 164 |[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:161:31)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º canTrain â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"eligible": false, "reason": "Horse not found"}

    [0m [90m 178 |[39m       mockGetHorseAge[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database connection failed'[39m))[33m;[39m
     [90m 179 |[39m
    [31m[1m>[22m[39m[90m 180 |[39m       [36mawait[39m expect(canTrain([35m1[39m[33m,[39m [32m'Dressage'[39m))[33m.[39mrejects[33m.[39mtoThrow([32m'Training eligibility check failed'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 181 |[39m     })[33m;[39m
     [90m 182 |[39m
     [90m 183 |[39m     it([32m'should calculate cooldown correctly for edge case (exactly 7 days)'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/trainingController.test.mjs:180:13)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º canTrain â€º should calculate cooldown correctly for edge case (exactly 7 days)

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
    -   "eligible": true,
    -   "reason": null,
    +   "eligible": false,
    +   "reason": "Horse not found",
      }

    [0m [90m 190 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m canTrain([35m1[39m[33m,[39m [32m'Dressage'[39m)[33m;[39m
     [90m 191 |[39m
    [31m[1m>[22m[39m[90m 192 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 193 |[39m         eligible[33m:[39m [36mtrue[39m[33m,[39m
     [90m 194 |[39m         reason[33m:[39m [36mnull[39m[33m,[39m
     [90m 195 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:192:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainHorse â€º should successfully train eligible horse

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 246 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m trainHorse([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
     [90m 247 |[39m
    [31m[1m>[22m[39m[90m 248 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 249 |[39m       expect(result[33m.[39mmessage)[33m.[39mtoContain([32m'Horse trained successfully in Racing. +5 added.'[39m)[33m;[39m
     [90m 250 |[39m       expect(result[33m.[39mupdatedHorse[33m.[39mname)[33m.[39mtoBe([32m'Test Horse'[39m)[33m;[39m
     [90m 251 |[39m       expect(result[33m.[39mnextEligible)[33m.[39mtoBeDefined()[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:248:30)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainHorse â€º should reject training for ineligible horse (under age)

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
    -   "message": "Training not allowed: Horse is under age",
    +   "message": "Training not allowed: Horse not found",
        "nextEligible": null,
    -   "reason": "Horse is under age",
    +   "reason": "Horse not found",
        "success": false,
        "updatedHorse": null,
      }

    [0m [90m 262 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m trainHorse([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
     [90m 263 |[39m
    [31m[1m>[22m[39m[90m 264 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 265 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 266 |[39m         reason[33m:[39m [32m'Horse is under age'[39m[33m,[39m
     [90m 267 |[39m         updatedHorse[33m:[39m [36mnull[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:264:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainHorse â€º should reject training for horse in cooldown

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
    -   "message": "Training not allowed: Training cooldown active for this horse",
    +   "message": "Training not allowed: Horse not found",
        "nextEligible": null,
    -   "reason": "Training cooldown active for this horse",
    +   "reason": "Horse not found",
        "success": false,
        "updatedHorse": null,
      }

    [0m [90m 279 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m trainHorse([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
     [90m 280 |[39m
    [31m[1m>[22m[39m[90m 281 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 282 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 283 |[39m         reason[33m:[39m [32m'Training cooldown active for this horse'[39m[33m,[39m
     [90m 284 |[39m         updatedHorse[33m:[39m [36mnull[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:281:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainHorse â€º should handle training log errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"message": "Training not allowed: Horse not found", "nextEligible": null, "reason": "Horse not found", "success": false, "updatedHorse": null}

    [0m [90m 299 |[39m       mockLogTrainingSession[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Failed to log training'[39m))[33m;[39m
     [90m 300 |[39m
    [31m[1m>[22m[39m[90m 301 |[39m       [36mawait[39m expect(trainHorse([35m1[39m[33m,[39m [32m'Racing'[39m))[33m.[39mrejects[33m.[39mtoThrow([32m'Training failed: Failed to log training'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 302 |[39m     })[33m;[39m
     [90m 303 |[39m
     [90m 304 |[39m     it([32m'should award +5 XP after successful training'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/trainingController.test.mjs:301:13)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainHorse â€º should award +5 XP after successful training

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 344 |[39m
     [90m 345 |[39m       [90m// Verify training success[39m
    [31m[1m>[22m[39m[90m 346 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 347 |[39m       expect(result[33m.[39mmessage)[33m.[39mtoContain([32m'Horse trained successfully in Dressage. +5 added.'[39m)[33m;[39m
     [90m 348 |[39m
     [90m 349 |[39m       [90m// Verify XP award system[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:346:30)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainHorse â€º should handle XP system errors gracefully without breaking training

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 386 |[39m
     [90m 387 |[39m       [90m// Training should still succeed despite XP error[39m
    [31m[1m>[22m[39m[90m 388 |[39m       expect(result[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 389 |[39m       expect(result[33m.[39mmessage)[33m.[39mtoContain([32m'Horse trained successfully in Racing. +5 added.'[39m)[33m;[39m
     [90m 390 |[39m       expect(result[33m.[39mupdatedHorse[33m.[39mname)[33m.[39mtoBe([32m'Error Test Horse'[39m)[33m;[39m
     [90m 391 |[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:388:30)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainingStatus â€º should return complete status for eligible horse with no training history

    expect(received).toEqual(expected) // deep equality

    - Expected  - 3
    + Received  + 3

      Object {
        "cooldown": null,
    -   "eligible": true,
    -   "horseAge": 5,
    +   "eligible": false,
    +   "horseAge": null,
        "lastTrainingDate": null,
    -   "reason": null,
    +   "reason": "Horse not found",
      }

    [0m [90m 409 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getTrainingStatus([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
     [90m 410 |[39m
    [31m[1m>[22m[39m[90m 411 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 412 |[39m         eligible[33m:[39m [36mtrue[39m[33m,[39m
     [90m 413 |[39m         reason[33m:[39m [36mnull[39m[33m,[39m
     [90m 414 |[39m         horseAge[33m:[39m [35m5[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:411:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainingStatus â€º should return complete status for horse in active cooldown

    expect(received).toBe(expected) // Object.is equality

    Expected: "Training cooldown active for this horse"
    Received: "Horse not found"

    [0m [90m 427 |[39m
     [90m 428 |[39m       expect(result[33m.[39meligible)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 429 |[39m       expect(result[33m.[39mreason)[33m.[39mtoBe([32m'Training cooldown active for this horse'[39m)[33m;[39m
     [90m     |[39m                             [31m[1m^[22m[39m
     [90m 430 |[39m       expect(result[33m.[39mhorseAge)[33m.[39mtoBe([35m4[39m)[33m;[39m
     [90m 431 |[39m       expect(result[33m.[39mlastTrainingDate)[33m.[39mtoBe([36mnull[39m)[33m;[39m [90m// Still null for this specific discipline[39m
     [90m 432 |[39m       expect(result[33m.[39mcooldown[33m.[39mactive)[33m.[39mtoBe([36mtrue[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:429:29)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainingStatus â€º should return complete status for horse with expired cooldown

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 443 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getTrainingStatus([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
     [90m 444 |[39m
    [31m[1m>[22m[39m[90m 445 |[39m       expect(result[33m.[39meligible)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 446 |[39m       expect(result[33m.[39mreason)[33m.[39mtoBe([36mnull[39m)[33m;[39m
     [90m 447 |[39m       expect(result[33m.[39mhorseAge)[33m.[39mtoBe([35m4[39m)[33m;[39m
     [90m 448 |[39m       expect(result[33m.[39mlastTrainingDate)[33m.[39mtoEqual(eightDaysAgo)[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:445:31)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainingStatus â€º should return status for ineligible horse (under age)

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 2

      Object {
        "cooldown": null,
        "eligible": false,
    -   "horseAge": 2,
    +   "horseAge": null,
        "lastTrainingDate": null,
    -   "reason": "Horse is under age",
    +   "reason": "Horse not found",
      }

    [0m [90m 458 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getTrainingStatus([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
     [90m 459 |[39m
    [31m[1m>[22m[39m[90m 460 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 461 |[39m         eligible[33m:[39m [36mfalse[39m[33m,[39m
     [90m 462 |[39m         reason[33m:[39m [32m'Horse is under age'[39m[33m,[39m
     [90m 463 |[39m         horseAge[33m:[39m [35m2[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:460:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainingStatus â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: {"cooldown": null, "eligible": false, "horseAge": null, "lastTrainingDate": null, "reason": "Horse not found"}

    [0m [90m 470 |[39m       mockGetHorseAge[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database error'[39m))[33m;[39m
     [90m 471 |[39m
    [31m[1m>[22m[39m[90m 472 |[39m       [36mawait[39m expect(getTrainingStatus([35m1[39m[33m,[39m [32m'Racing'[39m))[33m.[39mrejects[33m.[39mtoThrow([32m'Training status check failed'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 473 |[39m     })[33m;[39m
     [90m 474 |[39m   })[33m;[39m
     [90m 475 |[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/trainingController.test.mjs:472:13)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º Integration scenarios â€º should handle different disciplines with global cooldown

    expect(received).toBe(expected) // Object.is equality

    Expected: "Training cooldown active for this horse"
    Received: "Horse not found"

    [0m [90m 491 |[39m       [90m// Both should be blocked due to global cooldown[39m
     [90m 492 |[39m       expect(racingResult[33m.[39meligible)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 493 |[39m       expect(racingResult[33m.[39mreason)[33m.[39mtoBe([32m'Training cooldown active for this horse'[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 494 |[39m
     [90m 495 |[39m       expect(jumpingResult[33m.[39meligible)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 496 |[39m       expect(jumpingResult[33m.[39mreason)[33m.[39mtoBe([32m'Training cooldown active for this horse'[39m)[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:493:35)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º Integration scenarios â€º should handle edge case of exactly 7 days cooldown

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 504 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m canTrain([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
     [90m 505 |[39m
    [31m[1m>[22m[39m[90m 506 |[39m       expect(result[33m.[39meligible)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 507 |[39m       expect(result[33m.[39mreason)[33m.[39mtoBe([36mnull[39m)[33m;[39m
     [90m 508 |[39m     })[33m;[39m
     [90m 509 |[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:506:31)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º Integration scenarios â€º should handle complete training workflow

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 542 |[39m
     [90m 543 |[39m       [36mconst[39m trainResult [33m=[39m [36mawait[39m trainHorse([35m1[39m[33m,[39m [32m'Racing'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 544 |[39m       expect(trainResult[33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 545 |[39m
     [90m 546 |[39m       [90m// Now mock that the horse has recently trained[39m
     [90m 547 |[39m       [36mconst[39m justNow [33m=[39m [36mnew[39m [33mDate[39m()[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:544:35)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainableHorses â€º should return trainable horses for user with eligible horses

    expect(received).toHaveLength(expected)

    Expected length: 2
    Received length: 0
    Received array:  []

    [0m [90m 577 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getTrainableHorses(playerId)[33m;[39m
     [90m 578 |[39m
    [31m[1m>[22m[39m[90m 579 |[39m       expect(result)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 580 |[39m       expect(result[[35m0[39m])[33m.[39mtoEqual({
     [90m 581 |[39m         horseId[33m:[39m [35m1[39m[33m,[39m
     [90m 582 |[39m         name[33m:[39m [32m'Thunder'[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:579:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainableHorses â€º should filter out horses under 3 years old

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

    [0m [90m 630 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getTrainableHorses(playerId)[33m;[39m
     [90m 631 |[39m
    [31m[1m>[22m[39m[90m 632 |[39m       expect(result)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 633 |[39m       expect(result[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Adult Horse'[39m)[33m;[39m
     [90m 634 |[39m       expect(result[[35m0[39m][33m.[39mage)[33m.[39mtoBe([35m4[39m)[33m;[39m
     [90m 635 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:632:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainableHorses â€º should handle database errors gracefully for individual horses

    expect(received).toHaveLength(expected)

    Expected length: 1
    Received length: 0
    Received array:  []

    [0m [90m 668 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getTrainableHorses(playerId)[33m;[39m
     [90m 669 |[39m
    [31m[1m>[22m[39m[90m 670 |[39m       expect(result)[33m.[39mtoHaveLength([35m1[39m)[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 671 |[39m       expect(result[[35m0[39m][33m.[39mname)[33m.[39mtoBe([32m'Good Horse'[39m)[33m;[39m
     [90m 672 |[39m       expect(result[[35m0[39m][33m.[39mtrainableDisciplines)[33m.[39mtoEqual([
     [90m 673 |[39m         [32m'Racing'[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:670:22)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º getTrainableHorses â€º should handle player model errors

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: []

    [0m [90m 688 |[39m       mockGetUserWithHorses[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Player database error'[39m))[33m;[39m
     [90m 689 |[39m
    [31m[1m>[22m[39m[90m 690 |[39m       [36mawait[39m expect(getTrainableHorses(playerId))[33m.[39mrejects[33m.[39mtoThrow(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 691 |[39m         [32m'Failed to get trainable horses: Player database error'[39m[33m,[39m
     [90m 692 |[39m       )[33m;[39m
     [90m 693 |[39m     })[33m;[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/trainingController.test.mjs:690:13)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainRouteHandler â€º should return success response with correct format for successful training

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
    -   "message": "Nova trained in Dressage. +5 added.",
    -   "nextEligibleDate": Any<String>,
    -   "success": true,
    -   "traitEffects": ObjectContaining {
    -     "appliedTraits": Array [],
    -     "scoreModifier": 0,
    -     "xpModifier": 0,
    -   },
    -   "updatedScore": 25,
    +   "message": "Training not allowed: Horse not found",
    +   "success": false,
      },

    Number of calls: 1

    [0m [90m 747 |[39m       [36mawait[39m trainRouteHandler(mockReq[33m,[39m mockRes)[33m;[39m
     [90m 748 |[39m
    [31m[1m>[22m[39m[90m 749 |[39m       expect(mockRes[33m.[39mjson)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 750 |[39m         success[33m:[39m [36mtrue[39m[33m,[39m
     [90m 751 |[39m         message[33m:[39m [32m'Nova trained in Dressage. +5 added.'[39m[33m,[39m
     [90m 752 |[39m         updatedScore[33m:[39m [35m25[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:749:28)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainRouteHandler â€º should return failure response for ineligible horse (under age)

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
    -   "message": "Training not allowed: Horse is under age",
    +   "message": "Training not allowed: Horse not found",
        "success": false,
      },

    Number of calls: 1

    [0m [90m 768 |[39m
     [90m 769 |[39m       expect(mockRes[33m.[39mstatus)[33m.[39mtoHaveBeenCalledWith([35m400[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 770 |[39m       expect(mockRes[33m.[39mjson)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 771 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 772 |[39m         message[33m:[39m [32m'Training not allowed: Horse is under age'[39m[33m,[39m
     [90m 773 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:770:28)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainRouteHandler â€º should return failure response for horse in cooldown

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
    -   "message": "Training not allowed: Training cooldown active for this horse",
    +   "message": "Training not allowed: Horse not found",
        "success": false,
      },

    Number of calls: 1

    [0m [90m 783 |[39m
     [90m 784 |[39m       expect(mockRes[33m.[39mstatus)[33m.[39mtoHaveBeenCalledWith([35m400[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 785 |[39m       expect(mockRes[33m.[39mjson)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 786 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 787 |[39m         message[33m:[39m [32m'Training not allowed: Training cooldown active for this horse'[39m[33m,[39m
     [90m 788 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:785:28)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainRouteHandler â€º should handle missing discipline score gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
    -   "message": "Nova trained in Dressage. +5 added.",
    -   "nextEligibleDate": Any<String>,
    -   "success": true,
    -   "traitEffects": ObjectContaining {
    -     "appliedTraits": Array [],
    -     "scoreModifier": 0,
    -     "xpModifier": 0,
    -   },
    -   "updatedScore": 0,
    +   "message": "Training not allowed: Horse not found",
    +   "success": false,
      },

    Number of calls: 1

    [0m [90m 825 |[39m       [36mawait[39m trainRouteHandler(mockReq[33m,[39m mockRes)[33m;[39m
     [90m 826 |[39m
    [31m[1m>[22m[39m[90m 827 |[39m       expect(mockRes[33m.[39mjson)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 828 |[39m         success[33m:[39m [36mtrue[39m[33m,[39m
     [90m 829 |[39m         message[33m:[39m [32m'Nova trained in Dressage. +5 added.'[39m[33m,[39m
     [90m 830 |[39m         updatedScore[33m:[39m [35m0[39m[33m,[39m [90m// Should default to 0 when no scores exist[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:827:28)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainRouteHandler â€º should handle server errors gracefully

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: 500
    Received: 400

    Number of calls: 1

    [0m [90m 844 |[39m       [36mawait[39m trainRouteHandler(mockReq[33m,[39m mockRes)[33m;[39m
     [90m 845 |[39m
    [31m[1m>[22m[39m[90m 846 |[39m       expect(mockRes[33m.[39mstatus)[33m.[39mtoHaveBeenCalledWith([35m500[39m)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 847 |[39m       expect(mockRes[33m.[39mjson)[33m.[39mtoHaveBeenCalledWith({
     [90m 848 |[39m         success[33m:[39m [36mfalse[39m[33m,[39m
     [90m 849 |[39m         message[33m:[39m [32m'Failed to train horse'[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:846:30)

  â— ðŸ‹ï¸ UNIT: Training Controller - Horse Training Business Logic â€º trainRouteHandler â€º should handle trait effects in training

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    - Expected
    + Received

      Object {
    -   "message": "Intelligent Horse trained in Dressage. +6 added.",
    -   "nextEligibleDate": Any<String>,
    -   "success": true,
    -   "traitEffects": ObjectContaining {
    -     "appliedTraits": Array [
    -       "intelligent",
    -     ],
    -     "scoreModifier": 1,
    -     "xpModifier": 1,
    -   },
    -   "updatedScore": 6,
    +   "message": "Training not allowed: Horse not found",
    +   "success": false,
      },

    Number of calls: 1

    [0m [90m 889 |[39m       [36mawait[39m trainRouteHandler(mockReq[33m,[39m mockRes)[33m;[39m
     [90m 890 |[39m
    [31m[1m>[22m[39m[90m 891 |[39m       expect(mockRes[33m.[39mjson)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                            [31m[1m^[22m[39m
     [90m 892 |[39m         success[33m:[39m [36mtrue[39m[33m,[39m
     [90m 893 |[39m         message[33m:[39m [32m'Intelligent Horse trained in Dressage. +6 added.'[39m[33m,[39m
     [90m 894 |[39m         updatedScore[33m:[39m [35m6[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingController.test.mjs:891:28)

FAIL seed/horseSeed.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:17] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:17] info: [seed] Environment loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Found existing breed: TestSeed_Thoroughbred (ID: 20873)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Breed "TestSeed_NewArabian" not found, creating new one.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Created breed: TestSeed_NewArabian (ID: 20874)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] warn: [seed] Breed name is undefined or null. Skipping breed creation/connection.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Breed "TestSeed_InvalidBreed" not found, creating new one.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Created breed: TestSeed_InvalidBreed (ID: 20875)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] warn: No users provided for horse seeding. Skipping horse creation.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Thoroughbred

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Arabian

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Quarter Horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Akhal-Teke

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Lightning Bolt for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Desert Rose for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Thoroughbred

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Arabian

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Quarter Horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Akhal-Teke

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Lightning Bolt for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Desert Rose for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Thoroughbred

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Arabian

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Quarter Horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Akhal-Teke

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Lightning Bolt for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Desert Rose for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Thoroughbred

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Arabian

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Quarter Horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Akhal-Teke

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Lightning Bolt for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Desert Rose for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner1@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured User owner2@example.com exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 1 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: [seed] Ensured Stable ID 2 exists.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Thoroughbred

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Arabian

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Quarter Horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Found existing breed: Akhal-Teke

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Lightning Bolt for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:17] info: Created horse: Desert Rose for user ID: 2988ca7f-374f-4fd3-9cf1-1c79ed3b7d61

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— Horse Seed Integration Tests â€º findOrCreateBreed - Real Database Operations â€º should return existing breed if found in database

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "[seed] Found existing breed: TestSeed_Thoroughbred (ID: 20873)"

    Number of calls: 0

    [0m [90m 152 |[39m       expect(result[33m.[39mname)[33m.[39mtoBe([32m'TestSeed_Thoroughbred'[39m)[33m;[39m
     [90m 153 |[39m       expect(result[33m.[39mid)[33m.[39mtoBe(testBreed[33m.[39mid)[33m;[39m
    [31m[1m>[22m[39m[90m 154 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 155 |[39m         [32m`[seed] Found existing breed: TestSeed_Thoroughbred (ID: ${testBreed.id})`[39m[33m,[39m
     [90m 156 |[39m       )[33m;[39m
     [90m 157 |[39m[0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:154:31)

  â— Horse Seed Integration Tests â€º findOrCreateBreed - Real Database Operations â€º should create new breed if not found in database

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "[seed] Breed \"TestSeed_NewArabian\" not found, creating new one."

    Number of calls: 0

    [0m [90m 166 |[39m       expect(result[33m.[39mname)[33m.[39mtoBe([32m'TestSeed_NewArabian'[39m)[33m;[39m
     [90m 167 |[39m       expect(result[33m.[39mdescription)[33m.[39mtoBe([32m'Seed-created TestSeed_NewArabian'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 168 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Breed "TestSeed_NewArabian" not found, creating new one.'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 169 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m`[seed] Created breed: TestSeed_NewArabian (ID: ${result.id})`[39m)[33m;[39m
     [90m 170 |[39m
     [90m 171 |[39m       [90m// Verify it was actually created in database[39m[0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:168:31)

  â— Horse Seed Integration Tests â€º findOrCreateBreed - Real Database Operations â€º should return null for undefined breed name

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "[seed] Breed name is undefined or null. Skipping breed creation/connection."

    Number of calls: 0

    [0m [90m 182 |[39m
     [90m 183 |[39m       expect(result)[33m.[39mtoBeNull()[33m;[39m
    [31m[1m>[22m[39m[90m 184 |[39m       expect(mockLogger[33m.[39mwarn)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 185 |[39m         [32m'[seed] Breed name is undefined or null. Skipping breed creation/connection.'[39m[33m,[39m
     [90m 186 |[39m       )[33m;[39m
     [90m 187 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:184:31)

  â— Horse Seed Integration Tests â€º ensureReferencedRecordsExist - Real Database Operations â€º should create users and stables if they do not exist in database

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "[seed] Ensured User owner1@example.com exists."

    Number of calls: 0

    [0m [90m 220 |[39m       expect(stable2[33m.[39mname)[33m.[39mtoBe([32m'Second Stable'[39m)[33m;[39m
     [90m 221 |[39m
    [31m[1m>[22m[39m[90m 222 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Ensured User owner1@example.com exists.'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 223 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Ensured User owner2@example.com exists.'[39m)[33m;[39m
     [90m 224 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Ensured Stable ID 1 exists.'[39m)[33m;[39m
     [90m 225 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Ensured Stable ID 2 exists.'[39m)[33m;[39m[0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:222:31)

  â— Horse Seed Integration Tests â€º ensureReferencedRecordsExist - Real Database Operations â€º should update existing users and stables if they already exist

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "[seed] Ensured User owner1@example.com exists."

    Number of calls: 0

    [0m [90m 242 |[39m       expect(user2)[33m.[39mtoBeTruthy()[33m;[39m
     [90m 243 |[39m
    [31m[1m>[22m[39m[90m 244 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Ensured User owner1@example.com exists.'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 245 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Ensured User owner2@example.com exists.'[39m)[33m;[39m
     [90m 246 |[39m     })[33m;[39m
     [90m 247 |[39m[0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:244:31)

  â— Horse Seed Integration Tests â€º seedHorses - Real Database Operations â€º should log a warning and return an empty array if no users are provided

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "No users provided for horse seeding. Skipping horse creation."

    Number of calls: 0

    [0m [90m 265 |[39m     it([32m'should log a warning and return an empty array if no users are provided'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 266 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m seedHorses(prisma[33m,[39m [])[33m;[39m
    [31m[1m>[22m[39m[90m 267 |[39m       expect(mockLogger[33m.[39mwarn)[33m.[39mtoHaveBeenCalledWith([32m'No users provided for horse seeding. Skipping horse creation.'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 268 |[39m       expect(result)[33m.[39mtoEqual([])[33m;[39m
     [90m 269 |[39m     })[33m;[39m
     [90m 270 |[39m[0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:267:31)

  â— Horse Seed Integration Tests â€º seedHorses - Real Database Operations â€º should create breeds and horses for the provided user in database

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: StringContaining "Created horse:"

    Number of calls: 0

    [0m [90m 302 |[39m
     [90m 303 |[39m       [90m// Verify logging occurred[39m
    [31m[1m>[22m[39m[90m 304 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 305 |[39m         expect[33m.[39mstringContaining([32m'Created horse:'[39m)[33m,[39m
     [90m 306 |[39m       )[33m;[39m
     [90m 307 |[39m[0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:304:31)

  â— Horse Seed Integration Tests â€º Complete Horse Seeding Integration Test â€º should execute complete seeding workflow with real database operations

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: "[seed] Ensured User owner1@example.com exists."

    Number of calls: 0

    [0m [90m 386 |[39m
     [90m 387 |[39m       [90m// Verify logging occurred[39m
    [31m[1m>[22m[39m[90m 388 |[39m       expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([32m'[seed] Ensured User owner1@example.com exists.'[39m)[33m;[39m
     [90m     |[39m                               [31m[1m^[22m[39m
     [90m 389 |[39m
     [90m 390 |[39m       [36mif[39m (result[33m.[39mlength [33m>[39m [35m0[39m) {
     [90m 391 |[39m         expect(mockLogger[33m.[39minfo)[33m.[39mtoHaveBeenCalledWith([0m

      at Object.<anonymous> (seed/horseSeed.test.mjs:388:31)

FAIL tests/resultModel.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:18] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:18] error: [resultModel.saveResult] Database error: PrismaClientKnownRequestError: 
      Invalid `prisma.competitionResult.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`
          at Zn.handleRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:7459)
          at Zn.handleAndLogRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6784)
          at Zn.request (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6491)
          at l (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:130:9778)
          at saveResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:101:16)
          at Object.<anonymous> (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\tests\resultModel.test.mjs:105:22) {
        [stack]: [Getter/Setter],
        [message]: '\n' +
          'Invalid `prisma.competitionResult.create()` invocation:\n' +
          '\n' +
          '\n' +
          'Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`',
        code: 'P2003',
        meta: {
          modelName: 'CompetitionResult',
          constraint: 'competition_results_horseId_fkey'
        },
        clientVersion: '6.8.2',
        [batchRequestIdx]: undefined,
        name: 'PrismaClientKnownRequestError',
        [Symbol(Symbol.toStringTag)]: [Getter]
      }

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:18] error: [resultModel.saveResult] Database error: PrismaClientKnownRequestError: 
      Invalid `prisma.competitionResult.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`
          at Zn.handleRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:7459)
          at Zn.handleAndLogRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6784)
          at Zn.request (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6491)
          at l (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:130:9778)
          at saveResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:101:16)
          at Object.<anonymous> (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\tests\resultModel.test.mjs:146:22) {
        [stack]: [Getter/Setter],
        [message]: '\n' +
          'Invalid `prisma.competitionResult.create()` invocation:\n' +
          '\n' +
          '\n' +
          'Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`',
        code: 'P2003',
        meta: {
          modelName: 'CompetitionResult',
          constraint: 'competition_results_horseId_fkey'
        },
        clientVersion: '6.8.2',
        [batchRequestIdx]: undefined,
        name: 'PrismaClientKnownRequestError',
        [Symbol(Symbol.toStringTag)]: [Getter]
      }

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:18] error: [resultModel.saveResult] Database error: PrismaClientKnownRequestError: 
      Invalid `prisma.competitionResult.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`
          at Zn.handleRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:7459)
          at Zn.handleAndLogRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6784)
          at Zn.request (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6491)
          at l (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:130:9778)
          at saveResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:101:16)
          at Object.<anonymous> (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\tests\resultModel.test.mjs:329:7) {
        [stack]: [Getter/Setter],
        [message]: '\n' +
          'Invalid `prisma.competitionResult.create()` invocation:\n' +
          '\n' +
          '\n' +
          'Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`',
        code: 'P2003',
        meta: {
          modelName: 'CompetitionResult',
          constraint: 'competition_results_horseId_fkey'
        },
        clientVersion: '6.8.2',
        [batchRequestIdx]: undefined,
        name: 'PrismaClientKnownRequestError',
        [Symbol(Symbol.toStringTag)]: [Getter]
      }

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:18] error: [resultModel.saveResult] Database error: PrismaClientKnownRequestError: 
      Invalid `prisma.competitionResult.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`
          at Zn.handleRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:7459)
          at Zn.handleAndLogRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6784)
          at Zn.request (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6491)
          at l (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:130:9778)
          at saveResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:101:16)
          at Object.<anonymous> (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\tests\resultModel.test.mjs:352:7) {
        [stack]: [Getter/Setter],
        [message]: '\n' +
          'Invalid `prisma.competitionResult.create()` invocation:\n' +
          '\n' +
          '\n' +
          'Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`',
        code: 'P2003',
        meta: {
          modelName: 'CompetitionResult',
          constraint: 'competition_results_horseId_fkey'
        },
        clientVersion: '6.8.2',
        [batchRequestIdx]: undefined,
        name: 'PrismaClientKnownRequestError',
        [Symbol(Symbol.toStringTag)]: [Getter]
      }

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:18] error: [resultModel.saveResult] Database error: PrismaClientKnownRequestError: 
      Invalid `prisma.competitionResult.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`
          at Zn.handleRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:7459)
          at Zn.handleAndLogRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6784)
          at Zn.request (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6491)
          at l (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:130:9778)
          at saveResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:101:16)
          at Object.<anonymous> (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\tests\resultModel.test.mjs:390:22) {
        [stack]: [Getter/Setter],
        [message]: '\n' +
          'Invalid `prisma.competitionResult.create()` invocation:\n' +
          '\n' +
          '\n' +
          'Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`',
        code: 'P2003',
        meta: {
          modelName: 'CompetitionResult',
          constraint: 'competition_results_horseId_fkey'
        },
        clientVersion: '6.8.2',
        [batchRequestIdx]: undefined,
        name: 'PrismaClientKnownRequestError',
        [Symbol(Symbol.toStringTag)]: [Getter]
      }

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:18] error: [resultModel.saveResult] Database error: PrismaClientKnownRequestError: 
      Invalid `prisma.competitionResult.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`
          at Zn.handleRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:7459)
          at Zn.handleAndLogRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6784)
          at Zn.request (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6491)
          at l (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:130:9778)
          at saveResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:101:16)
          at Object.<anonymous> (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\tests\resultModel.test.mjs:447:22) {
        [stack]: [Getter/Setter],
        [message]: '\n' +
          'Invalid `prisma.competitionResult.create()` invocation:\n' +
          '\n' +
          '\n' +
          'Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`',
        code: 'P2003',
        meta: {
          modelName: 'CompetitionResult',
          constraint: 'competition_results_horseId_fkey'
        },
        clientVersion: '6.8.2',
        [batchRequestIdx]: undefined,
        name: 'PrismaClientKnownRequestError',
        [Symbol(Symbol.toStringTag)]: [Getter]
      }

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByHorse] Found 0 results for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByHorse] Found 0 results for horse 999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByHorse] Found 0 results for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByShow] Found 0 results for show 2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByShow] Found 0 results for show 999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByShow] Found 0 results for show 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] error: [resultModel.saveResult] Database error: PrismaClientKnownRequestError: 
      Invalid `prisma.competitionResult.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`
          at Zn.handleRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:7459)
          at Zn.handleAndLogRequestError (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6784)
          at Zn.request (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:121:6491)
          at l (C:\Users\heirr\OneDrive\Desktop\Equoria\packages\database\node_modules\@prisma\client\runtime\library.js:130:9778)
          at saveResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:101:16)
          at createResult (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\models\resultModel.mjs:248:10)
          at Object.<anonymous> (C:\Users\heirr\OneDrive\Desktop\Equoria\backend\tests\resultModel.test.mjs:702:22) {
        [stack]: [Getter/Setter],
        [message]: '\n' +
          'Invalid `prisma.competitionResult.create()` invocation:\n' +
          '\n' +
          '\n' +
          'Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`',
        code: 'P2003',
        meta: {
          modelName: 'CompetitionResult',
          constraint: 'competition_results_horseId_fkey'
        },
        clientVersion: '6.8.2',
        [batchRequestIdx]: undefined,
        name: 'PrismaClientKnownRequestError',
        [Symbol(Symbol.toStringTag)]: [Getter]
      }

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByUser] Retrieved 0 results for user user123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByUser] Retrieved 0 results for user user123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByUser] Retrieved 0 results for user user123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByUser] Retrieved 0 results for user user123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByHorse] Found 0 results for horse 123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [resultModel.getResultsByShow] Found 0 results for show 456

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º saveResult â€º should save a competition result with all required fields

    Database error in saveResult: 
    Invalid `prisma.competitionResult.create()` invocation:


    Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`

    [0m [90m 128 |[39m   } [36mcatch[39m (error) {
     [90m 129 |[39m     logger[33m.[39merror([32m'[resultModel.saveResult] Database error: %o'[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 130 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error in saveResult: ${error.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 131 |[39m   }
     [90m 132 |[39m }
     [90m 133 |[39m[0m

      at saveResult (models/resultModel.mjs:130:11)
      at Object.<anonymous> (tests/resultModel.test.mjs:105:22)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º saveResult â€º should save a result without placement (null for non-top-3)

    Database error in saveResult: 
    Invalid `prisma.competitionResult.create()` invocation:


    Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`

    [0m [90m 128 |[39m   } [36mcatch[39m (error) {
     [90m 129 |[39m     logger[33m.[39merror([32m'[resultModel.saveResult] Database error: %o'[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 130 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error in saveResult: ${error.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 131 |[39m   }
     [90m 132 |[39m }
     [90m 133 |[39m[0m

      at saveResult (models/resultModel.mjs:130:11)
      at Object.<anonymous> (tests/resultModel.test.mjs:146:22)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º saveResult â€º should handle prizeWon as string and convert to float

    Database error in saveResult: 
    Invalid `prisma.competitionResult.create()` invocation:


    Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`

    [0m [90m 128 |[39m   } [36mcatch[39m (error) {
     [90m 129 |[39m     logger[33m.[39merror([32m'[resultModel.saveResult] Database error: %o'[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 130 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error in saveResult: ${error.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 131 |[39m   }
     [90m 132 |[39m }
     [90m 133 |[39m[0m

      at saveResult (models/resultModel.mjs:130:11)
      at Object.<anonymous> (tests/resultModel.test.mjs:329:7)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º saveResult â€º should handle database errors gracefully

    expect(received).rejects.toThrow(expected)

    Expected substring: "Database error in saveResult: Database connection failed"
    Received message:   "Database error in saveResult:Â·
    Invalid `prisma.competitionResult.create()` invocation:Â·Â·
    Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`"

        [0m [90m 128 |[39m   } [36mcatch[39m (error) {
         [90m 129 |[39m     logger[33m.[39merror([32m'[resultModel.saveResult] Database error: %o'[39m[33m,[39m error)[33m;[39m
        [31m[1m>[22m[39m[90m 130 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error in saveResult: ${error.message}`[39m)[33m;[39m
         [90m     |[39m           [31m[1m^[22m[39m
         [90m 131 |[39m   }
         [90m 132 |[39m }
         [90m 133 |[39m[0m

      at saveResult (models/resultModel.mjs:130:11)
      at Object.<anonymous> (tests/resultModel.test.mjs:352:7)
      at Object.toThrow (node_modules/expect/build/index.js:218:22)
      at Object.<anonymous> (tests/resultModel.test.mjs:352:52)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º saveResult â€º should update existing placeholder result instead of creating new one

    Database error in saveResult: 
    Invalid `prisma.competitionResult.create()` invocation:


    Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`

    [0m [90m 128 |[39m   } [36mcatch[39m (error) {
     [90m 129 |[39m     logger[33m.[39merror([32m'[resultModel.saveResult] Database error: %o'[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 130 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error in saveResult: ${error.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 131 |[39m   }
     [90m 132 |[39m }
     [90m 133 |[39m[0m

      at saveResult (models/resultModel.mjs:130:11)
      at Object.<anonymous> (tests/resultModel.test.mjs:390:22)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º saveResult â€º should create new result when no placeholder exists

    Database error in saveResult: 
    Invalid `prisma.competitionResult.create()` invocation:


    Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`

    [0m [90m 128 |[39m   } [36mcatch[39m (error) {
     [90m 129 |[39m     logger[33m.[39merror([32m'[resultModel.saveResult] Database error: %o'[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 130 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error in saveResult: ${error.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 131 |[39m   }
     [90m 132 |[39m }
     [90m 133 |[39m[0m

      at saveResult (models/resultModel.mjs:130:11)
      at Object.<anonymous> (tests/resultModel.test.mjs:447:22)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByHorse â€º should retrieve all results for a specific horse

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 517 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m getResultsByHorse(horseId)[33m;[39m
     [90m 518 |[39m
    [31m[1m>[22m[39m[90m 519 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 520 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m 521 |[39m         where[33m:[39m { horseId[33m:[39m [35m1[39m }[33m,[39m
     [90m 522 |[39m         include[33m:[39m {[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:519:53)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByHorse â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: []

    [0m [90m 551 |[39m       mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database connection failed'[39m))[33m;[39m
     [90m 552 |[39m
    [31m[1m>[22m[39m[90m 553 |[39m       [36mawait[39m expect(getResultsByHorse([35m1[39m))[33m.[39mrejects[33m.[39mtoThrow(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 554 |[39m         [32m'Database error in getResultsByHorse: Database connection failed'[39m[33m,[39m
     [90m 555 |[39m       )[33m;[39m
     [90m 556 |[39m     })[33m;[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/resultModel.test.mjs:553:13)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByShow â€º should retrieve all results for a specific show

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 589 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m getResultsByShow(showId)[33m;[39m
     [90m 590 |[39m
    [31m[1m>[22m[39m[90m 591 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 592 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m 593 |[39m         where[33m:[39m { showId[33m:[39m [35m2[39m }[33m,[39m
     [90m 594 |[39m         include[33m:[39m {[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:591:53)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByShow â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: []

    [0m [90m 623 |[39m       mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database connection failed'[39m))[33m;[39m
     [90m 624 |[39m
    [31m[1m>[22m[39m[90m 625 |[39m       [36mawait[39m expect(getResultsByShow([35m1[39m))[33m.[39mrejects[33m.[39mtoThrow(
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 626 |[39m         [32m'Database error in getResultsByShow: Database connection failed'[39m[33m,[39m
     [90m 627 |[39m       )[33m;[39m
     [90m 628 |[39m     })[33m;[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/resultModel.test.mjs:625:13)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultById â€º should retrieve a specific result by ID

    expect(jest.fn()).toHaveBeenCalledTimes(expected)

    Expected number of calls: 1
    Received number of calls: 0

    [0m [90m 648 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getResultById(resultId)[33m;[39m
     [90m 649 |[39m
    [31m[1m>[22m[39m[90m 650 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindUnique)[33m.[39mtoHaveBeenCalledTimes([35m1[39m)[33m;[39m
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 651 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindUnique)[33m.[39mtoHaveBeenCalledWith({
     [90m 652 |[39m         where[33m:[39m { id[33m:[39m [35m1[39m }[33m,[39m
     [90m 653 |[39m         include[33m:[39m {[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:650:55)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultById â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: null

    [0m [90m 681 |[39m       mockPrisma[33m.[39mcompetitionResult[33m.[39mfindUnique[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database connection failed'[39m))[33m;[39m
     [90m 682 |[39m
    [31m[1m>[22m[39m[90m 683 |[39m       [36mawait[39m expect(getResultById([35m1[39m))[33m.[39mrejects[33m.[39mtoThrow([32m'Database error in getResultById: Database connection failed'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 684 |[39m     })[33m;[39m
     [90m 685 |[39m   })[33m;[39m
     [90m 686 |[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/resultModel.test.mjs:683:13)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º createResult â€º should be an alias for saveResult and work identically

    Database error in saveResult: 
    Invalid `prisma.competitionResult.create()` invocation:


    Foreign key constraint violated on the constraint: `competition_results_horseId_fkey`

    [0m [90m 128 |[39m   } [36mcatch[39m (error) {
     [90m 129 |[39m     logger[33m.[39merror([32m'[resultModel.saveResult] Database error: %o'[39m[33m,[39m error)[33m;[39m
    [31m[1m>[22m[39m[90m 130 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error in saveResult: ${error.message}`[39m)[33m;[39m
     [90m     |[39m           [31m[1m^[22m[39m
     [90m 131 |[39m   }
     [90m 132 |[39m }
     [90m 133 |[39m[0m

      at saveResult (models/resultModel.mjs:130:11)
      at createResult (models/resultModel.mjs:248:10)
      at Object.<anonymous> (tests/resultModel.test.mjs:702:22)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByUser â€º should retrieve results for all user horses with default options

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"include": {"horse": {"include": {"breed": true}}, "show": true}, "orderBy": {"runDate": "desc"}, "skip": 0, "take": 50, "where": {"horse": {"userId": "user123"}}}

    Number of calls: 0

    [0m [90m 736 |[39m       [36mconst[39m results [33m=[39m [36mawait[39m getResultsByUser(userId)[33m;[39m
     [90m 737 |[39m
    [31m[1m>[22m[39m[90m 738 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 739 |[39m         where[33m:[39m {
     [90m 740 |[39m           horse[33m:[39m {
     [90m 741 |[39m             userId[33m:[39m [32m'user123'[39m[33m,[39m[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:738:53)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByUser â€º should handle custom options (limit, offset, discipline)

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"include": Any<Object>, "orderBy": {"runDate": "desc"}, "skip": 5, "take": 10, "where": {"discipline": "Racing", "horse": {"userId": "user123"}}}

    Number of calls: 0

    [0m [90m 767 |[39m       [36mawait[39m getResultsByUser(userId[33m,[39m options)[33m;[39m
     [90m 768 |[39m
    [31m[1m>[22m[39m[90m 769 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 770 |[39m         where[33m:[39m {
     [90m 771 |[39m           horse[33m:[39m {
     [90m 772 |[39m             userId[33m:[39m [32m'user123'[39m[33m,[39m[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:769:53)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByUser â€º should cap limit at 100 and ensure non-negative offset

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"skip": 0, "take": 100}

    Number of calls: 0

    [0m [90m 789 |[39m       [36mawait[39m getResultsByUser(userId[33m,[39m options)[33m;[39m
     [90m 790 |[39m
    [31m[1m>[22m[39m[90m 791 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 792 |[39m         expect[33m.[39mobjectContaining({
     [90m 793 |[39m           take[33m:[39m [35m100[39m[33m,[39m [90m// Capped at 100[39m
     [90m 794 |[39m           skip[33m:[39m [35m0[39m[33m,[39m [90m// Non-negative[39m[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:791:53)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º getResultsByUser â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: []

    [0m [90m 800 |[39m       mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database error'[39m))[33m;[39m
     [90m 801 |[39m
    [31m[1m>[22m[39m[90m 802 |[39m       [36mawait[39m expect(getResultsByUser([32m'user123'[39m))[33m.[39mrejects[33m.[39mtoThrow([32m'Database error'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 803 |[39m     })[33m;[39m
     [90m 804 |[39m   })[33m;[39m
     [90m 805 |[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/resultModel.test.mjs:802:13)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º parseInt conversion edge cases â€º should handle string IDs in getResultsByHorse

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"where": {"horseId": 123}}

    Number of calls: 0

    [0m [90m 810 |[39m       [36mawait[39m getResultsByHorse([32m'123'[39m)[33m;[39m [90m// String ID[39m
     [90m 811 |[39m
    [31m[1m>[22m[39m[90m 812 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 813 |[39m         expect[33m.[39mobjectContaining({
     [90m 814 |[39m           where[33m:[39m { horseId[33m:[39m [35m123[39m }[33m,[39m [90m// Should be converted to number[39m
     [90m 815 |[39m         })[33m,[39m[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:812:53)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º parseInt conversion edge cases â€º should handle string IDs in getResultsByShow

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"where": {"showId": 456}}

    Number of calls: 0

    [0m [90m 822 |[39m       [36mawait[39m getResultsByShow([32m'456'[39m)[33m;[39m [90m// String ID[39m
     [90m 823 |[39m
    [31m[1m>[22m[39m[90m 824 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                                                     [31m[1m^[22m[39m
     [90m 825 |[39m         expect[33m.[39mobjectContaining({
     [90m 826 |[39m           where[33m:[39m { showId[33m:[39m [35m456[39m }[33m,[39m [90m// Should be converted to number[39m
     [90m 827 |[39m         })[33m,[39m[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:824:53)

  â— ðŸ† UNIT: Result Model - Competition Result Management â€º parseInt conversion edge cases â€º should handle string IDs in getResultById

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: ObjectContaining {"where": {"id": 789}}

    Number of calls: 0

    [0m [90m 834 |[39m       [36mawait[39m getResultById([32m'789'[39m)[33m;[39m [90m// String ID[39m
     [90m 835 |[39m
    [31m[1m>[22m[39m[90m 836 |[39m       expect(mockPrisma[33m.[39mcompetitionResult[33m.[39mfindUnique)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                                                       [31m[1m^[22m[39m
     [90m 837 |[39m         expect[33m.[39mobjectContaining({
     [90m 838 |[39m           where[33m:[39m { id[33m:[39m [35m789[39m }[33m,[39m [90m// Should be converted to number[39m
     [90m 839 |[39m         })[33m,[39m[0m

      at Object.<anonymous> (tests/resultModel.test.mjs:836:55)

FAIL tests/unit/flagEvaluationEngine.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:18] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:18] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:18] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 999: Horse with ID 999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error in batch evaluation for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 2: Horse with ID 2 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error in batch evaluation for horse 2: Horse with ID 2 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 3: Horse with ID 3 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error in batch evaluation for horse 3: Horse with ID 3 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error in batch evaluation for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [flagEvaluationEngine] Starting flag evaluation for horse 2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error evaluating flags for horse 2: Horse with ID 2 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] error: [flagEvaluationEngine] Error in batch evaluation for horse 2: Horse with ID 2 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

  â— Flag Evaluation Engine â€º evaluateHorseFlags â€º should evaluate and assign flags for eligible horse

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:124:22)

  â— Flag Evaluation Engine â€º evaluateHorseFlags â€º should reject horse outside age range

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:147:22)

  â— Flag Evaluation Engine â€º evaluateHorseFlags â€º should reject horse with maximum flags

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:162:22)

  â— Flag Evaluation Engine â€º evaluateHorseFlags â€º should not assign duplicate flags

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:180:22)

  â— Flag Evaluation Engine â€º evaluateHorseFlags â€º should respect flag limit during assignment

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:210:22)

  â— Flag Evaluation Engine â€º evaluateHorseFlags â€º should handle care analysis ineligibility

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:224:22)

  â— Flag Evaluation Engine â€º evaluateHorseFlags â€º should handle database errors

    expect(received).rejects.toThrow(expected)

    Expected substring: "Database error"
    Received message:   "Horse with ID 1 not found"

        [0m [90m 49 |[39m
         [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
        [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
         [90m    |[39m             [31m[1m^[22m[39m
         [90m 52 |[39m     }
         [90m 53 |[39m
         [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:241:7)
      at Object.toThrow (node_modules/expect/build/index.js:218:22)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:241:51)

  â— Flag Evaluation Engine â€º Flag Trigger Evaluation â€º should trigger brave flag with correct conditions

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:278:22)

  â— Flag Evaluation Engine â€º Flag Trigger Evaluation â€º should trigger fearful flag with correct conditions

    Horse with ID 1 not found

    [0m [90m 49 |[39m
     [90m 50 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 51 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 52 |[39m     }
     [90m 53 |[39m
     [90m 54 |[39m     [90m// Check age eligibility[39m[0m

      at evaluateHorseFlags (utils/flagEvaluationEngine.mjs:51:13)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:318:22)

  â— Flag Evaluation Engine â€º batchEvaluateFlags â€º should evaluate multiple horses

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 348 |[39m
     [90m 349 |[39m       expect(results)[33m.[39mtoHaveLength([35m3[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 350 |[39m       expect(results[33m.[39mevery(r [33m=>[39m r[33m.[39msuccess))[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                             [31m[1m^[22m[39m
     [90m 351 |[39m     })[33m;[39m
     [90m 352 |[39m
     [90m 353 |[39m     test([32m'should handle mixed success/failure in batch'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:350:45)

  â— Flag Evaluation Engine â€º batchEvaluateFlags â€º should handle mixed success/failure in batch

    expect(received).toBe(expected) // Object.is equality

    Expected: true
    Received: false

    [0m [90m 373 |[39m
     [90m 374 |[39m       expect(results)[33m.[39mtoHaveLength([35m2[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 375 |[39m       expect(results[[35m0[39m][33m.[39msuccess)[33m.[39mtoBe([36mtrue[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 376 |[39m       expect(results[[35m1[39m][33m.[39msuccess)[33m.[39mtoBe([36mfalse[39m)[33m;[39m
     [90m 377 |[39m       expect(results[[35m1[39m][33m.[39merror)[33m.[39mtoContain([32m'Horse with ID 2 not found'[39m)[33m;[39m
     [90m 378 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:375:34)

  â— Flag Evaluation Engine â€º getEligibleHorses â€º should return eligible horses within age range

    expect(received).toEqual(expected) // deep equality

    - Expected  - 2
    + Received  + 9

      Array [
    -   1,
    -   2,
    +   93804,
    +   93874,
    +   93875,
    +   93808,
    +   93815,
    +   93890,
    +   93891,
    +   93858,
    +   93859,
      ]

    [0m [90m 390 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getEligibleHorses()[33m;[39m
     [90m 391 |[39m
    [31m[1m>[22m[39m[90m 392 |[39m       expect(result)[33m.[39mtoEqual([[35m1[39m[33m,[39m [35m2[39m])[33m;[39m
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 393 |[39m       expect(mockPrisma[33m.[39mhorse[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m 394 |[39m         where[33m:[39m {
     [90m 395 |[39m           dateOfBirth[33m:[39m {[0m

      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:392:22)

  â— Flag Evaluation Engine â€º getEligibleHorses â€º should handle database errors in getEligibleHorses

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: [93804, 93874, 93875, 93808, 93815, 93890, 93891, 93858, 93859]

    [0m [90m 410 |[39m       mockPrisma[33m.[39mhorse[33m.[39mfindMany[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database error'[39m))[33m;[39m
     [90m 411 |[39m
    [31m[1m>[22m[39m[90m 412 |[39m       [36mawait[39m expect(getEligibleHorses())[33m.[39mrejects[33m.[39mtoThrow([32m'Database error'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 413 |[39m     })[33m;[39m
     [90m 414 |[39m   })[33m;[39m
     [90m 415 |[39m })[33m;[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/unit/flagEvaluationEngine.test.mjs:412:13)

FAIL tests/xpLogModel.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:19] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.logXpEvent] Logging XP event: User user-123, Amount: 5, Reason: Trained horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [xpLogModel.logXpEvent] Error logging XP event: 
      Invalid `prisma.xpEvent.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `xp_events_userId_fkey`

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.logXpEvent] Logging XP event: User undefined, Amount: 5, Reason: Test reason

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [xpLogModel.logXpEvent] Error logging XP event: User ID is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.logXpEvent] Logging XP event: User user-123, Amount: invalid, Reason: Test reason

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [xpLogModel.logXpEvent] Error logging XP event: Amount must be a number

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.logXpEvent] Logging XP event: User user-123, Amount: 5, Reason: undefined

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [xpLogModel.logXpEvent] Error logging XP event: Reason is required and must be a string

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.logXpEvent] Logging XP event: User user-123, Amount: 5, Reason: Test reason

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [xpLogModel.logXpEvent] Error logging XP event: 
      Invalid `prisma.xpEvent.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `xp_events_userId_fkey`

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.logXpEvent] Logging XP event: User user-123, Amount: -10, Reason: XP penalty for rule violation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [xpLogModel.logXpEvent] Error logging XP event: 
      Invalid `prisma.xpEvent.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `xp_events_userId_fkey`

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpEvents] Getting XP events for user user-123, limit: 50, offset: 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpEvents] Retrieved 0 XP events for user user-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpEvents] Getting XP events for user user-123, limit: 10, offset: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpEvents] Retrieved 0 XP events for user user-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpSummary] Getting XP summary for user user-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpSummary] XP summary for user user-123: Gained 0, Lost 0, Net 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpSummary] Getting XP summary for user user-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpSummary] XP summary for user user-123: Gained 0, Lost 0, Net 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpSummary] Getting XP summary for user user-123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getUserXpSummary] XP summary for user user-123: Gained 0, Lost 0, Net 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getRecentXpEvents] Getting recent XP events, limit: 10, offset: 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getRecentXpEvents] Retrieved 1 recent XP events

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getRecentXpEvents] Getting recent XP events, limit: 100, offset: 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [xpLogModel.getRecentXpEvents] Retrieved 1 recent XP events

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º logXpEvent â€º should log XP event successfully

    PrismaClientKnownRequestError: 
    Invalid `prisma.xpEvent.create()` invocation:


    Foreign key constraint violated on the constraint: `xp_events_userId_fkey`

    [0m [90m 38 |[39m
     [90m 39 |[39m     [90m// Insert XP event into database using Prisma[39m
    [31m[1m>[22m[39m[90m 40 |[39m     [36mconst[39m xpEvent [33m=[39m [36mawait[39m prisma[33m.[39mxpEvent[33m.[39mcreate({
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 41 |[39m       data[33m:[39m {
     [90m 42 |[39m         userId[33m,[39m [90m// Changed userId to userId[39m
     [90m 43 |[39m         amount[33m,[39m[0m

      at Zn.handleRequestError (../packages/database/node_modules/@prisma/client/runtime/library.js:121:7459)
      at Zn.handleAndLogRequestError (../packages/database/node_modules/@prisma/client/runtime/library.js:121:6784)
      at Zn.request (../packages/database/node_modules/@prisma/client/runtime/library.js:121:6491)
      at l (../packages/database/node_modules/@prisma/client/runtime/library.js:130:9778)
      at logXpEvent (models/xpLogModel.mjs:40:21)
      at Object.<anonymous> (tests/xpLogModel.test.mjs:98:22)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º logXpEvent â€º should handle database errors

    expect(received).rejects.toThrow(expected)

    Expected substring: "Database connection failed"
    Received message:   "
    Invalid `prisma.xpEvent.create()` invocation:Â·Â·
    Foreign key constraint violated on the constraint: `xp_events_userId_fkey`"

        [0m [90m 38 |[39m
         [90m 39 |[39m     [90m// Insert XP event into database using Prisma[39m
        [31m[1m>[22m[39m[90m 40 |[39m     [36mconst[39m xpEvent [33m=[39m [36mawait[39m prisma[33m.[39mxpEvent[33m.[39mcreate({
         [90m    |[39m                     [31m[1m^[22m[39m
         [90m 41 |[39m       data[33m:[39m {
         [90m 42 |[39m         userId[33m,[39m [90m// Changed userId to userId[39m
         [90m 43 |[39m         amount[33m,[39m[0m

      at Zn.handleRequestError (../packages/database/node_modules/@prisma/client/runtime/library.js:121:7459)
      at Zn.handleAndLogRequestError (../packages/database/node_modules/@prisma/client/runtime/library.js:121:6784)
      at Zn.request (../packages/database/node_modules/@prisma/client/runtime/library.js:121:6491)
      at l (../packages/database/node_modules/@prisma/client/runtime/library.js:130:9778)
      at logXpEvent (models/xpLogModel.mjs:40:21)
      at Object.<anonymous> (tests/xpLogModel.test.mjs:157:7)
      at Object.toThrow (node_modules/expect/build/index.js:218:22)
      at Object.<anonymous> (tests/xpLogModel.test.mjs:163:17)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º logXpEvent â€º should handle negative XP amounts

    PrismaClientKnownRequestError: 
    Invalid `prisma.xpEvent.create()` invocation:


    Foreign key constraint violated on the constraint: `xp_events_userId_fkey`

    [0m [90m 38 |[39m
     [90m 39 |[39m     [90m// Insert XP event into database using Prisma[39m
    [31m[1m>[22m[39m[90m 40 |[39m     [36mconst[39m xpEvent [33m=[39m [36mawait[39m prisma[33m.[39mxpEvent[33m.[39mcreate({
     [90m    |[39m                     [31m[1m^[22m[39m
     [90m 41 |[39m       data[33m:[39m {
     [90m 42 |[39m         userId[33m,[39m [90m// Changed userId to userId[39m
     [90m 43 |[39m         amount[33m,[39m[0m

      at Zn.handleRequestError (../packages/database/node_modules/@prisma/client/runtime/library.js:121:7459)
      at Zn.handleAndLogRequestError (../packages/database/node_modules/@prisma/client/runtime/library.js:121:6784)
      at Zn.request (../packages/database/node_modules/@prisma/client/runtime/library.js:121:6491)
      at l (../packages/database/node_modules/@prisma/client/runtime/library.js:130:9778)
      at logXpEvent (models/xpLogModel.mjs:40:21)
      at Object.<anonymous> (tests/xpLogModel.test.mjs:181:22)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º getUserXpEvents â€º should retrieve XP events for a user

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"orderBy": {"timestamp": "desc"}, "skip": 0, "take": 50, "where": {"userId": "user-123"}}

    Number of calls: 0

    [0m [90m 219 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserXpEvents([32m'user-123'[39m)[33m;[39m
     [90m 220 |[39m
    [31m[1m>[22m[39m[90m 221 |[39m       expect(mockPrismaXpEvent[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 222 |[39m         where[33m:[39m { userId[33m:[39m [32m'user-123'[39m }[33m,[39m
     [90m 223 |[39m         orderBy[33m:[39m { timestamp[33m:[39m [32m'desc'[39m }[33m,[39m
     [90m 224 |[39m         take[33m:[39m [35m50[39m[33m,[39m[0m

      at Object.<anonymous> (tests/xpLogModel.test.mjs:221:42)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º getUserXpEvents â€º should handle date filters

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"orderBy": {"timestamp": "desc"}, "skip": 5, "take": 10, "where": {"timestamp": {"gte": 2024-01-01T00:00:00.000Z, "lte": 2024-01-02T00:00:00.000Z}, "userId": "user-123"}}

    Number of calls: 0

    [0m [90m 245 |[39m       })[33m;[39m
     [90m 246 |[39m
    [31m[1m>[22m[39m[90m 247 |[39m       expect(mockPrismaXpEvent[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 248 |[39m         where[33m:[39m {
     [90m 249 |[39m           userId[33m:[39m [32m'user-123'[39m[33m,[39m
     [90m 250 |[39m           timestamp[33m:[39m {[0m

      at Object.<anonymous> (tests/xpLogModel.test.mjs:247:42)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º getUserXpSummary â€º should calculate XP summary correctly

    expect(received).toEqual(expected) // deep equality

    - Expected  - 4
    + Received  + 4

      Object {
    -   "netTotal": 45,
    -   "totalEvents": 5,
    -   "totalGained": 50,
    -   "totalLost": 5,
    +   "netTotal": 0,
    +   "totalEvents": 0,
    +   "totalGained": 0,
    +   "totalLost": 0,
      }

    [0m [90m 268 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserXpSummary([32m'user-123'[39m)[33m;[39m
     [90m 269 |[39m
    [31m[1m>[22m[39m[90m 270 |[39m       expect(result)[33m.[39mtoEqual({
     [90m     |[39m                      [31m[1m^[22m[39m
     [90m 271 |[39m         totalGained[33m:[39m [35m50[39m[33m,[39m [90m// 20 + 15 + 5 + 10[39m
     [90m 272 |[39m         totalLost[33m:[39m [35m5[39m[33m,[39m [90m// abs(-5)[39m
     [90m 273 |[39m         netTotal[33m:[39m [35m45[39m[33m,[39m [90m// 20 + 15 + 5 - 5 + 10[39m[0m

      at Object.<anonymous> (tests/xpLogModel.test.mjs:270:22)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º getUserXpSummary â€º should handle date filters in summary

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"select": {"amount": true}, "where": {"timestamp": {"gte": 2024-01-01T00:00:00.000Z, "lte": 2024-01-02T00:00:00.000Z}, "userId": "user-123"}}

    Number of calls: 0

    [0m [90m 302 |[39m       [36mawait[39m getUserXpSummary([32m'user-123'[39m[33m,[39m startDate[33m,[39m endDate)[33m;[39m
     [90m 303 |[39m
    [31m[1m>[22m[39m[90m 304 |[39m       expect(mockPrismaXpEvent[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 305 |[39m         where[33m:[39m {
     [90m 306 |[39m           userId[33m:[39m [32m'user-123'[39m[33m,[39m
     [90m 307 |[39m           timestamp[33m:[39m {[0m

      at Object.<anonymous> (tests/xpLogModel.test.mjs:304:42)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º getRecentXpEvents â€º should retrieve recent XP events across all users

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"include": {"user": {"select": {"id": true, "username": true}}}, "orderBy": {"timestamp": "desc"}, "skip": 0, "take": 10}

    Number of calls: 0

    [0m [90m 338 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getRecentXpEvents({ limit[33m:[39m [35m10[39m[33m,[39m offset[33m:[39m [35m0[39m })[33m;[39m
     [90m 339 |[39m
    [31m[1m>[22m[39m[90m 340 |[39m       expect(mockPrismaXpEvent[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 341 |[39m         orderBy[33m:[39m { timestamp[33m:[39m [32m'desc'[39m }[33m,[39m
     [90m 342 |[39m         take[33m:[39m [35m10[39m[33m,[39m
     [90m 343 |[39m         skip[33m:[39m [35m0[39m[33m,[39m[0m

      at Object.<anonymous> (tests/xpLogModel.test.mjs:340:42)

  â— ðŸ“Š UNIT: XP Log Model - Experience Point Event Tracking â€º getRecentXpEvents â€º should use default options

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"include": {"user": {"select": {"id": true, "username": true}}}, "orderBy": {"timestamp": "desc"}, "skip": 0, "take": 100}

    Number of calls: 0

    [0m [90m 363 |[39m       [36mawait[39m getRecentXpEvents()[33m;[39m
     [90m 364 |[39m
    [31m[1m>[22m[39m[90m 365 |[39m       expect(mockPrismaXpEvent[33m.[39mfindMany)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                          [31m[1m^[22m[39m
     [90m 366 |[39m         orderBy[33m:[39m { timestamp[33m:[39m [32m'desc'[39m }[33m,[39m
     [90m 367 |[39m         take[33m:[39m [35m100[39m[33m,[39m
     [90m 368 |[39m         skip[33m:[39m [35m0[39m[33m,[39m[0m

      at Object.<anonymous> (tests/xpLogModel.test.mjs:365:42)

FAIL tests/unit/carePatternAnalysis.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:19] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 999: Horse with ID 999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: Horse with ID 1 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:19] info: [carePatternAnalysis] Starting analysis for horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:19] error: [carePatternAnalysis] Error analyzing patterns for horse 1: 
      Invalid `prisma.horse.findUnique()` invocation:
      
      {
        where: {
          id: 1
        },
        include: {
          groomInteractions: {
            where: {
              createdAt: {
                gte: new Date("Invalid Date")
                     ~~~~~~~~~~~~~~~~~~~~~~~~
              }
            },
            orderBy: {
              createdAt: "asc"
            }
          }
        }
      }
      
      Invalid value for argument `gte`: Provided Date object is invalid. Expected Date.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should analyze patterns for eligible horse

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:58:22)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should reject horse too old for evaluation

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:78:22)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should analyze consistent care patterns

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:123:22)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should analyze novelty exposure patterns

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:172:22)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should analyze stress management patterns

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:222:22)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should analyze bonding patterns

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:263:22)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should analyze neglect patterns

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:296:22)

  â— Care Pattern Analysis â€º analyzeCarePatterns â€º should analyze environmental factors

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:338:22)

  â— Care Pattern Analysis â€º Edge Cases â€º should handle horse with no interactions

    Horse with ID 1 not found

    [0m [90m 46 |[39m
     [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
    [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
     [90m    |[39m             [31m[1m^[22m[39m
     [90m 49 |[39m     }
     [90m 50 |[39m
     [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:355:22)

  â— Care Pattern Analysis â€º Edge Cases â€º should handle database errors gracefully

    expect(received).rejects.toThrow(expected)

    Expected substring: "Database connection failed"
    Received message:   "Horse with ID 1 not found"

        [0m [90m 46 |[39m
         [90m 47 |[39m     [36mif[39m ([33m![39mhorse) {
        [31m[1m>[22m[39m[90m 48 |[39m       [36mthrow[39m [36mnew[39m [33mError[39m([32m`Horse with ID ${horseId} not found`[39m)[33m;[39m
         [90m    |[39m             [31m[1m^[22m[39m
         [90m 49 |[39m     }
         [90m 50 |[39m
         [90m 51 |[39m     [90m// Calculate horse age in days[39m[0m

      at analyzeCarePatterns (utils/carePatternAnalysis.mjs:48:13)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:367:7)
      at Object.toThrow (node_modules/expect/build/index.js:218:22)
      at Object.<anonymous> (tests/unit/carePatternAnalysis.test.mjs:367:52)

  â— Care Pattern Analysis â€º Edge Cases â€º should handle invalid evaluation date

    PrismaClientValidationError: 
    Invalid `prisma.horse.findUnique()` invocation:

    {
      where: {
        id: 1
      },
      include: {
        groomInteractions: {
          where: {
            createdAt: {
              gte: new Date("Invalid Date")
                   ~~~~~~~~~~~~~~~~~~~~~~~~
            }
          },
          orderBy: {
            createdAt: "asc"
          }
        }
      }
    }

    Invalid value for argument `gte`: Provided Date object is invalid. Expected Date.

      at kn (../packages/database/node_modules/@prisma/client/runtime/library.js:29:1363)
      at e.throwValidationError (../packages/database/node_modules/@prisma/client/runtime/library.js:29:10051)
      at Ia (../packages/database/node_modules/@prisma/client/runtime/library.js:29:7488)
      at ka (../packages/database/node_modules/@prisma/client/runtime/library.js:29:8741)
      at Ia (../packages/database/node_modules/@prisma/client/runtime/library.js:29:8272)
      at ka (../packages/database/node_modules/@prisma/client/runtime/library.js:29:8741)
      at Ia (../packages/database/node_modules/@prisma/client/runtime/library.js:29:8272)
      at ka (../packages/database/node_modules/@prisma/client/runtime/library.js:29:8741)
      at Et (../packages/database/node_modules/@prisma/client/runtime/library.js:29:5845)
      at rm (../packages/database/node_modules/@prisma/client/runtime/library.js:29:6654)
      at em (../packages/database/node_modules/@prisma/client/runtime/library.js:29:6300)
      at Xd (../packages/database/node_modules/@prisma/client/runtime/library.js:29:6186)
      at Et (../packages/database/node_modules/@prisma/client/runtime/library.js:29:5863)
      at Nn (../packages/database/node_modules/@prisma/client/runtime/library.js:29:5747)
      at ../packages/database/node_modules/@prisma/client/runtime/library.js:130:10331
      at Object.runInChildSpan (../packages/database/node_modules/@prisma/client/runtime/library.js:121:1549)
      at Io.runInChildSpan (../packages/database/node_modules/@prisma/client/runtime/library.js:121:1913)
      at r._executeRequest (../packages/database/node_modules/@prisma/client/runtime/library.js:130:10310)
      at il (../packages/database/node_modules/@prisma/client/runtime/library.js:31:9835)
      at l (../packages/database/node_modules/@prisma/client/runtime/library.js:130:9784)
      at ../packages/database/node_modules/@prisma/client/runtime/library.js:130:10078
      at ../packages/database/node_modules/@prisma/client/runtime/library.js:130:10058
      at Object.runInChildSpan (../packages/database/node_modules/@prisma/client/runtime/library.js:121:1549)
      at Io.runInChildSpan (../packages/database/node_modules/@prisma/client/runtime/library.js:121:1913)
      at r._request (../packages/database/node_modules/@prisma/client/runtime/library.js:130:9981)
      at e._createPrismaPromise.action (../packages/database/node_modules/@prisma/client/runtime/library.js:31:5390)
      at o (../packages/database/node_modules/@prisma/client/runtime/library.js:121:1018)
      at Proxy.then (../packages/database/node_modules/@prisma/client/runtime/library.js:121:1114)

FAIL tests/trainingModel.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:20] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.logTrainingSession] Logging training session for horse 5 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: 
      Invalid `prisma.trainingLog.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `training_logs_horseId_fkey`

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: Horse ID is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: Discipline is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.logTrainingSession] Logging training session for horse 5 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: 
      Invalid `prisma.trainingLog.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `training_logs_horseId_fkey`

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 5 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getLastTrainingDate] No training records found for horse 5 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 5 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getLastTrainingDate] No training records found for horse 5 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getLastTrainingDate] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getLastTrainingDate] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getLastTrainingDate] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getLastTrainingDate] Database error: Discipline is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getLastTrainingDate] Database error: Discipline is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getLastTrainingDate] Checking last training date for horse 5 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getLastTrainingDate] No training records found for horse 5 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Getting age for horse 10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Horse 10 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Getting age for horse 999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Horse 999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getHorseAge] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getHorseAge] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.getHorseAge] Database error: Horse ID must be a positive integer

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Getting age for horse 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Horse 5 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.logTrainingSession] Logging training session for horse 5 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] error: [trainingModel.logTrainingSession] Database error: 
      Invalid `prisma.trainingLog.create()` invocation:
      
      
      Foreign key constraint violated on the constraint: `training_logs_horseId_fkey`

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Getting age for horse 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [trainingModel.getHorseAge] Horse 5 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º logTrainingSession â€º should log a training session with all required fields

    Database error: 
    Invalid `prisma.trainingLog.create()` invocation:


    Foreign key constraint violated on the constraint: `training_logs_horseId_fkey`

    [0m [90m 47 |[39m   } [36mcatch[39m (error) {
     [90m 48 |[39m     logger[33m.[39merror([32m`[trainingModel.logTrainingSession] Database error: ${error.message}`[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 49 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error: ${error.message}`[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 50 |[39m   }
     [90m 51 |[39m }
     [90m 52 |[39m[0m

      at logTrainingSession (models/trainingModel.mjs:49:11)
      at Object.<anonymous> (tests/trainingModel.test.mjs:86:22)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º logTrainingSession â€º should handle database errors gracefully

    expect(received).rejects.toThrow(expected)

    Expected substring: "Database error: Database connection failed"
    Received message:   "Database error:Â·
    Invalid `prisma.trainingLog.create()` invocation:Â·Â·
    Foreign key constraint violated on the constraint: `training_logs_horseId_fkey`"

        [0m [90m 47 |[39m   } [36mcatch[39m (error) {
         [90m 48 |[39m     logger[33m.[39merror([32m`[trainingModel.logTrainingSession] Database error: ${error.message}`[39m)[33m;[39m
        [31m[1m>[22m[39m[90m 49 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error: ${error.message}`[39m)[33m;[39m
         [90m    |[39m           [31m[1m^[22m[39m
         [90m 50 |[39m   }
         [90m 51 |[39m }
         [90m 52 |[39m[0m

      at logTrainingSession (models/trainingModel.mjs:49:11)
      at Object.<anonymous> (tests/trainingModel.test.mjs:123:7)
      at Object.toThrow (node_modules/expect/build/index.js:218:22)
      at Object.<anonymous> (tests/trainingModel.test.mjs:123:86)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º getLastTrainingDate â€º should return the most recent training date for horse and discipline

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"orderBy": {"trainedAt": "desc"}, "where": {"discipline": "Show Jumping", "horseId": 5}}

    Number of calls: 0

    [0m [90m 136 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getLastTrainingDate([35m5[39m[33m,[39m [32m'Show Jumping'[39m)[33m;[39m
     [90m 137 |[39m
    [31m[1m>[22m[39m[90m 138 |[39m       expect(mockTrainingLogFindFirst)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                        [31m[1m^[22m[39m
     [90m 139 |[39m         where[33m:[39m {
     [90m 140 |[39m           horseId[33m:[39m [35m5[39m[33m,[39m
     [90m 141 |[39m           discipline[33m:[39m [32m'Show Jumping'[39m[33m,[39m[0m

      at Object.<anonymous> (tests/trainingModel.test.mjs:138:40)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º getLastTrainingDate â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: null

    [0m [90m 173 |[39m       mockTrainingLogFindFirst[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database connection failed'[39m))[33m;[39m
     [90m 174 |[39m
    [31m[1m>[22m[39m[90m 175 |[39m       [36mawait[39m expect(getLastTrainingDate([35m5[39m[33m,[39m [32m'Racing'[39m))[33m.[39mrejects[33m.[39mtoThrow([32m'Database error: Database connection failed'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 176 |[39m     })[33m;[39m
     [90m 177 |[39m   })[33m;[39m
     [90m 178 |[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/trainingModel.test.mjs:175:13)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º getHorseAge â€º should return horse age from database

    expect(jest.fn()).toHaveBeenCalledWith(...expected)

    Expected: {"select": {"age": true}, "where": {"id": 10}}

    Number of calls: 0

    [0m [90m 186 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getHorseAge([35m10[39m)[33m;[39m
     [90m 187 |[39m
    [31m[1m>[22m[39m[90m 188 |[39m       expect(mockHorseFindUnique)[33m.[39mtoHaveBeenCalledWith({
     [90m     |[39m                                   [31m[1m^[22m[39m
     [90m 189 |[39m         where[33m:[39m { id[33m:[39m [35m10[39m }[33m,[39m
     [90m 190 |[39m         select[33m:[39m { age[33m:[39m [36mtrue[39m }[33m,[39m
     [90m 191 |[39m       })[33m;[39m[0m

      at Object.<anonymous> (tests/trainingModel.test.mjs:188:35)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º getHorseAge â€º should handle database errors gracefully

    expect(received).rejects.toThrow()

    Received promise resolved instead of rejected
    Resolved to value: null

    [0m [90m 212 |[39m       mockHorseFindUnique[33m.[39mmockRejectedValue([36mnew[39m [33mError[39m([32m'Database connection failed'[39m))[33m;[39m
     [90m 213 |[39m
    [31m[1m>[22m[39m[90m 214 |[39m       [36mawait[39m expect(getHorseAge([35m5[39m))[33m.[39mrejects[33m.[39mtoThrow([32m'Database error: Database connection failed'[39m)[33m;[39m
     [90m     |[39m             [31m[1m^[22m[39m
     [90m 215 |[39m     })[33m;[39m
     [90m 216 |[39m   })[33m;[39m
     [90m 217 |[39m[0m

      at expect (node_modules/expect/build/index.js:113:15)
      at Object.<anonymous> (tests/trainingModel.test.mjs:214:13)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º Integration scenarios â€º should handle multiple training sessions for same horse different disciplines

    Database error: 
    Invalid `prisma.trainingLog.create()` invocation:


    Foreign key constraint violated on the constraint: `training_logs_horseId_fkey`

    [0m [90m 47 |[39m   } [36mcatch[39m (error) {
     [90m 48 |[39m     logger[33m.[39merror([32m`[trainingModel.logTrainingSession] Database error: ${error.message}`[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 49 |[39m     [36mthrow[39m [36mnew[39m [33mError[39m([32m`Database error: ${error.message}`[39m)[33m;[39m
     [90m    |[39m           [31m[1m^[22m[39m
     [90m 50 |[39m   }
     [90m 51 |[39m }
     [90m 52 |[39m[0m

      at logTrainingSession (models/trainingModel.mjs:49:11)
      at Object.<anonymous> (tests/trainingModel.test.mjs:228:7)

  â— ðŸ‹ï¸ UNIT: Training Model - Training Session Logging & Horse Data â€º Integration scenarios â€º should validate horse age before allowing training

    expect(received).toBe(expected) // Object.is equality

    Expected: 2
    Received: null

    [0m [90m 237 |[39m
     [90m 238 |[39m       [36mconst[39m age [33m=[39m [36mawait[39m getHorseAge([35m5[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 239 |[39m       expect(age)[33m.[39mtoBe([35m2[39m)[33m;[39m
     [90m     |[39m                   [31m[1m^[22m[39m
     [90m 240 |[39m
     [90m 241 |[39m       [90m// In the actual training logic, this would prevent training[39m
     [90m 242 |[39m       [90m// since horse is under 3 years old[39m[0m

      at Object.<anonymous> (tests/trainingModel.test.mjs:239:19)

FAIL models/userModel.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:20] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:20] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:20] error: [createUser] Error: Username, email, and password are required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [createUser] Error: Username, email, and password are required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [createUser] Error: Username, email, and password are required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [getUserById] Error: User ID is required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [getUserById] Error: User ID is required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [getUserByEmail] Error: Email required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [getUserByEmail] Error: Email required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [getUserWithHorses] Error: User ID is required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [updateUser] Error: User ID is required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [deleteUser] Error: User ID is required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [addXpToUser] Error: XP amount must be a positive number.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [addXpToUser] Error: User ID is required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:20] error: [getUserById] Error: User ID is required.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º createUser â€º should create a user successfully

    TypeError: mockPrisma.user.create.mockResolvedValue is not a function

    [0m [90m 122 |[39m       }[33m;[39m
     [90m 123 |[39m
    [31m[1m>[22m[39m[90m 124 |[39m       mockPrisma[33m.[39muser[33m.[39mcreate[33m.[39mmockResolvedValue(mockCreatedUser)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 125 |[39m
     [90m 126 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m createUser(baseUserData)[33m;[39m
     [90m 127 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:124:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º createUser â€º should throw error on unique constraint violation for username

    TypeError: mockPrisma.user.create.mockRejectedValue is not a function

    [0m [90m 154 |[39m     it([32m'should throw error on unique constraint violation for username'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 155 |[39m       [36mconst[39m dbError [33m=[39m { code[33m:[39m [32m'P2002'[39m[33m,[39m meta[33m:[39m { target[33m:[39m [[32m'username'[39m] } }[33m;[39m
    [31m[1m>[22m[39m[90m 156 |[39m       mockPrisma[33m.[39muser[33m.[39mcreate[33m.[39mmockRejectedValue(dbError)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 157 |[39m       [36mawait[39m expect(createUser(baseUserData))[33m.[39mrejects[33m.[39mtoThrow([32m'Duplicate value for username.'[39m)[33m;[39m
     [90m 158 |[39m     })[33m;[39m
     [90m 159 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:156:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º createUser â€º should throw error on unique constraint violation for email

    TypeError: mockPrisma.user.create.mockRejectedValue is not a function

    [0m [90m 160 |[39m     it([32m'should throw error on unique constraint violation for email'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 161 |[39m       [36mconst[39m dbError [33m=[39m { code[33m:[39m [32m'P2002'[39m[33m,[39m meta[33m:[39m { target[33m:[39m [[32m'email'[39m] } }[33m;[39m
    [31m[1m>[22m[39m[90m 162 |[39m       mockPrisma[33m.[39muser[33m.[39mcreate[33m.[39mmockRejectedValue(dbError)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 163 |[39m       [36mawait[39m expect(createUser(baseUserData))[33m.[39mrejects[33m.[39mtoThrow([32m'Duplicate value for email.'[39m)[33m;[39m
     [90m 164 |[39m     })[33m;[39m
     [90m 165 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:162:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º createUser â€º should throw DatabaseError for other Prisma errors

    TypeError: mockPrisma.user.create.mockRejectedValue is not a function

    [0m [90m 166 |[39m     it([32m'should throw DatabaseError for other Prisma errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 167 |[39m       [36mconst[39m dbError [33m=[39m [36mnew[39m [33mError[39m([32m'Some other DB error'[39m)[33m;[39m
    [31m[1m>[22m[39m[90m 168 |[39m       mockPrisma[33m.[39muser[33m.[39mcreate[33m.[39mmockRejectedValue(dbError)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 169 |[39m       [36mawait[39m expect(createUser(baseUserData))[33m.[39mrejects[33m.[39mtoThrow(
     [90m 170 |[39m         [36mnew[39m [33mDatabaseError[39m([32m'Create user failed: Some other DB error'[39m)[33m,[39m
     [90m 171 |[39m       )[33m;[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:168:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserById â€º should return user if found

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 175 |[39m     it([32m'should return user if found'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 176 |[39m       [36mconst[39m mockUser [33m=[39m { id[33m:[39m [35m1[39m[33m,[39m username[33m:[39m [32m'testuser'[39m[33m,[39m email[33m:[39m [32m'test@example.com'[39m }[33m;[39m
    [31m[1m>[22m[39m[90m 177 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(mockUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 178 |[39m
     [90m 179 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserById([35m1[39m)[33m;[39m
     [90m 180 |[39m       expect(mockPrisma[33m.[39muser[33m.[39mfindUnique)[33m.[39mtoHaveBeenCalledWith({ where[33m:[39m { id[33m:[39m [35m1[39m } })[33m;[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:177:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserById â€º should return null if user not found

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 183 |[39m
     [90m 184 |[39m     it([32m'should return null if user not found'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 185 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 186 |[39m       [36mconst[39m user [33m=[39m [36mawait[39m getUserById([35m99[39m)[33m;[39m
     [90m 187 |[39m       expect(user)[33m.[39mtoBeNull()[33m;[39m
     [90m 188 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:185:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserByEmail â€º should return user by email (case insensitive)

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 197 |[39m     it([32m'should return user by email (case insensitive)'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 198 |[39m       [36mconst[39m mockUser [33m=[39m { id[33m:[39m [35m1[39m[33m,[39m email[33m:[39m [32m'test@example.com'[39m }[33m;[39m
    [31m[1m>[22m[39m[90m 199 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(mockUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 200 |[39m
     [90m 201 |[39m       [36mconst[39m user [33m=[39m [36mawait[39m getUserByEmail([32m'TEST@EXAMPLE.COM'[39m)[33m;[39m
     [90m 202 |[39m       expect(mockPrisma[33m.[39muser[33m.[39mfindUnique)[33m.[39mtoHaveBeenCalledWith({[0m

      at Object.<anonymous> (models/userModel.test.mjs:199:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserWithHorses â€º should return user with horses if found

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 215 |[39m     it([32m'should return user with horses if found'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 216 |[39m       [36mconst[39m mockUser [33m=[39m { id[33m:[39m [35m1[39m[33m,[39m horses[33m:[39m [{ id[33m:[39m [35m101[39m[33m,[39m name[33m:[39m [32m'Spirit'[39m }] }[33m;[39m
    [31m[1m>[22m[39m[90m 217 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(mockUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 218 |[39m
     [90m 219 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserWithHorses([35m1[39m)[33m;[39m
     [90m 220 |[39m       expect(mockPrisma[33m.[39muser[33m.[39mfindUnique)[33m.[39mtoHaveBeenCalledWith({[0m

      at Object.<anonymous> (models/userModel.test.mjs:217:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º updateUser â€º should update user successfully

    TypeError: mockPrisma.user.update.mockResolvedValue is not a function

    [0m [90m 235 |[39m     it([32m'should update user successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 236 |[39m       [36mconst[39m mockUpdatedUser [33m=[39m { id[33m:[39m [35m1[39m[33m,[39m username[33m:[39m [32m'testuser'[39m[33m,[39m [33m...[39mupdateData }[33m;[39m
    [31m[1m>[22m[39m[90m 237 |[39m       mockPrisma[33m.[39muser[33m.[39mupdate[33m.[39mmockResolvedValue(mockUpdatedUser)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 238 |[39m
     [90m 239 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m updateUser([35m1[39m[33m,[39m updateData)[33m;[39m
     [90m 240 |[39m       expect(mockPrisma[33m.[39muser[33m.[39mupdate)[33m.[39mtoHaveBeenCalledWith({[0m

      at Object.<anonymous> (models/userModel.test.mjs:237:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º updateUser â€º should handle Prisma update errors (user not found)

    TypeError: mockPrisma.user.update.mockRejectedValue is not a function

    [0m [90m 253 |[39m     it([32m'should handle Prisma update errors (user not found)'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 254 |[39m       [36mconst[39m prismaError [33m=[39m { code[33m:[39m [32m'P2025'[39m[33m,[39m message[33m:[39m [32m'Record to update not found.'[39m }[33m;[39m
    [31m[1m>[22m[39m[90m 255 |[39m       mockPrisma[33m.[39muser[33m.[39mupdate[33m.[39mmockRejectedValue(prismaError)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 256 |[39m
     [90m 257 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m updateUser([35m1[39m[33m,[39m updateData)[33m;[39m
     [90m 258 |[39m       expect(result)[33m.[39mtoBeNull()[33m;[39m [90m// Returns null when user not found[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:255:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º updateUser â€º should handle general update errors

    TypeError: mockPrisma.user.update.mockRejectedValue is not a function

    [0m [90m 261 |[39m     it([32m'should handle general update errors'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 262 |[39m       [36mconst[39m prismaError [33m=[39m { message[33m:[39m [32m'Some other update error'[39m }[33m;[39m
    [31m[1m>[22m[39m[90m 263 |[39m       mockPrisma[33m.[39muser[33m.[39mupdate[33m.[39mmockRejectedValue(prismaError)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 264 |[39m
     [90m 265 |[39m       [36mawait[39m expect(updateUser([35m1[39m[33m,[39m updateData))[33m.[39mrejects[33m.[39mtoThrow(
     [90m 266 |[39m         [36mnew[39m [33mDatabaseError[39m([32m'Update failed: Some other update error'[39m)[33m,[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:263:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º deleteUser â€º should delete user successfully

    TypeError: mockPrisma.user.delete.mockResolvedValue is not a function

    [0m [90m 272 |[39m     it([32m'should delete user successfully'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 273 |[39m       [36mconst[39m deletedUser [33m=[39m { id[33m:[39m [35m1[39m[33m,[39m username[33m:[39m [32m'testuser'[39m }[33m;[39m
    [31m[1m>[22m[39m[90m 274 |[39m       mockPrisma[33m.[39muser[33m.[39m[36mdelete[39m[33m.[39mmockResolvedValue(deletedUser)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 275 |[39m
     [90m 276 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m deleteUser([35m1[39m)[33m;[39m
     [90m 277 |[39m       expect(mockPrisma[33m.[39muser[33m.[39m[36mdelete[39m)[33m.[39mtoHaveBeenCalledWith({ where[33m:[39m { id[33m:[39m [35m1[39m } })[33m;[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:274:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º deleteUser â€º should handle Prisma delete errors (user not found)

    TypeError: mockPrisma.user.delete.mockRejectedValue is not a function

    [0m [90m 285 |[39m     it([32m'should handle Prisma delete errors (user not found)'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 286 |[39m       [36mconst[39m prismaError [33m=[39m { code[33m:[39m [32m'P2025'[39m[33m,[39m message[33m:[39m [32m'Record to delete not found.'[39m }[33m;[39m
    [31m[1m>[22m[39m[90m 287 |[39m       mockPrisma[33m.[39muser[33m.[39m[36mdelete[39m[33m.[39mmockRejectedValue(prismaError)[33m;[39m
     [90m     |[39m                              [31m[1m^[22m[39m
     [90m 288 |[39m
     [90m 289 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m deleteUser([35m99[39m)[33m;[39m
     [90m 290 |[39m       expect(result)[33m.[39mtoBeNull()[33m;[39m [90m// Returns null when user not found[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:287:30)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º addXpToUser â€º should add XP without leveling up

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 296 |[39m
     [90m 297 |[39m     it([32m'should add XP without leveling up'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 298 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(baseUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 299 |[39m       [36mconst[39m updatedUser [33m=[39m { [33m...[39mbaseUser[33m,[39m xp[33m:[39m [35m70[39m[33m,[39m level[33m:[39m [35m1[39m }[33m;[39m
     [90m 300 |[39m       mockPrisma[33m.[39muser[33m.[39mupdate[33m.[39mmockResolvedValue(updatedUser)[33m;[39m
     [90m 301 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:298:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º addXpToUser â€º should add XP and level up

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 313 |[39m
     [90m 314 |[39m     it([32m'should add XP and level up'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 315 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(baseUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 316 |[39m       [36mconst[39m updatedUser [33m=[39m { [33m...[39mbaseUser[33m,[39m xp[33m:[39m [35m200[39m[33m,[39m level[33m:[39m [35m2[39m }[33m;[39m
     [90m 317 |[39m       mockPrisma[33m.[39muser[33m.[39mupdate[33m.[39mmockResolvedValue(updatedUser)[33m;[39m
     [90m 318 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:315:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º addXpToUser â€º should return error for invalid XP amount

    expect(received).toHaveBeenCalledWith(...expected)

    Matcher error: received value must be a mock or spy function

    Received has type:  function
    Received has value: [Function anonymous]

    [0m [90m 337 |[39m         })[33m,[39m
     [90m 338 |[39m       )[33m;[39m
    [31m[1m>[22m[39m[90m 339 |[39m       expect(mockLogger[33m.[39merror)[33m.[39mtoHaveBeenCalledWith(
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 340 |[39m         expect[33m.[39mstringContaining([32m'Error: XP amount must be a positive number.'[39m)[33m,[39m
     [90m 341 |[39m       )[33m;[39m
     [90m 342 |[39m     })[33m;[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:339:32)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º addXpToUser â€º should return error for invalid user ID

    expect(received).toHaveBeenCalledWith(...expected)

    Matcher error: received value must be a mock or spy function

    Received has type:  function
    Received has value: [Function anonymous]

    [0m [90m 350 |[39m         })[33m,[39m
     [90m 351 |[39m       )[33m;[39m
    [31m[1m>[22m[39m[90m 352 |[39m       expect(mockLogger[33m.[39merror)[33m.[39mtoHaveBeenCalledWith(expect[33m.[39mstringContaining([32m'Error: User ID is required.'[39m))[33m;[39m
     [90m     |[39m                                [31m[1m^[22m[39m
     [90m 353 |[39m     })[33m;[39m
     [90m 354 |[39m
     [90m 355 |[39m     it([32m'should return error if user not found'[39m[33m,[39m [36masync[39m () [33m=>[39m {[0m

      at Object.<anonymous> (models/userModel.test.mjs:352:32)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º addXpToUser â€º should return error if user not found

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 354 |[39m
     [90m 355 |[39m     it([32m'should return error if user not found'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 356 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 357 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m addXpToUser([35m99[39m[33m,[39m [35m20[39m)[33m;[39m
     [90m 358 |[39m       expect(result)[33m.[39mtoEqual(
     [90m 359 |[39m         expect[33m.[39mobjectContaining({[0m

      at Object.<anonymous> (models/userModel.test.mjs:356:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserProgress â€º should return user progress

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 369 |[39m     it([32m'should return user progress'[39m[33m,[39m [36masync[39m () [33m=>[39m {
     [90m 370 |[39m       [36mconst[39m mockUser [33m=[39m { id[33m:[39m [35m1[39m[33m,[39m level[33m:[39m [35m1[39m[33m,[39m xp[33m:[39m [35m50[39m }[33m;[39m
    [31m[1m>[22m[39m[90m 371 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(mockUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 372 |[39m
     [90m 373 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserProgress([35m1[39m)[33m;[39m
     [90m 374 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:371:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserProgress â€º should throw DatabaseError if user not found

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 389 |[39m
     [90m 390 |[39m     it([32m'should throw DatabaseError if user not found'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 391 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 392 |[39m       [36mawait[39m expect(getUserProgress([35m99[39m))[33m.[39mrejects[33m.[39mtoThrow([36mnew[39m [33mDatabaseError[39m([32m'Progress fetch failed: User not found.'[39m))[33m;[39m
     [90m 393 |[39m     })[33m;[39m
     [90m 394 |[39m   })[33m;[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:391:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserStats â€º should return user stats with horses

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 409 |[39m       }[33m;[39m
     [90m 410 |[39m
    [31m[1m>[22m[39m[90m 411 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(mockUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 412 |[39m
     [90m 413 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserStats([35m1[39m)[33m;[39m
     [90m 414 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:411:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserStats â€º should handle user with no horses

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 442 |[39m       }[33m;[39m
     [90m 443 |[39m
    [31m[1m>[22m[39m[90m 444 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(mockUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 445 |[39m
     [90m 446 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserStats([35m2[39m)[33m;[39m
     [90m 447 |[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:444:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserStats â€º should handle user with null horses array

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 468 |[39m       }[33m;[39m
     [90m 469 |[39m
    [31m[1m>[22m[39m[90m 470 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue(mockUser)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 471 |[39m
     [90m 472 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserStats([35m3[39m)[33m;[39m
     [90m 473 |[39m       expect(result)[33m.[39mtoEqual([0m

      at Object.<anonymous> (models/userModel.test.mjs:470:34)

  â— ðŸ‘¤ UNIT: User Model - Database Operations & Business Logic â€º getUserStats â€º should return null for non-existent user

    TypeError: mockPrisma.user.findUnique.mockResolvedValue is not a function

    [0m [90m 480 |[39m
     [90m 481 |[39m     it([32m'should return null for non-existent user'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 482 |[39m       mockPrisma[33m.[39muser[33m.[39mfindUnique[33m.[39mmockResolvedValue([36mnull[39m)[33m;[39m
     [90m     |[39m                                  [31m[1m^[22m[39m
     [90m 483 |[39m
     [90m 484 |[39m       [36mconst[39m result [33m=[39m [36mawait[39m getUserStats([35m999[39m)[33m;[39m
     [90m 485 |[39m       expect(result)[33m.[39mtoBeNull()[33m;[39m[0m

      at Object.<anonymous> (models/userModel.test.mjs:482:34)

PASS tests/groomInteractionLimits.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:21] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

PASS tests/auth.test.mjs (6.648 s)
  â— Console

    console.log
      [2025-12-27 23:12:21] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:21] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:21] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:21] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [MemoryMonitoring] Memory threshold exceeded: 585MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: newuser@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=59b6bd85d434ac73c234f4dff93638001362f72f7d808f31e6dc2d4e7e2bfb75

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:22] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [MemoryMonitoring] Memory threshold exceeded: 584MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [MemoryMonitoring] Memory threshold exceeded: 581MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [MemoryMonitoring] Memory threshold exceeded: 579MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: duplicate@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=dd478a2739574a66cba3bcd5123442a1b774d91b00b8ca65ae9fcd0f6b319dc2

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:22] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [MemoryMonitoring] Memory threshold exceeded: 581MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] error: [authController.register] Error registering user: User with this email or username already exists

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:22] error: [POST] /api/auth/register - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:22] error: Error User with this email or username already exists

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:22] warn: [MemoryMonitoring] Memory threshold exceeded: 583MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logintest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=b3f504cfbd67fdd11b6bdb04238a8ea4e34f23246efe40ea3fdb9bc34556dbeb

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:23] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] warn: [MemoryMonitoring] Memory threshold exceeded: 585MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] warn: [MemoryMonitoring] Memory threshold exceeded: 585MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logintest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=bc50ee13141c84fa3fe14d10e81631f2d0b1717364c1758e173a86cbc85c6a51

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:23] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] warn: [MemoryMonitoring] Memory threshold exceeded: 589MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:23] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:23] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:23] warn: [MemoryMonitoring] Memory threshold exceeded: 592MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logintest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=27481d068ca76779c0a5c59ebcccf5849835e3261a7bf91d44ccbff363aa6e45

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:24] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] warn: [MemoryMonitoring] Memory threshold exceeded: 593MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:24] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:24] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] warn: [MemoryMonitoring] Memory threshold exceeded: 582MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logintest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=9bc74b486b9e00c3738b60daaa5991c2ac3c364edf5317dfc72cd5c462e1613b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:24] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] warn: [MemoryMonitoring] Memory threshold exceeded: 584MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/login - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:24] warn: [MemoryMonitoring] Memory threshold exceeded: 582MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: refreshtest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=0ce56f78bf27d35b8abd3235c493e8a2542db0ad8f4fd5cd5e7e37d3e9bc3c08

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:25] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [MemoryMonitoring] Memory threshold exceeded: 585MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/refresh - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [MemoryMonitoring] Memory threshold exceeded: 586MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: refreshtest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=ac8a02e0ae94e936dbca1a287f166c983392500288a1dc9b09304c5039de95a0

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:25] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [MemoryMonitoring] Memory threshold exceeded: 589MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:25] error: [POST] /api/auth/refresh - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:25] error: Error Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/refresh - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [MemoryMonitoring] Memory threshold exceeded: 591MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: refreshtest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=9d204afbf6d9dd562e2d30764bb3a87a4e75143a84c44b87d3816e6d16d9b62b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:25] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [MemoryMonitoring] Memory threshold exceeded: 594MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] info: [POST] /api/auth/refresh - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:25] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [MemoryMonitoring] Memory threshold exceeded: 591MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: profiletest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=8ccae249754b4e4673de2c1cf674bd552b35164fa5234023da8a330445f2d8a3

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:26] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [GET] /api/auth/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [MemoryMonitoring] Memory threshold exceeded: 595MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [auth] Authenticated user 0661afb3-cad8-4f36-be4d-171dd1b63ab1 for GET /me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [GET] /api/auth/me - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [MemoryMonitoring] Memory threshold exceeded: 595MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: profiletest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=61cff452f21d98305dbc1821694a8626e06e814ca3c02bd61d268cf6bf7b0348

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:26] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [GET] /api/auth/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [MemoryMonitoring] Memory threshold exceeded: 596MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [auth] Access token is required for GET /me from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [GET] /api/auth/me - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:26] warn: [MemoryMonitoring] Memory threshold exceeded: 597MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: profiletest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=1fb67358ea6c6ee4cb433e1c5f4e380c6d5245a5154816dcc4dcb775382381bc

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:27] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [GET] /api/auth/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [MemoryMonitoring] Memory threshold exceeded: 585MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [auth] Invalid or expired token for GET /me from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [GET] /api/auth/me - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [MemoryMonitoring] Memory threshold exceeded: 588MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logouttest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=3b50ab2b3508f2c13bd1ff300c99ab854e905da6ed1fe62a3b29773ed6b95332

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:27] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [MemoryMonitoring] Memory threshold exceeded: 591MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [auth] Authenticated user e4f8b30a-70da-4dec-8c06-d374862e7bbe for POST /logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [AuthRateLimiter] resetAllAuthRateLimits() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [MemoryMonitoring] Memory threshold exceeded: 593MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logouttest@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=af284a39188c5907990fe5321798917aee476be9e3b15008a6a5e4b0e515241b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:27] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [MemoryMonitoring] Memory threshold exceeded: 596MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] warn: [auth] Access token is required for POST /logout from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:27] info: [POST] /api/auth/logout - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/cookieIntegration.test.mjs (6.026 s)
  â— Console

    console.log
      [2025-12-27 23:12:28] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:28] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:28] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:28] warn: [MemoryMonitoring] Memory threshold exceeded: 631MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: cookietest1@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=e627dc84236b00a3ff283e137bd3abb76c8ff3f157985ffa2a7130336c9e7d64

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:29] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] warn: [MemoryMonitoring] Memory threshold exceeded: 630MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: cookietest2@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=4cfcefe5bbd9dd487de7722589210c66b76c435dd3f1320e3a721814d4c71799

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:29] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] warn: [MemoryMonitoring] Memory threshold exceeded: 634MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: cookietest3@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=cee8c832fe3b3ecab7541cba37e2e092e55e3c143981e184e8256ee059033cc5

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:29] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:29] warn: [MemoryMonitoring] Memory threshold exceeded: 639MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logincookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=529b3b802dfa6b96b29344e0a8102959357eea7bdce1df172055d50073558c48

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:30] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] warn: [MemoryMonitoring] Memory threshold exceeded: 642MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] warn: [MemoryMonitoring] Memory threshold exceeded: 639MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logincookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=2d2c680612add3d706d78f684c585a484ae60dd8edbd603c2e651dc6d3f69873

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:30] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] warn: [MemoryMonitoring] Memory threshold exceeded: 642MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:30] warn: [MemoryMonitoring] Memory threshold exceeded: 640MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logincookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=5aa59866a436b7f9a753da147fd34c0df1e91310654c2452989158b9a2b2b0ed

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:31] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 643MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 640MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: refreshcookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=89783102dae2cdb138d309e34dd090a7d43f262c8c42b5f5d435919ddb1ff449

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:31] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 643MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 640MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 640MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: refreshcookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=51d3ee52967d1cfcff56e7cd021b02ff436def1f8e56275495b28c62ded4d2da

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:31] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 643MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 640MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:31] warn: [MemoryMonitoring] Memory threshold exceeded: 640MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: refreshcookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=9e0e2ef0ee136614caeeb2a89a6133f15b61b8f70eac48021898672c2b101ef5

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:32] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] warn: [MemoryMonitoring] Memory threshold exceeded: 644MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] warn: [MemoryMonitoring] Memory threshold exceeded: 641MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] warn: [MemoryMonitoring] Memory threshold exceeded: 640MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logoutcookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=59c1651a0d566d231d13c43de78d1afbb8450f017fbf585bb45391b38fc1dd7a

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:32] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] warn: [MemoryMonitoring] Memory threshold exceeded: 645MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] warn: [MemoryMonitoring] Memory threshold exceeded: 642MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:32] warn: [MemoryMonitoring] Memory threshold exceeded: 641MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logoutcookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=78c85cd3450d83c55a692b78617cd4a6e729b5da36d71d16fd68a000e0cf282d

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:33] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 645MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 642MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 641MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: logoutcookietest@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=14d6c63eb96ecf5703338830678595abdc9511068237c7c1a6f5585f4852ef9c

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:33] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 645MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 642MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 641MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: securitytest1@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=9d4541e41afe5d993d79ce484f0100707099e2711c7c12e6c4adee0af7dbfde4

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:33] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 646MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] warn: [MemoryMonitoring] Memory threshold exceeded: 643MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:33] info: [POST] /auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/csrf-integration.test.mjs (8.696 s)
  â— Console

    console.log
      [2025-12-27 23:12:34] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:34] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:34] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:34] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:34] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:34] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:34] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:34] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:34] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] warn: [MemoryMonitoring] Memory threshold exceeded: 679MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895155017@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=256da66912dbfc0513c008d89ac825d594e0c3dd9f715e7920d25febf5555229

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:35] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] warn: [MemoryMonitoring] Memory threshold exceeded: 689MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] warn: [MemoryMonitoring] Memory threshold exceeded: 691MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895155423@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=3ad02d7d92336e923f09c4b76e4a943556cd6f85a7e3c8061b29934c3835bd94

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:35] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] warn: [MemoryMonitoring] Memory threshold exceeded: 681MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:35] warn: [MemoryMonitoring] Memory threshold exceeded: 683MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895155771@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=7480ff044e2cc3d80c41a9b1d1140453c5674d6293d286255f166a99537f68a1

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:36] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 689MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 689MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 691MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895156141@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=4916a9d279fc49e4ad14ad9b1d51c55186b9ec15fb25324e69874d6ec1e468f4

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:36] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 681MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [PUT] /api/users/5c832b68-e25a-47aa-9eed-ca062e927bb2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 680MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [auth] Authenticated user 5c832b68-e25a-47aa-9eed-ca062e927bb2 for PUT /users/5c832b68-e25a-47aa-9eed-ca062e927bb2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [PUT] /api/users/5c832b68-e25a-47aa-9eed-ca062e927bb2 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 683MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895156522@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=661e6050b8f9bebe1fd597c7f90ad380e7b904f28b713959d3c5029535f207e5

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:36] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 687MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [PUT] /api/users/318299d5-0bda-4b1e-a52d-a0bc79bba739

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 687MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [auth] Authenticated user 318299d5-0bda-4b1e-a52d-a0bc79bba739 for PUT /users/318299d5-0bda-4b1e-a52d-a0bc79bba739

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [PUT] /api/users/318299d5-0bda-4b1e-a52d-a0bc79bba739 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:36] warn: [MemoryMonitoring] Memory threshold exceeded: 688MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895156891@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=6e9c7f51434dd05ac77c54e59d45bad2f3a0515d2690b7abfbec2ac361d80d5e

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:37] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 694MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [DELETE] /api/users/e784c395-2377-4899-877d-5f3a6803c339

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 693MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [auth] Authenticated user e784c395-2377-4899-877d-5f3a6803c339 for DELETE /users/e784c395-2377-4899-877d-5f3a6803c339

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [DELETE] /api/users/e784c395-2377-4899-877d-5f3a6803c339 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 694MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895157257@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=3af754b4048390fca30a17ccc733fef4fa03b4832107c39aa1ed57c7c66b16cb

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:37] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 683MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [PATCH] /api/users/d97f6db6-e87b-4430-b954-b5a52f6ced76

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 683MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [auth] Authenticated user d97f6db6-e87b-4430-b954-b5a52f6ced76 for PATCH /users/d97f6db6-e87b-4430-b954-b5a52f6ced76

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [PATCH] /api/users/d97f6db6-e87b-4430-b954-b5a52f6ced76 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 685MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895157628@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=89aaa7ea6f5d220617d88c745cfdc79d2690b55350c28b956bc1148e0329bb8b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:37] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [GET] /api/users/cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 688MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [auth] Authenticated user cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7 for GET /users/cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [auth] Authenticated user cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7 for GET /cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [userRoutes] Self-access validated: user cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [userController.getUser] Getting user cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [GET] /api/users/cf6a7dd7-ed38-4e6d-8302-c87d8dcdebf7 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:37] warn: [MemoryMonitoring] Memory threshold exceeded: 691MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895157976@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=5ae3abdc1d32504d3ce2a58a4ba66ac21307f98b2388d8154ed03987542a9b78

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:38] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [HEAD] /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] warn: [MemoryMonitoring] Memory threshold exceeded: 696MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [HEAD] /health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] warn: [MemoryMonitoring] Memory threshold exceeded: 695MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895158313@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=6e9002b3cfe67e02c48d70df12e804b014c3a83b5c139cbc6e4537c470c21d2d

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:38] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] warn: [MemoryMonitoring] Memory threshold exceeded: 689MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895158646@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=fb9ac801df64a4086132e25e62cbbe785e656671b703e1f3f67ba7a4b28bf37a

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:38] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [POST] /api/users/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] warn: [MemoryMonitoring] Memory threshold exceeded: 694MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [auth] Authenticated user 28619b79-66ca-4628-a595-526d45e54c42 for POST /users/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:38] info: [POST] /api/users/me - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] warn: [MemoryMonitoring] Memory threshold exceeded: 694MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895158996@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=8babc749be7351a2a61a8f72e70ae0214482eb534ceb22e30af43f8f8fc2875e

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:39] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [PUT] /api/users/a1ffedd1-9869-4f62-a938-83e2e22be7a5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] warn: [MemoryMonitoring] Memory threshold exceeded: 696MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [auth] Authenticated user a1ffedd1-9869-4f62-a938-83e2e22be7a5 for PUT /users/a1ffedd1-9869-4f62-a938-83e2e22be7a5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [PUT] /api/users/a1ffedd1-9869-4f62-a938-83e2e22be7a5 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] warn: [MemoryMonitoring] Memory threshold exceeded: 697MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895159360@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=4f29a5d997af01a09f30c6a1338af3ec8ce695f773a40fc6d766c849f316966c

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:39] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [DELETE] /api/users/2961effd-abe6-4622-a5fc-80290b350b6c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] warn: [MemoryMonitoring] Memory threshold exceeded: 685MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [auth] Authenticated user 2961effd-abe6-4622-a5fc-80290b350b6c for DELETE /users/2961effd-abe6-4622-a5fc-80290b350b6c

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [DELETE] /api/users/2961effd-abe6-4622-a5fc-80290b350b6c - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:39] warn: [MemoryMonitoring] Memory threshold exceeded: 688MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895159742@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=0aaee12c63f90bcaa58b3ecd62e2d9efa64196fc4f15568706f0309f25665b44

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:40] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 692MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [PUT] /api/users/503cfe71-4b35-4763-8b0a-cc2f4085d121

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 692MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [auth] Authenticated user 503cfe71-4b35-4763-8b0a-cc2f4085d121 for PUT /users/503cfe71-4b35-4763-8b0a-cc2f4085d121

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [auth] Authenticated user 503cfe71-4b35-4763-8b0a-cc2f4085d121 for PUT /503cfe71-4b35-4763-8b0a-cc2f4085d121

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [userRoutes] Self-access validated: user 503cfe71-4b35-4763-8b0a-cc2f4085d121 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [userController.updateUser] Updating user 503cfe71-4b35-4763-8b0a-cc2f4085d121

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [PUT] /api/users/503cfe71-4b35-4763-8b0a-cc2f4085d121 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 695MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895160113@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=9ca78ef04e60695660488ae5f8b7dc9773657e1f105007ffad762fc2e86753f6

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:40] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 698MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 699MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 700MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [CSRF] Token generated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [GET] /auth/csrf-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 688MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895160502@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=450162bd8576be988741f4ce2ab11da47febe51ff306940897889666b2d8cf69

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:40] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /api/users/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 689MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [auth] Authenticated user a3e2b854-2922-49f2-9398-51cff7553f30 for POST /users/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /api/users/me - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:40] warn: [MemoryMonitoring] Memory threshold exceeded: 690MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895160850@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=76fc3f1aa0727bb6704e8978864f1377ff0c458f28e92ee004d73029f4ddfeef

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:41] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] warn: [MemoryMonitoring] Memory threshold exceeded: 699MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895161176@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=1e6d93901f011865637161a88fa8f6ee1a3e0b99d8b91c1e115a0beb1d998956

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:41] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [POST] /auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] warn: [MemoryMonitoring] Memory threshold exceeded: 689MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [POST] /auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:41] warn: [MemoryMonitoring] Memory threshold exceeded: 689MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895161830@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=89dd668944de77ef34837cecd3ea1294297a459ed9cb5ec9f3df3cd17a4d736c

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:42] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] warn: [MemoryMonitoring] Memory threshold exceeded: 693MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: newuser1766895162157@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=33d158fbba6eb6948df1b72a438abe6afd65f65f5d2780b7ffb64a1f3e73444d

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:42] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] warn: [MemoryMonitoring] Memory threshold exceeded: 699MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: csrftest1766895162476@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=5cc678bc35415e7273729b9ce336aa350a738cf7f404cf29ce985ee4d2df07f0

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:42] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [POST] /auth/forgot-password

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] warn: [MemoryMonitoring] Memory threshold exceeded: 701MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] warn: 404 - Route not found: POST /auth/forgot-password from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:42] info: [POST] /auth/forgot-password - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

FAIL tests/integration/advancedBreedingGeneticsAPI.test.mjs
  â— Console

    console.log
      [2025-12-27 23:12:43] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:43] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:43] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:43] warn: [MemoryMonitoring] Memory threshold exceeded: 735MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: genetics@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=821f2a3e8c81a883c52a76eec75597a95f99cdbab57dcfaf5a84677bf1e482a9

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:44] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 731MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 731MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseModel.createHorse] Successfully created horse: Genetic Test Stallion (ID: 93936)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] Created new horse: Genetic Test Stallion (ID: 93936)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 733MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseModel.createHorse] Successfully created horse: Genetic Test Mare (ID: 93937)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] Created new horse: Genetic Test Mare (ID: 93937)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 735MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 744MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseModel.createHorse] Successfully created horse: Population Horse 1 (ID: 93938)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] Created new horse: Population Horse 1 (ID: 93938)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseModel.createHorse] Successfully created horse: Population Horse 2 (ID: 93939)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] Created new horse: Population Horse 2 (ID: 93939)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 735MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [advancedBreedingGeneticsRoutes.genetic-probability] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 calculating for stallion 93936 and mare 93937

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: Calculating enhanced genetic probabilities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [advancedLineageAnalysisService.generateLineageTree] Generating tree for stallion 93936 and mare 93937, 3 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [advancedLineageAnalysisService.generateLineageTree] Generated tree with 2 horses across 1 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: Calculating genetic diversity impact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: Calculating multi-generational predictions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/breeding/genetic-probability - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93936

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 745MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93936

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93936

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93936

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93936 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93937

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93937

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93937

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93937

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93937 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93938

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 742MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93938

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93938

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93938

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93938 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93939

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 740MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93939

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93939

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93939

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [DELETE] /api/horses/93939 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 740MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseModel.createHorse] Successfully created horse: Genetic Test Stallion (ID: 93940)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] Created new horse: Genetic Test Stallion (ID: 93940)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 741MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseModel.createHorse] Successfully created horse: Genetic Test Mare (ID: 93941)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [horseRoutes] Created new horse: Genetic Test Mare (ID: 93941)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 742MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] warn: [MemoryMonitoring] Memory threshold exceeded: 736MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:44] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Population Horse 1 (ID: 93942)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Population Horse 1 (ID: 93942)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Population Horse 2 (ID: 93943)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Population Horse 2 (ID: 93943)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 742MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedBreedingGeneticsRoutes.genetic-probability] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 calculating for stallion 99999 and mare 93941

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/breeding/genetic-probability - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93940

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93940

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93940

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93940

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93940 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93941

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 741MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93941

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93941

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93941

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93941 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93942

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 741MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93942

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93942

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93942

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93942 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93943

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 741MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93943

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93943

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93943

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93943 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 742MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Genetic Test Stallion (ID: 93944)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Genetic Test Stallion (ID: 93944)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Genetic Test Mare (ID: 93945)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Genetic Test Mare (ID: 93945)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 744MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 738MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Population Horse 1 (ID: 93946)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Population Horse 1 (ID: 93946)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Population Horse 2 (ID: 93947)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Population Horse 2 (ID: 93947)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 744MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [auth] Access token is required for POST /breeding/genetic-probability from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/breeding/genetic-probability - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93944

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93944

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93944

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93944

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93944 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93945

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93945

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93945

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93945

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93945 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93946

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93946

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93946

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93946

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93946 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93947

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93947

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93947

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93947

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93947 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 744MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Genetic Test Stallion (ID: 93948)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Genetic Test Stallion (ID: 93948)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 745MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Genetic Test Mare (ID: 93949)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Genetic Test Mare (ID: 93949)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 746MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 740MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Population Horse 1 (ID: 93950)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Population Horse 1 (ID: 93950)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseModel.createHorse] Successfully created horse: Population Horse 2 (ID: 93951)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] Created new horse: Population Horse 2 (ID: 93951)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [GET] /api/breeding/lineage-analysis/93948/93949?generations=3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 746MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for GET /breeding/lineage-analysis/93948/93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for GET /breeding/lineage-analysis/93948/93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedBreedingGeneticsRoutes.lineage-analysis] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 analyzing lineage for stallion 93948 and mare 93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedLineageAnalysisService.generateLineageTree] Generating tree for stallion 93948 and mare 93949, 3 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedLineageAnalysisService.calculateGeneticDiversityMetrics] Calculating diversity for 1 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedLineageAnalysisService.analyzeLineagePerformance] Analyzing performance for 1 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedLineageAnalysisService.createVisualizationData] Creating visualization for stallion 93948 and mare 93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedLineageAnalysisService.generateLineageTree] Generating tree for stallion 93948 and mare 93949, 3 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedLineageAnalysisService.generateLineageTree] Generated tree with 2 horses across 1 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      [2025-12-27 23:12:45] info: [advancedLineageAnalysisService.generateLineageTree] Generated tree with 2 horses across 1 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      [2025-12-27 23:12:45] info: [GET] /api/breeding/lineage-analysis/93948/93949?generations=3 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93948

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 742MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93948

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93948

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93948

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93948 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 741MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [ownership] Validated ownership: user a495577b-0a2d-4815-a7e1-bc6c42074bf2 owns horse 93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [horseRoutes] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 deleted horse ID: 93949

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93949 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93950

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 741MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93950

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93950 - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93951

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 740MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for DELETE /horses/93951

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [DELETE] /api/horses/93951 - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 740MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 752MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 750MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 745MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [GET] /api/breeding/lineage-analysis/99999/99998

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 744MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for GET /breeding/lineage-analysis/99999/99998

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for GET /breeding/lineage-analysis/99999/99998

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [advancedBreedingGeneticsRoutes.lineage-analysis] User a495577b-0a2d-4815-a7e1-bc6c42074bf2 analyzing lineage for stallion 99999 and mare 99998

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [GET] /api/breeding/lineage-analysis/99999/99998 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 746MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 742MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 752MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 751MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 749MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 747MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 741MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 743MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [MemoryMonitoring] Memory threshold exceeded: 755MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:45] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 753MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 748MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 748MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 746MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 744MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 754MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [GET] /api/genetics/diversity-report/a495577b-0a2d-4815-a7e1-bc6c42074bf2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 753MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for GET /genetics/diversity-report/a495577b-0a2d-4815-a7e1-bc6c42074bf2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for GET /genetics/diversity-report/a495577b-0a2d-4815-a7e1-bc6c42074bf2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [advancedBreedingGeneticsRoutes.diversity-report] Generating report for user a495577b-0a2d-4815-a7e1-bc6c42074bf2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.generateGeneticDiversityReport] Generating report for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateAdvancedGeneticDiversity] Analyzing 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.trackPopulationGeneticHealth] Tracking health for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateAdvancedGeneticDiversity] Analyzing 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.analyzeGeneticTrends] Analyzing trends for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.generateOptimalBreedingRecommendations] Generating recommendations for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.trackGeneticDiversityOverTime] Tracking diversity for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateAdvancedGeneticDiversity] Analyzing 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 2)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateAdvancedGeneticDiversity] Analyzing 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 3)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateAdvancedGeneticDiversity] Analyzing 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateAdvancedGeneticDiversity] Analyzing 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.trackPopulationGeneticHealth] Tracking health for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateAdvancedGeneticDiversity] Analyzing 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateEffectivePopulationSize] Calculating for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.identifyGeneticFounders] Identifying founders in 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 4)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.calculateEffectivePopulationSize] Calculating for 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      [2025-12-27 23:12:46] info: [geneticDiversityTrackingService.identifyGeneticFounders] Identifying founders in 2 horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      [2025-12-27 23:12:46] info: [GET] /api/genetics/diversity-report/a495577b-0a2d-4815-a7e1-bc6c42074bf2 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 748MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 747MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 746MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 756MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 755MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 752MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 750MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 744MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 747MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 759MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 757MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 751MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 751MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /breeding/genetic-probability

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/breeding/genetic-probability - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/genetics/inbreeding-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 750MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /genetics/inbreeding-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /genetics/inbreeding-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/genetics/inbreeding-analysis - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/genetics/population-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 750MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /genetics/population-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /genetics/population-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/genetics/population-analysis - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 751MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 748MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 749MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 759MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [auth] Authenticated user a495577b-0a2d-4815-a7e1-bc6c42074bf2 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/horses - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:46] warn: [MemoryMonitoring] Memory threshold exceeded: 757MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: other@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=59c4c2bb0923db5883c696c85949cfc3b4ac5aaadf7734e0197a23804e27e125

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:47] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] warn: [MemoryMonitoring] Memory threshold exceeded: 759MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:47] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

  â— ðŸ§¬ Advanced Breeding Genetics API Integration â€º ðŸŒ³ Advanced Lineage Analysis API â€º POST /api/breeding/breeding-recommendations should generate comprehensive recommendations

    TypeError: Cannot read properties of undefined (reading 'id')

    [0m [90m 241 |[39m         [33m.[39m[36mset[39m([32m'x-test-skip-csrf'[39m[33m,[39m [32m'true'[39m)
     [90m 242 |[39m         [33m.[39msend({
    [31m[1m>[22m[39m[90m 243 |[39m           stallionId[33m:[39m testStallion[33m.[39mid[33m,[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 244 |[39m           mareId[33m:[39m testMare[33m.[39mid[33m,[39m
     [90m 245 |[39m         })[33m;[39m
     [90m 246 |[39m[0m

      at Object.<anonymous> (tests/integration/advancedBreedingGeneticsAPI.test.mjs:243:36)

  â— ðŸ§¬ Advanced Breeding Genetics API Integration â€º ðŸ“Š Genetic Diversity Tracking API â€º POST /api/genetics/population-analysis should analyze population genetics

    TypeError: Cannot read properties of undefined (reading 'id')

    [0m [90m 265 |[39m   describe([32m'ðŸ“Š Genetic Diversity Tracking API'[39m[33m,[39m () [33m=>[39m {
     [90m 266 |[39m     test([32m'POST /api/genetics/population-analysis should analyze population genetics'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 267 |[39m       [36mconst[39m horseIds [33m=[39m testPopulation[33m.[39mmap(h [33m=>[39m h[33m.[39mid)[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 268 |[39m
     [90m 269 |[39m       [36mconst[39m response [33m=[39m [36mawait[39m request(app)
     [90m 270 |[39m         [33m.[39mpost([32m'/api/genetics/population-analysis'[39m)[0m

      at tests/integration/advancedBreedingGeneticsAPI.test.mjs:267:50
          at Array.map (<anonymous>)
      at Object.<anonymous> (tests/integration/advancedBreedingGeneticsAPI.test.mjs:267:39)

  â— ðŸ§¬ Advanced Breeding Genetics API Integration â€º ðŸ“Š Genetic Diversity Tracking API â€º POST /api/genetics/inbreeding-analysis should calculate detailed inbreeding

    TypeError: Cannot read properties of undefined (reading 'id')

    [0m [90m 298 |[39m         [33m.[39m[36mset[39m([32m'x-test-skip-csrf'[39m[33m,[39m [32m'true'[39m)
     [90m 299 |[39m         [33m.[39msend({
    [31m[1m>[22m[39m[90m 300 |[39m           stallionId[33m:[39m testStallion[33m.[39mid[33m,[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 301 |[39m           mareId[33m:[39m testMare[33m.[39mid[33m,[39m
     [90m 302 |[39m         })[33m;[39m
     [90m 303 |[39m[0m

      at Object.<anonymous> (tests/integration/advancedBreedingGeneticsAPI.test.mjs:300:36)

  â— ðŸ§¬ Advanced Breeding Genetics API Integration â€º ðŸ“Š Genetic Diversity Tracking API â€º POST /api/genetics/optimal-breeding should recommend optimal breeding pairs

    TypeError: Cannot read properties of undefined (reading 'id')

    [0m [90m 345 |[39m
     [90m 346 |[39m     test([32m'POST /api/genetics/optimal-breeding should recommend optimal breeding pairs'[39m[33m,[39m [36masync[39m () [33m=>[39m {
    [31m[1m>[22m[39m[90m 347 |[39m       [36mconst[39m horseIds [33m=[39m testPopulation[33m.[39mmap(h [33m=>[39m h[33m.[39mid)[33m;[39m
     [90m     |[39m                                                  [31m[1m^[22m[39m
     [90m 348 |[39m
     [90m 349 |[39m       [36mconst[39m response [33m=[39m [36mawait[39m request(app)
     [90m 350 |[39m         [33m.[39mpost([32m'/api/genetics/optimal-breeding'[39m)[0m

      at tests/integration/advancedBreedingGeneticsAPI.test.mjs:347:50
          at Array.map (<anonymous>)
      at Object.<anonymous> (tests/integration/advancedBreedingGeneticsAPI.test.mjs:347:39)

  â— ðŸ§¬ Advanced Breeding Genetics API Integration â€º ðŸ”’ API Security and Validation â€º All genetic endpoints should require authentication

    TypeError: Cannot read properties of undefined (reading 'id')

    [0m [90m 378 |[39m       [36mconst[39m endpoints [33m=[39m [
     [90m 379 |[39m         { method[33m:[39m [32m'post'[39m[33m,[39m path[33m:[39m [32m'/api/breeding/genetic-probability'[39m }[33m,[39m
    [31m[1m>[22m[39m[90m 380 |[39m         { method[33m:[39m [32m'get'[39m[33m,[39m path[33m:[39m [32m`/api/breeding/lineage-analysis/${testStallion.id}/${testMare.id}`[39m }[33m,[39m
     [90m     |[39m                                                                               [31m[1m^[22m[39m
     [90m 381 |[39m         { method[33m:[39m [32m'post'[39m[33m,[39m path[33m:[39m [32m'/api/breeding/breeding-recommendations'[39m }[33m,[39m
     [90m 382 |[39m         { method[33m:[39m [32m'post'[39m[33m,[39m path[33m:[39m [32m'/api/genetics/population-analysis'[39m }[33m,[39m
     [90m 383 |[39m         { method[33m:[39m [32m'post'[39m[33m,[39m path[33m:[39m [32m'/api/genetics/inbreeding-analysis'[39m }[33m,[39m[0m

      at Object.<anonymous> (tests/integration/advancedBreedingGeneticsAPI.test.mjs:380:79)

  â— ðŸ§¬ Advanced Breeding Genetics API Integration â€º ðŸ”’ API Security and Validation â€º Genetic endpoints should handle ownership validation

    TypeError: Cannot read properties of undefined (reading 'id')

    [0m [90m 451 |[39m         [33m.[39m[36mset[39m([32m'Authorization'[39m[33m,[39m [32m`Bearer ${otherToken}`[39m)
     [90m 452 |[39m         [33m.[39msend({
    [31m[1m>[22m[39m[90m 453 |[39m           stallionId[33m:[39m testStallion[33m.[39mid[33m,[39m
     [90m     |[39m                                    [31m[1m^[22m[39m
     [90m 454 |[39m           mareId[33m:[39m testMare[33m.[39mid[33m,[39m
     [90m 455 |[39m         })[33m;[39m
     [90m 456 |[39m[0m

      at Object.<anonymous> (tests/integration/advancedBreedingGeneticsAPI.test.mjs:453:36)

PASS tests/integration/api-response-integration.test.mjs (7.108 s)
  â— Console

    console.log
      [2025-12-27 23:12:48] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:48] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:48] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:48] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:49] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=dcd0730ea178be7cdee2842ec6a0a2bfe6461e26cde599074af28356b90a6f1f

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:49] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [auth] Authenticated user e4c3e944-d19b-4f5c-8365-eed334a2e695 for GET /api/test/success

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=bcb1cdcf34e4c350e89d4f1520467a7c81c48958c421525c2702dc0c2aa2cffe

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:49] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [auth] Authenticated user 892e9fb0-2cd9-4321-9311-e027b30f304f for GET /api/test/error

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=deb0fe1db10b41c60bcc5f7f4e0813eff7421ac4386e2c59a524b653181f213f

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:49] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:49] info: [auth] Authenticated user 8f2a27ff-e6ac-4d9e-8390-af63f7f628d5 for GET /api/test/not-found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=73d706d5fcbeaa347ab392443ce6102342e1d4ce57ec0dd08ea3a15d4cbf64b5

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:50] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [auth] Authenticated user 640a84e8-6f7a-4fbe-8d12-4acfdebf6a67 for GET /api/test/validation-error

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=52527eadac2116b23335799bd4e1e6340691f47fe334505ea00b1d690c97ad08

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:50] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [auth] Authenticated user efb8edf0-bb9e-461c-a668-ebe013cdc959 for GET /api/test/paginated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=aa6b314c786c29536b8c23a0e93cdc6c7c57c68bb9e47966c02e8122f33c0b16

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:50] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:50] info: [auth] Authenticated user 624fb363-2989-4b49-a18a-ed28a5780560 for GET /api/test/paginated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=3fb9ff7b2175a0e2e3c604e2b5e04132e4f84cebe081be66b9c6be540ccb100f

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:51] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [auth] Authenticated user 77fb4862-62ff-4724-b1cc-6471f702f3e8 for GET /api/test/success

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=caf898e9cb47f6c274d555256c7547415986856706b1c3c64ab6b0a671d56364

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:51] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [auth] Authenticated user 465fd691-6b8c-4317-95cb-57a9b38758e9 for GET /api/test/large-data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=a2a546fa4c721f62fd39e2b89fdf3329f5e17f304445792c300cd2e67efa26c9

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:51] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:51] info: [auth] Authenticated user f16c4c86-4810-4b9b-804e-dda6e02796cc for GET /api/test/field-selection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=28456af2cfe8912e004837b41b3bce923144c968bec570c8e26891d2cabc1799

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:52] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [auth] Authenticated user 776a40ea-a168-407c-9c55-448c5a2ee59c for GET /api/test/field-selection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=210645c01dcdb38a0eb9c4d5ff28e7e1ed6a315e6538f6f06321ed70a8c7b9e0

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:52] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [auth] Authenticated user 324392b9-926d-4bcf-a54c-5621a8610d71 for GET /api/test/etag

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [auth] Authenticated user 324392b9-926d-4bcf-a54c-5621a8610d71 for GET /api/test/etag

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:52] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=cf03992c5c6b91cc67d5441a3eeda1bed4a455ca7e7bbf09b2170c72d6e7ed80

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:52] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=8d22314f9198a4f0ae090e8f0a96f85a6432d7c7e21834bfee4b35f324d62148

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:53] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [health] Health check passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=5d6ed42d4d16f8e489c3dad415427cd6b6f76b1deba49b5f984ac61a51336609

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:53] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] warn: [auth] Access token is required for GET /api/test/success from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] warn: [auth] Access token is required for GET /api/test/error from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] warn: [auth] Access token is required for GET /api/test/large-data from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:53] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=1497bacd05080b0e39f56d9a22261b3ab912cb1e238d8fd0ad1fc42a68891017

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:53] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=b32cb32dbdad1e6cdd837a5461415c6c6bb44a697ac63e8ef46b80a601b34e10

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:54] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=64853036587d98a732159a3c96bc0f3d189db227df1a1f1db982767630655280

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:54] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [auth] Authenticated user c939b4f6-93a7-4764-91c3-9dc864c6510e for GET /api/test/success

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: apiresponseintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=417e3c65e02d57feda1910db74b7899fb87b56b2f6264260348be994f4534471

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:54] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:54] info: [auth] Authenticated user 686f977f-19c1-46b9-8736-97814fe991e7 for GET /api/test/large-data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/email-verification.test.mjs (6.021 s)
  â— Console

    console.log
      [2025-12-27 23:12:55] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:55] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:55] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:12:55] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:12:55] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:55] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:55] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:55] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:55] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] warn: [MemoryMonitoring] Memory threshold exceeded: 613MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: newuser_1766895176049@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=1bc7141c2267457321e1c4605e66ce5ad77e61dcc819282c8f1b0b298b3f1f6a

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:56] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] warn: [MemoryMonitoring] Memory threshold exceeded: 620MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: newuser2_1766895176484@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=1f4de771f0c8497f1d1a71b5d4bd0bcf9c8bce6bd4121b8f98a126131cc15198

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:56] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:56] warn: [MemoryMonitoring] Memory threshold exceeded: 613MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: devuser_1766895176888@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=c88def16f4819b7ce081ccf86a6f7fcb62dcfd654d9a0b6294ac354acdc1a4c0

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:57] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=c7cdd776bca0839a85e925652ea70a4dd373353b2f9bbde47a3168aca2e6c670

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] warn: [MemoryMonitoring] Memory threshold exceeded: 618MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=c7cdd776bca0839a85e925652ea70a4dd373353b2f9bbde47a3168aca2e6c670 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=ff8e80df1314ee4855937b1dfc17fa559c081354b4192fc25e1f9e25323410a9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] warn: [MemoryMonitoring] Memory threshold exceeded: 619MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=ff8e80df1314ee4855937b1dfc17fa559c081354b4192fc25e1f9e25323410a9 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=a4b7fb0092547b606122924bc3fc949f86a675d03ef266b5190bfd337c23dad9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] warn: [MemoryMonitoring] Memory threshold exceeded: 622MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=a4b7fb0092547b606122924bc3fc949f86a675d03ef266b5190bfd337c23dad9 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] warn: [MemoryMonitoring] Memory threshold exceeded: 623MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] error: [authController.verifyEmail] Error verifying email: Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] error: [GET] /auth/verify-email - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] error: Error Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=invalid_token_here

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] warn: [MemoryMonitoring] Memory threshold exceeded: 620MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] error: [authController.verifyEmail] Error verifying email: Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] error: [GET] /auth/verify-email?token=invalid_token_here - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] error: Error Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=invalid_token_here - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=777dae604e98dff8fd0f1c419ee69079e4b61a197b27b61acadb413768661034

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] warn: [MemoryMonitoring] Memory threshold exceeded: 623MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:57] error: [authController.verifyEmail] Error verifying email: Verification token has expired

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] error: [GET] /auth/verify-email?token=777dae604e98dff8fd0f1c419ee69079e4b61a197b27b61acadb413768661034 - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] error: Error Verification token has expired

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:57] info: [GET] /auth/verify-email?token=777dae604e98dff8fd0f1c419ee69079e4b61a197b27b61acadb413768661034 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verify-email?token=58dbf6ea18f542c2d1b43db07858629bac4af082baf84f05c05931bcedff610f

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 626MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verify-email?token=58dbf6ea18f542c2d1b43db07858629bac4af082baf84f05c05931bcedff610f - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verify-email?token=58dbf6ea18f542c2d1b43db07858629bac4af082baf84f05c05931bcedff610f

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 625MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] error: [EmailVerification] Error verifying email token: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: [authController.verifyEmail] Error verifying email: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: [GET] /auth/verify-email?token=58dbf6ea18f542c2d1b43db07858629bac4af082baf84f05c05931bcedff610f - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: Error Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verify-email?token=58dbf6ea18f542c2d1b43db07858629bac4af082baf84f05c05931bcedff610f - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verify-email?token=efb09cc0be13cd157a1c5bb9b7c2baa75bc5ddfed3b485df415411922b703d0b

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 628MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verify-email?token=efb09cc0be13cd157a1c5bb9b7c2baa75bc5ddfed3b485df415411922b703d0b - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [auth] Authenticated user bbe6434e-c706-426b-b094-67fa9fd7bed3 for POST /resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Resent verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: emailint_1766895178245@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=a924671840d55e8a12dab8f2c92478e45e69e34c925da32a04cd27488debaf57

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 620MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [auth] Access token is required for POST /resend-verification from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 623MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [auth] Authenticated user 064a2210-2b67-4943-aaa4-a950176b6564 for POST /resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] error: [EmailVerification] Error resending verification email: Email is already verified

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: [authController.resendVerification] Error resending verification: Email is already verified

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: [POST] /auth/resend-verification - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: Error Email is already verified

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification - 500

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [auth] Authenticated user 9d709d7f-2171-47e0-aa9e-627e18262fb9 for POST /resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Resent verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: emailint_1766895178593@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=c8db08925b99678590dae507dc3fb324bd4acca7e58a8c9f091282e76dbab562

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 618MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [auth] Authenticated user 9d709d7f-2171-47e0-aa9e-627e18262fb9 for POST /resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] error: [EmailVerification] Error creating verification token: Please wait 300 seconds before requesting another verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: [EmailVerification] Error resending verification email: Please wait 300 seconds before requesting another verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: [authController.resendVerification] Error resending verification: Please wait 300 seconds before requesting another verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: [POST] /auth/resend-verification - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] error: Error Please wait 300 seconds before requesting another verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 625MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [auth] Authenticated user f380df86-b1c8-430a-8562-7ca7324be3f7 for POST /resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Resent verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: emailint_1766895178760@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=a2397e48055bef01a3b2b1beff186f4f2614b6239cda34ce05b1d4aef9e52ec5

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:58] info: [POST] /auth/resend-verification - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [auth] Authenticated user 67b60740-9dad-4b12-ac0f-8e8f828f9ebb for GET /verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [EmailVerification] Verification status check

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:58] info: [GET] /auth/verification-status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 631MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [auth] Authenticated user 2c4b0761-363b-4146-822f-29ef30f447f7 for GET /verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Verification status check

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 619MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [auth] Access token is required for GET /verification-status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 622MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [auth] Authenticated user a1d25536-0a40-4a40-8957-7536d3687dfa for GET /verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Verification status check

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [POST] /auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 623MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: workflow_1766895179382@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=7966070c9a8660f43d885bd09be925bf5eb96f3d2b3deb6abe15a6977c22d279

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:59] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [POST] /auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verify-email?token=7966070c9a8660f43d885bd09be925bf5eb96f3d2b3deb6abe15a6977c22d279

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verify-email?token=7966070c9a8660f43d885bd09be925bf5eb96f3d2b3deb6abe15a6977c22d279 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [auth] Authenticated user b5d37c79-11a3-49ef-881d-8ee0273d4c6e for GET /verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Verification status check

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [POST] /auth/resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [auth] Authenticated user b5d37c79-11a3-49ef-881d-8ee0273d4c6e for POST /resend-verification

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Resent verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: emailint_1766895179739@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=ecf6a6261b92b34826a6bd8449f2d10716528f17f296e03287a7b8510b473989

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:12:59] info: [POST] /auth/resend-verification - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verify-email?token=ecf6a6261b92b34826a6bd8449f2d10716528f17f296e03287a7b8510b473989

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 631MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verify-email?token=ecf6a6261b92b34826a6bd8449f2d10716528f17f296e03287a7b8510b473989 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [auth] Authenticated user b5d37c79-11a3-49ef-881d-8ee0273d4c6e for GET /verification-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [EmailVerification] Verification status check

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:12:59] info: [GET] /auth/verification-status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 630MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [EmailVerification] Error verifying email token: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8 - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 631MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [EmailVerification] Error verifying email token: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8 - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=fc92308ea2b5a6ec177c16cc4cc099b928a6a0f334bc41df9b75dfa0840c1aa8 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=220d86ff07e1bc0ebe021a3042adee09c04500102f267fda4b38b97306ba0a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 622MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=220d86ff07e1bc0ebe021a3042adee09c04500102f267fda4b38b97306ba0a29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 629MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [EmailService] Welcome email (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=220d86ff07e1bc0ebe021a3042adee09c04500102f267fda4b38b97306ba0a29 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [EmailVerification] Error verifying email token: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token=220d86ff07e1bc0ebe021a3042adee09c04500102f267fda4b38b97306ba0a29 - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=220d86ff07e1bc0ebe021a3042adee09c04500102f267fda4b38b97306ba0a29 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=definitely_invalid_token_123

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 624MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token=definitely_invalid_token_123 - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=definitely_invalid_token_123 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 627MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token= - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token= - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 634MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token= - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token= - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 626MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=%3Cscript%3Ealert(%22xss%22)%3C/script%3E

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 626MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] error: [authController.verifyEmail] Error verifying email: Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: [GET] /auth/verify-email?token=%3Cscript%3Ealert(%22xss%22)%3C/script%3E - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] error: Error Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=%3Cscript%3Ealert(%22xss%22)%3C/script%3E - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] info: [GET] /auth/verify-email?token=%27;%20DROP%20TABLE%20users;%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:00] warn: [MemoryMonitoring] Memory threshold exceeded: 626MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] error: [authController.verifyEmail] Error verifying email: Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] error: [GET] /auth/verify-email?token=%27;%20DROP%20TABLE%20users;%20-- - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] error: Error Invalid or expired verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] info: [GET] /auth/verify-email?token=%27;%20DROP%20TABLE%20users;%20-- - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] info: [GET] /auth/verify-email?token=

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] warn: [MemoryMonitoring] Memory threshold exceeded: 627MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] error: [authController.verifyEmail] Error verifying email: Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] error: [GET] /auth/verify-email?token= - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] error: Error Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] info: [GET] /auth/verify-email?token= - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] info: [GET] /auth/verify-email?token=

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] warn: [MemoryMonitoring] Memory threshold exceeded: 634MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] error: [authController.verifyEmail] Error verifying email: Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] error: [GET] /auth/verify-email?token= - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] error: Error Verification token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:01] info: [GET] /auth/verify-email?token= - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/health-monitoring-integration.test.mjs (6.538 s)
  â— Console

    console.log
      [2025-12-27 23:13:01] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:01] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:02] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:02] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:02] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=65d5afac1d47ef5adcefdd9ed98da06533c9d21f73fc19c3be7288ad8581b6a7

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:02] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:02] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:02] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=64519235d3432189f68e1716e18688cf36179683b09069ff4818762770b95732

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:02] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=d8321ac18f28fe423cb67928b8271c9de85fbe9e3e907ad42b709094638929df

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:03] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [health] Health check passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=da9dba90a540818d8bffde77cba456d7137af3c9654d4f196dc16c5ae10fafea

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:03] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=7dbcc2726c9c4729124b1fa2b307950272c9a22fde5bf5dfd325282d59af3cd8

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:03] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [auth] Authenticated user b9cbdc08-ed51-49ac-b879-63eea7f22ee3 for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:03] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=20d097fd726a238c0901fc475a7468fa65bd5f4578b0ad23e6d68081278eecbf

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:04] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [auth] Authenticated user 6347008a-c665-4117-96d6-62b0b4e5d49e for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=d59884caca1470fa24d57fe5465fc45e7a2eaeceb72ffc80c1f0bc814b016218

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:04] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [auth] Authenticated user 68848659-3879-4c53-9d50-fe3f79ab9643 for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [DocumentationRoutes] Getting documentation health status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [ApiDocService] OpenAPI specification validation passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=94c76c36b388210f71a03a8fbfe04f23ac432b900a77eaf8d5abb4c5ffb2fb22

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:04] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [UserDocService] Loaded 1 documentation files

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [UserDocService] Built search index with 34 terms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:04] info: [UserDocService] Documentation system initialized successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=2b22a6209bd46182fe27619f05af81813e550d10e13ba36f8c9edf1ef48cdf77

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:05] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=e7b5a1dfb35a85a8ba2297330b2ecda99d43efb49d34c20328a16114e72b6ca1

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:05] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [health] Health check passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [auth] Authenticated user 03c996d1-3e73-4842-8cce-9f4fb48e26a2 for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [auth] Authenticated user 03c996d1-3e73-4842-8cce-9f4fb48e26a2 for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [DocumentationRoutes] Getting documentation health status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [ApiDocService] OpenAPI specification validation passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=b8a26bdb63535618a5fccf4b9805d177623b43389122f51ae4d93953a8fd5bbe

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:05] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [auth] Authenticated user 3e7988d8-429f-43c6-bfd0-13928d34c578 for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:05] info: [health] Health check passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=96aa938e4757bf29398311c04c88f69f166f8c2f4b025fb6e5becf3ce1f6730e

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:06] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [health] Health check passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=f546fa7c44ef2bf13da3ebb0dff62734d048447ac4e4d29e4b901f2c5a4ca380

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:06] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [health] Health check passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=3a8ce1190b82170b8f8dabf4b3d69dc597ff2a9e7b0b58d700cc62d5920eead2

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:06] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] warn: [auth] Access token is required for GET /health from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] warn: [auth] Access token is required for GET /health from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:06] warn: [auth] Access token is required for GET /api/test/health-status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=15ee83fb339a30ea7195676842e275847db66b3aac1bbc63642360165cbdb252

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:07] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [health] Health check passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=f8dd8b278a2fb6210de711622bf8979c6546d89efca3180894c609bf4da54791

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:07] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [auth] Authenticated user 22f38f80-ac37-4796-8a82-7fa92754e32e for GET /api/test/health-status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: healthintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=dbb44be7fc960a0c7bd5fe1e703f95a92a3570b53cb4c361edd0d10fb20fbd41

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:07] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] warn: [auth] Invalid or expired token for GET /health from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:07] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/crossSystemValidation.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:08] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:08] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:08] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [POST] /api/horses/foals

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] warn: [MemoryMonitoring] Memory threshold exceeded: 704MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /horses/foals

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /foals

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseController.createFoal] Creating foal: Trait Test Foal with sire 93952 and dam 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseModel.getHorseById] Successfully found horse: Cross System Test Horse (ID: 93952)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 0)

    console.log
      [2025-12-27 23:13:08] info: [horseModel.getHorseById] Successfully found horse: Cross System Test Horse (ID: 93952)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.all (index 1)

    console.log
      [2025-12-27 23:13:08] info: [horseController.gatherLineage] Gathering lineage for sire 93952 and dam 93952, 3 generations

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseController.gatherLineage] Gathered 1 ancestors

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseController.assessFeedQualityFromMare] Mare Cross System Test Horse feed quality: 75 (health: Good, bond: 50)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseController.createFoal] Mare stress: 50, Feed quality: 75, Lineage count: 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [applyEpigeneticTraitsAtBirth] Starting trait assignment at birth

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [applyEpigeneticTraitsAtBirth] Mare stress: 50, Feed quality: 75

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [applyEpigeneticTraitsAtBirth] Final traits assigned: {"positive":[],"negative":[]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseController.createFoal] Applied epigenetic traits: {"positive":[],"negative":[]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseModel.createHorse] Applying at-birth traits for newborn with sire 93952 and dam 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.applyEpigeneticTraitsAtBirth] Applying at-birth traits for sire 93952 and dam 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.assessFeedQuality] Mare 93952 feed quality: 70

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.applyEpigeneticTraitsAtBirth] Mare stress: 50, Feed quality: 70

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.analyzeLineage] Analyzing lineage for sire 93952 and dam 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.analyzeLineage] Found 0 ancestors, 0 competitions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.detectInbreeding] Checking for inbreeding between sire 93952 and dam 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.detectInbreeding] Inbreeding not detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.applyEpigeneticTraitsAtBirth] Breeding conditions: {"mareStress":50,"feedQuality":70,"disciplineSpecialization":false,"inbreedingDetected":false,"noInbreeding":true}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [atBirthTraits.applyEpigeneticTraitsAtBirth] Final traits: {"positive":[],"negative":[],"hidden":[]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseModel.createHorse] Applied at-birth traits: {"positive":[],"negative":[],"hidden":[]}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseModel.createHorse] Breeding analysis - Lineage specialization: false, Inbreeding: false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseModel.createHorse] Successfully created horse: Trait Test Foal (ID: 93953)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [horseController.createFoal] Successfully created foal: Trait Test Foal (ID: 93953)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [POST] /api/horses/foals - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [POST] /api/foals/93953/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] warn: [MemoryMonitoring] Memory threshold exceeded: 702MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /foals/93953/enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns foal 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [foalRoutes] POST /api/foals/93953/enrichment - Day 1, Activity: Feeding Assistance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [foalModel.completeEnrichmentActivity] Processing enrichment activity "Feeding Assistance" for foal 93953 on day 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [foalModel.completeEnrichmentActivity] Activity completed successfully. Bond: 0 -> 7, Stress: 0 -> 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [POST] /api/foals/93953/enrichment - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [traitDiscovery.revealTraits] Found 0 hidden traits for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [traitDiscovery.revealTraits] No hidden traits to reveal for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [POST] /api/traits/discover/93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] warn: [MemoryMonitoring] Memory threshold exceeded: 706MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /traits/discover/93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [traitController.discoverTraits] Triggering trait discovery for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [traitDiscovery.revealTraits] Found 0 hidden traits for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [traitDiscovery.revealTraits] No hidden traits to reveal for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [POST] /api/traits/discover/93953 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:08] info: [GET] /api/traits/discovery-status/93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 708MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /traits/discovery-status/93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [traitController.getDiscoveryStatus] Getting discovery status for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/traits/discovery-status/93953 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/milestones/evaluate-milestone

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 710MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /milestones/evaluate-milestone

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /evaluate-milestone

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [enhancedMilestoneController.evaluateMilestone] Evaluating milestone imprinting for horse 93953

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Found owned horse 93953 for user f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [enhancedMilestoneEvaluationSystem.evaluateEnhancedMilestone] Starting evaluation for horse 93953, milestone imprinting

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [enhancedMilestoneEvaluationSystem] No personality effects applied - missing groom personality or horse temperament

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [enhancedMilestoneEvaluationSystem.evaluateEnhancedMilestone] Completed evaluation for horse 93953: fearful (score: -5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/milestones/evaluate-milestone - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 714MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses/93952/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses/93952/environmental-analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: Environmental analysis generated for horse 93952 by user f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952/environmental-analysis - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952/trait-matrix

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 713MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses/93952/trait-matrix

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses/93952/trait-matrix

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: Trait interaction matrix generated for horse 93952 by user f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952/trait-matrix - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 707MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses/93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 706MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Found owned horse 93952 for user f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingController.trainRouteHandler] Training request for horse 93952 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingController.trainHorse] Attempting to train horse 93952 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingController.canTrain] Checking training eligibility for horse 93952 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingModel.getHorseAge] Getting age for horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingModel.getHorseAge] Horse 93952 is 28 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93952 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingModel.getAnyRecentTraining] No training records found for horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingController.canTrain] Horse 93952 is eligible to train in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [horseModel.getHorseById] Successfully found horse: Cross System Test Horse (ID: 93952)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingController.trainHorse] Horse 93952 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingModel.logTrainingSession] Logging training session for horse 93952 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4785

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [horseModel.incrementDisciplineScore] Incrementing Racing score for horse 93952 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [horseModel.updateDisciplineScore] Updating Racing score for horse 93952 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [horseModel.updateDisciplineScore] Successfully updated Racing score for horse 93952: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [horseModel.incrementDisciplineScore] Successfully incremented Racing score for horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [xpLogModel.logXpEvent] Logging XP event: User f53b421b-dba9-4328-a7d7-7cfac65155ab, Amount: 5, Reason: Trained horse Cross System Test Horse in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2310, User f53b421b-dba9-4328-a7d7-7cfac65155ab, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingController.trainHorse] Awarded 5 XP to user f53b421b-dba9-4328-a7d7-7cfac65155ab for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [trainingController.trainHorse] Successfully trained horse 93952 in Racing (Log ID: 4785, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 707MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses/93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/competition/eligibility/93952/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 707MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /competition/eligibility/93952/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /eligibility/93952/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [competitionRoutes.GET /eligibility] Checking eligibility for horse 93952 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [competitionRoutes.GET /eligibility] Horse 93952 eligibility checked for Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/competition/eligibility/93952/Racing - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 709MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [competitionRoutes.POST /enter] User f53b421b-dba9-4328-a7d7-7cfac65155ab entering horse 93952 in show 5444

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Found owned horse 93952 for user f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [competitionRoutes.POST /enter] Successfully entered horse 93952 in show 5444

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/competition/enter - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 712MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [competitionRoutes.POST /execute] User f53b421b-dba9-4328-a7d7-7cfac65155ab executing competition for show 5444

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [competitionRoutes.POST /execute] Executing competition with 1 entries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [enhancedCompetitionSimulation] Executing competition: Cross System Test Show 1766895189554 (Racing)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [calculateCompetitionScore] Horse Cross System Test Horse: Base score for Racing: 240

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:13:09] info: [calculateCompetitionScore] Horse Cross System Test Horse: Luck modifier: 4.3%, adjustment: 10.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:13:09] info: [calculateCompetitionScore] Horse Cross System Test Horse: Final score: 250 (base: 240, trait: +0, luck: 10.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:13:09] info: [enhancedCompetitionSimulation] Horse Cross System Test Horse (ID: 93952) scored 250 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:13:09] info: [resultModel.saveResult] Successfully updated placeholder result for horse 93952 in show 5444 with score 250

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [horseXpModel.addXpToHorse] Added 30 XP to horse Cross System Test Horse (ID: 93952). New XP: 30, Stat points gained: 0, Available: 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [enhancedCompetitionSimulation] Awarded 30 Horse XP to Cross System Test Horse for 1st place

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [enhancedCompetitionSimulation] Competition completed. 1 entries processed.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [competitionRoutes.POST /execute] Competition executed successfully for show 5444

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/competition/execute - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952/xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 709MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses/93952/xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns horse 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [horseXpController.getHorseXpStatus] Retrieved XP status for horse Cross System Test Horse (ID: 93952)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/horses/93952/xp - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/leaderboards/competition?discipline=Racing&timeframe=all

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 710MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /leaderboards/competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [leaderboardRoutes.GET /competition] Getting competition leaderboard: discipline=Racing, period=all, metric=wins

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [leaderboardRoutes.GET /competition] Retrieved 0 leaderboard entries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/leaderboards/competition?discipline=Racing&timeframe=all - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/user/f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 713MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /grooms/user/f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomController.getUserGrooms] Getting grooms for user f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/user/f53b421b-dba9-4328-a7d7-7cfac65155ab - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 713MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomController.recordInteraction] Recording brushing interaction for foal 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [groomPersonalityEffects.calculatePersonalityEffects] Unknown personality: methodical

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for methodical: none

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomController.recordInteraction] Interaction recorded: 10 bonding, -1 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46546 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomProgressionService.awardGroomXP] Groom 46546 gained 2 XP: 200 â†’ 202 (Level 4 â†’ 2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomController.recordInteraction] Awarded 2 XP to groom 46546 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/user/f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 719MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /grooms/user/f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomController.getUserGrooms] Getting grooms for user f53b421b-dba9-4328-a7d7-7cfac65155ab

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/user/f53b421b-dba9-4328-a7d7-7cfac65155ab - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/46546/retirement/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 718MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /grooms/46546/retirement/eligibility

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [ownership] Validated ownership: user f53b421b-dba9-4328-a7d7-7cfac65155ab owns groom 46546

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/46546/retirement/eligibility - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/grooms/assign

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 717MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /grooms/assign

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /assign

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomController.assignGroom] Assigning groom 46546 to foal 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomSystem.assignGroomToFoal] Assigning groom 46546 to foal 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomSystem.assignGroomToFoal] Successfully assigned Cross System Test Groom to foal Cross System Test Horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [POST] /api/grooms/assign - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/assignments/93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] warn: [MemoryMonitoring] Memory threshold exceeded: 720MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /grooms/assignments/93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [groomController.getFoalAssignments] Getting assignments for foal 93952

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:09] info: [GET] /api/grooms/assignments/93952 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/memory/status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 720MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /memory/status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/memory/status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 714MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 722MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 714MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 722MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 714MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 722MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 714MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 722MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 714MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 721MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/memory/status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 723MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /memory/status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/memory/status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [POST] /api/memory/gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 724MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /memory/gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for POST /gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [MemoryManagement] Manual GC trigger requested (force: false)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [POST] /api/memory/gc - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 724MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses?page=1&limit=5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 723MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/horses?page=1&limit=5 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 724MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api-docs/swagger.json - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/docs/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 721MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [DocumentationRoutes] Getting documentation health status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [ApiDocService] OpenAPI specification validation passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/docs/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/search?q=competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 726MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [UserDocRoutes] Searching documentation for: "competition"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [UserDocService] Loaded 1 documentation files

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [UserDocService] Built search index with 34 terms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [UserDocService] Documentation system initialized successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/search?q=competition - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/feature-guide

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 724MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [UserDocRoutes] Getting document: feature-guide

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/feature-guide - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 723MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [UserDocRoutes] Getting documentation analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/analytics - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 724MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /ping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 722MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /ping - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/memory/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 717MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /memory/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [auth] Authenticated user f53b421b-dba9-4328-a7d7-7cfac65155ab for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/memory/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] warn: [MemoryMonitoring] Memory threshold exceeded: 718MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:10] info: [GET] /api/user-docs/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/auth-cookies.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:11] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:11] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:11] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:11] warn: [MemoryMonitoring] Memory threshold exceeded: 761MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: cookietest+1766895191862@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=c29e2c7214b12e4daa406784df5b17752773430a071f7e912d904e9621c78e4b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:12] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 767MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: cookietest2@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=ee7d23b27290a22ee4124b34fed97c297769c84d6495b1ed3777c845d16e7bcd

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:12] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 770MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 766MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 764MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 762MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 759MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [auth] Access token is required for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 770MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 765MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 763MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 761MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] error: [authController.refreshToken] Error refreshing token: Refresh token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:12] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:12] error: Error Refresh token is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/refresh-token - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 767MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 764MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 762MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 773MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:12] warn: [MemoryMonitoring] Memory threshold exceeded: 769MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: xss-test@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=63cfd861db2ac18f10f6ec5194361599f1552d90bef3dc5d176146158508af58

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:13] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] warn: [MemoryMonitoring] Memory threshold exceeded: 773MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] warn: [MemoryMonitoring] Memory threshold exceeded: 770MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] warn: [MemoryMonitoring] Memory threshold exceeded: 769MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] warn: [MemoryMonitoring] Memory threshold exceeded: 767MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/documentation-system-integration.test.mjs (5.095 s)
  â— Console

    console.log
      [2025-12-27 23:13:13] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:13] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:14] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:14] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:14] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:14] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:14] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:14] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:14] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:14] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:14] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=959d187f9f8e67fffc3182333e1fa4ba93b18d202691e431466afbb3a74d1f85

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:14] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=c5e8dadd5f1758dd0adfd8ebcad4193950740808dcd9acc46a0f84091e887e8d

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:15] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=bc327c2a852a6e7c2376c984bff7eb495069b31293edcce7fc8e17c908610aec

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:15] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=85d53bd61f6d95f9fb0f3e1fd724cc140e2675f58715c97d3f1f937cb6c7c98f

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:15] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [auth] Authenticated user 4d9932ef-d514-4b5e-837b-2bed3de13823 for POST /endpoints

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:15] info: [DocumentationRoutes] Registering endpoint: GET /api/test/integration

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=90a43dcf6a682401c43db2a5315bdf0b334ecd57eb245c2c353e7b462ff57afd

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:16] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [auth] Authenticated user a12324a4-c947-43c9-a754-7f5144b8d1d3 for POST /schemas

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [DocumentationRoutes] Registering schema: TestSchema

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=1f5e8ee7a9f4d619b0520586d1df788205ef0f4a9340c10e3b0752ddfe2eda2b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:16] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [auth] Authenticated user 4589a980-c53a-42b9-a0a1-af8584f5268d for POST /endpoints

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [DocumentationRoutes] Registering endpoint: POST /api/test/create

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [auth] Authenticated user 4589a980-c53a-42b9-a0a1-af8584f5268d for POST /schemas

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [DocumentationRoutes] Registering schema: CreateTestSchema

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [auth] Authenticated user 4589a980-c53a-42b9-a0a1-af8584f5268d for POST /generate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [DocumentationRoutes] Generating API documentation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [ApiDocService] OpenAPI specification saved successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [ApiDocService] Documentation generated for 2 endpoints

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=231cc8081aeab15d7f24bdb119211f04c1922363bc1c57da12bcfe8ec19e2efc

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:16] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [auth] Authenticated user a19c4c02-7b8c-42c7-88a4-eac230a188c8 for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:16] info: [DocumentationRoutes] Getting documentation metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=ac19697c12b1208f4e1087eea48bfb21eff26c83a53b9f31f72f0d83fc9d2b5b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:17] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [auth] Authenticated user 8bf11370-ee6d-462f-9556-7f67b79ed124 for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [DocumentationRoutes] Getting documentation health status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [ApiDocService] OpenAPI specification validation passed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=24c53be57a4e56c557a6a7ea4dfa1a20657c30b360baceeab4fbd75ab00fa400

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:17] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [auth] Authenticated user 0b62af0b-0fe1-4061-948c-5fe937884944 for GET /coverage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [DocumentationRoutes] Getting documentation coverage analysis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:17] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=ae16f0f6986cf67b0c2adac8f9f42642077966e50d3e64a5e310f1e0b96a7f6f

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:17] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=cf14463eab01fa836eb11453b9fd91ed0c71880f0a8d2e5243054606b430a1dd

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:18] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [auth] Authenticated user d76371b4-e839-4efa-ab82-a4be912d70c0 for GET /api/test/documented

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=a13745d01c2f6655770e06b748847199a48ba23e62ddbbc066606c550fd2fc6d

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:18] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] warn: [auth] Access token is required for POST /endpoints from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: docintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=920258e87a9df0479f92092ce6a4d604d9c91b2daf8375863f9a5d07ac48c8d7

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:18] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:18] info: [auth] Authenticated user 62173df6-981f-4346-8833-e4a25fb7f59b for POST /endpoints

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/token-rotation.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:19] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:19] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:19] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] warn: [MemoryMonitoring] Memory threshold exceeded: 844MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:19] warn: [MemoryMonitoring] Memory threshold exceeded: 845MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 844MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 840MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 851MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 848MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 847MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 846MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 843MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 841MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 854MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 850MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 848MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 847MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:20] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:20] error: Error Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [MemoryMonitoring] Memory threshold exceeded: 850MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] warn: [authController.refreshToken] Token rotation failed:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:20] error: [authController.refreshToken] Error refreshing token: Invalid refresh token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:20] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:20] error: Error Invalid refresh token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:20] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 854MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 850MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 849MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:21] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:21] error: Error Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 854MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 850MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 852MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 854MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 844MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 849MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 854MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 844MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:21] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:21] error: Error Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 845MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 846MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 851MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] warn: [MemoryMonitoring] Memory threshold exceeded: 856MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:21] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 850MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 848MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 846MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: Error Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 849MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [authController.refreshToken] Token rotation failed:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] error: [authController.refreshToken] Error refreshing token: Invalid refresh token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: Error Invalid refresh token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 851MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 849MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 847MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: Error Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 851MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [authController.refreshToken] Token rotation failed:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] error: [authController.refreshToken] Error refreshing token: Invalid refresh token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] error: Error Invalid refresh token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 853MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 850MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:22] warn: [MemoryMonitoring] Memory threshold exceeded: 860MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 856MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 855MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:23] error: [POST] /api/auth/refresh-token - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:23] error: Error Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/cleanup-tokens

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 860MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: 404 - Route not found: POST /api/auth/cleanup-tokens from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/cleanup-tokens - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 859MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 854MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 851MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 849MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] warn: [MemoryMonitoring] Memory threshold exceeded: 860MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [POST] /api/auth/refresh-token - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/memory-management-integration.test.mjs (6.273 s)
  â— Console

    console.log
      [2025-12-27 23:13:23] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:23] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:24] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:24] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:24] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:24] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=5dcc71bd5c247e2e1892183d2ca0d7f0758c8f68b3fceea33bc53cb9ac653c91

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:24] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:24] info: [auth] Authenticated user faee18c8-0af8-448d-9900-bd93cfc78c52 for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:24] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:24] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:24] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=e3aac3020a7aaa5cd02c77b28e5b6f1c7963567896c1a953cc729f688aaaf319

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:25] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [auth] Authenticated user 6c5b01d6-faef-4e45-9837-525f89b6fe91 for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [MemoryManagement] Getting memory metrics for timeframe: 1h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=6bcac0de3bf9323dfdc0cdc682893f45c6c93fa32abffb30bf01b7b19dc7a331

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:25] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [auth] Authenticated user 3e586e97-1038-42cc-a58e-306960821b31 for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:25] info: [auth] Authenticated user 3e586e97-1038-42cc-a58e-306960821b31 for POST /api/test/memory-load

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [auth] Authenticated user 3e586e97-1038-42cc-a58e-306960821b31 for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=322163fb09b21f9447d477bfa098b9cae3fca685490701e6bcc227e31ca2f5f6

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:26] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [auth] Authenticated user 7e8d9d90-5171-4fe5-b1d3-9f173ec990fd for GET /resources

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManagement] Getting resource analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [auth] Authenticated user 7e8d9d90-5171-4fe5-b1d3-9f173ec990fd for POST /cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManagement] Resource cleanup requested for: all

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [auth] Authenticated user 7e8d9d90-5171-4fe5-b1d3-9f173ec990fd for GET /resources

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManagement] Getting resource analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:26] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=85485e953d907f48113878b5608895b78c56ec575df6ce4f6513d16869c6e4f2

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:27] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [auth] Authenticated user 5fb7193e-0537-445f-865b-5699cd123505 for GET /resources

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManagement] Getting resource analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=23602b51f8c9d47492ce3dd7a791942ec17e8766a4466a74637cbf31a43abc27

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:27] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [auth] Authenticated user 84f9aeed-1bcb-4e2d-a614-04036226e04a for POST /gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManagement] Manual GC trigger requested (force: false)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=d49941db91a256af3446348dda1432a9cfa0979794568685d15396bbe809055b

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:27] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [auth] Authenticated user 4a8ea357-17ae-4b20-ad3e-85385fe14fbf for POST /gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManagement] Manual GC trigger requested (force: true)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:27] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=8ca55eff69f24388b820dc708ed42cca96f0dd71a0f25f903143f9b0211e0b16

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:28] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [auth] Authenticated user 67136017-7cd5-46ad-9abf-dc6bed6b842d for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManagement] Getting memory alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=11fc0a0fd79bfb08df9cabdfd08cf49f2e6486b015827fbb4d3abf74116c15f7

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:28] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [auth] Authenticated user 2dc8a55e-05cf-43e4-979e-06aa34370571 for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManagement] Getting memory alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=0975e81933338a5806f3fcc969396b1b845a0a1f37e96fe1e99f4d295f9b2d6d

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:28] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] warn: [auth] Access token is required for GET /status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] warn: [auth] Access token is required for GET /metrics from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] warn: [auth] Access token is required for GET /resources from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] warn: [auth] Access token is required for GET /alerts from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:28] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=a616ac2dd011b17ba0a1269958f3a71d2f79cb033527c3a58d2128fde82abcfc

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:29] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [auth] Authenticated user b1a7f01b-7651-49af-a256-1d728926ff3a for POST /gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=c81991f79ea58dd66fcc2a09b823b28d4e7c1f82037993d6d450edc392cdf161

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:29] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: memoryintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=fd8e38f815a10884fe6e6b2b51fc694e60f2529ed1e9d867847e1c274567651f

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:29] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:29] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/groomMarketplaceAPI.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:30] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:30] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:30] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [MemoryMonitoring] Memory threshold exceeded: 926MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [auth] Access token is required for GET /groom-marketplace from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [GET] /api/groom-marketplace - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [POST] /api/groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [MemoryMonitoring] Memory threshold exceeded: 928MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [auth] Access token is required for POST /groom-marketplace/refresh from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [POST] /api/groom-marketplace/refresh - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [POST] /api/groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [MemoryMonitoring] Memory threshold exceeded: 927MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [auth] Access token is required for POST /groom-marketplace/hire from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [POST] /api/groom-marketplace/hire - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [GET] /api/groom-marketplace/stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [MemoryMonitoring] Memory threshold exceeded: 925MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [auth] Access token is required for GET /groom-marketplace/stats from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [GET] /api/groom-marketplace/stats - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] warn: [MemoryMonitoring] Memory threshold exceeded: 925MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:30] info: [groomMarketplace] Generated new marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 with 12 grooms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 933MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 938MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 928MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 933MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Refreshing marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608, force: false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Refreshed marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 with 12 new grooms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 927MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 928MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Refreshing marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608, force: false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 932MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Refreshing marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608, force: false

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 936MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Refreshing marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608, force: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Charged user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 $100 for premium refresh

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Refreshed marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 with 12 new grooms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/refresh - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 928MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 934MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] User 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 attempting to hire groom mkt_a9b9b581-ad8c-4e3a-a5f3-e7c91d643b38

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] User 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 hired groom 46547 for $588

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [POST] /api/groom-marketplace/hire - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 938MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] warn: [MemoryMonitoring] Memory threshold exceeded: 929MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:31] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 935MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] User 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 attempting to hire groom mkt_c0de40cc-b155-4fd0-ae43-9607fc04a773

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] User 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 hired groom 46548 for $231

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 937MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 941MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Generated new marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 with 12 grooms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 932MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user f9891569-e389-405b-b17a-d2e42de2facc for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user f9891569-e389-405b-b17a-d2e42de2facc for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Getting marketplace for user f9891569-e389-405b-b17a-d2e42de2facc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Generated new marketplace for user f9891569-e389-405b-b17a-d2e42de2facc with 12 grooms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 939MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user f9891569-e389-405b-b17a-d2e42de2facc for POST /groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user f9891569-e389-405b-b17a-d2e42de2facc for POST /hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] User f9891569-e389-405b-b17a-d2e42de2facc attempting to hire groom mkt_85eab006-2db2-41d3-876c-3f268e9068bb

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 941MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 931MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] User 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 attempting to hire groom non-existent-id

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 935MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 939MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /groom-marketplace/hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for POST /hire

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [POST] /api/groom-marketplace/hire - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 941MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace] Getting marketplace for user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace/stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 932MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /groom-marketplace/stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user 2ea2f7d7-61e1-4001-ac8e-bfb4533e7608 for GET /stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace/stats - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace/stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] warn: [MemoryMonitoring] Memory threshold exceeded: 934MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user c46b46a6-a1c9-435e-b659-793ecce4f600 for GET /groom-marketplace/stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [auth] Authenticated user c46b46a6-a1c9-435e-b659-793ecce4f600 for GET /stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [groomMarketplace.getStats] Returning empty stats: {"totalGrooms":0,"lastRefresh":"never","refreshCount":0,"qualityDistribution":{},"specialtyDistribution":{}}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [GET] /api/groom-marketplace/stats - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/rate-limiting.test.mjs (6.201 s)
  â— Console

    console.log
      [2025-12-27 23:13:32] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:32] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:33] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:33] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:33] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:33] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:33] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:33] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:33] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:33] warn: [MemoryMonitoring] Memory threshold exceeded: 980MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 983MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 982MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 981MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 981MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 982MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 979MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 988MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 983MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 980MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 989MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 980MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 990MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 984MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 981MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 990MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [MemoryMonitoring] Memory threshold exceeded: 981MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:34] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 991MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 986MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 981MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 991MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 982MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 992MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 987MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 986MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 995MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: [POST] /api/auth/login - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] error: Error Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/login - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [MemoryMonitoring] Memory threshold exceeded: 995MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:35] info: [POST] /api/auth/register - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 990MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/register - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 987MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 984MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 995MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 989MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 995MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 991MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 987MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 997MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 991MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 988MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [MemoryMonitoring] Memory threshold exceeded: 997MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:36] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 992MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 986MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 994MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 986MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 993MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 985MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 993MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1000MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 992MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1000MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 992MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1000MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 995MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 990MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1000MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 994MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 991MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1000MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 996MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 991MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1001MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 995MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 992MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1001MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] warn: [RateLimit] Limit exceeded

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:38] info: [POST] /api/auth/login - 429

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/traitDiscoveryIntegration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:39] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:39] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:39] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:40] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:40] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 802MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitController.discoverTraits] Triggering trait discovery for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Found 5 hidden traits for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Successfully revealed 3 traits for horse 93954: intelligent, athletic, calm

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitController.discoverTraits] Discovered 3 traits for horse 93954 (High Bond Foal)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/93954 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 799MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitController.discoverTraits] Triggering trait discovery for horse 93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Found 3 hidden traits for horse 93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] No discovery conditions met for horse 93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/93955 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 800MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitController.discoverTraits] Triggering trait discovery for horse 93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Found 0 hidden traits for horse 93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] No hidden traits to reveal for horse 93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/93956 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 800MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [ownership] horse 99999 not found or not owned by user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/99999 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/invalid

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 800MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/invalid - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [GET] /api/trait-discovery/progress/93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 812MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscoveryRoutes] GET /progress/93954 - Getting discovery progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [GET] /api/trait-discovery/progress/93954 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [GET] /api/trait-discovery/progress/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 812MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [ownership] horse 99999 not found or not owned by user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [GET] /api/trait-discovery/progress/99999 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Batch test foal IDs: [ 93954, 93955 ]

      at Object.<anonymous> (tests/traitDiscoveryIntegration.test.mjs:284:15)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/batch

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 810MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscoveryRoutes] POST /discover/batch - Processing 2 horses for user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Found 2 hidden traits for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Successfully revealed 2 traits for horse 93954: resilient, bold

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Found 3 hidden traits for horse 93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] No discovery conditions met for horse 93955

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/batch - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/batch

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 802MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscoveryRoutes] POST /discover/batch - Processing 3 horses for user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Found 0 hidden traits for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] No hidden traits to reveal for horse 93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] error: [traitDiscovery.revealTraits] Error revealing traits for horse 99999: Horse with ID 99999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:40] error: [traitDiscovery.batchRevealTraits] Error for horse 99999: Horse with ID 99999 not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] Found 0 hidden traits for horse 93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscovery.revealTraits] No hidden traits to reveal for horse 93956

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/batch - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/batch

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 808MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/discover/batch - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [GET] /api/trait-discovery/conditions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 806MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [traitDiscoveryRoutes] GET /conditions - Getting discovery conditions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [GET] /api/trait-discovery/conditions - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] info: [POST] /api/trait-discovery/check-conditions/93954

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:40] warn: [MemoryMonitoring] Memory threshold exceeded: 808MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitDiscoveryRoutes] POST /check-conditions/93954 - Checking conditions without discovery

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [POST] /api/trait-discovery/check-conditions/93954 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [POST] /api/trait-discovery/check-conditions/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] warn: [MemoryMonitoring] Memory threshold exceeded: 814MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] warn: [ownership] horse 99999 not found or not owned by user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [POST] /api/trait-discovery/check-conditions/99999 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [GET] /api/trait-discovery/progress/93957

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] warn: [MemoryMonitoring] Memory threshold exceeded: 812MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitDiscoveryRoutes] GET /progress/93957 - Getting discovery progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [GET] /api/trait-discovery/progress/93957 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      Initial hidden count: 5

      at Object.<anonymous> (tests/traitDiscoveryIntegration.test.mjs:473:15)

    console.log
      Progress response: {
        "horseId": 93957,
        "horseName": "Fresh Workflow Foal",
        "discoveredTraits": 5,
        "totalPossibleTraits": 7,
        "progressPercentage": 71,
        "traits": [
          "intelligent",
          "calm",
          "athletic",
          "resilient",
          "bold"
        ],
        "hiddenTraitsCount": 5,
        "visibleTraitsCount": 0,
        "currentStats": {
          "bondScore": 85,
          "stressLevel": 15,
          "developmentDay": 3
        },
        "conditions": {
          "high_bond": {
            "name": "High Bond",
            "description": "Strong bond formed",
            "met": true,
            "progress": 100,
            "revealableTraits": [
              "loyal",
              "trusting",
              "calm"
            ]
          },
          "excellent_bond": {
            "name": "Excellent Bond",
            "description": "Exceptional bond achieved",
            "met": false,
            "progress": 0,
            "revealableTraits": [
              "devoted",
              "empathetic",
              "intuitive"
            ]
          },
          "low_stress": {
            "name": "Low Stress",
            "description": "Stress levels minimized",
            "met": true,
            "progress": 100,
            "revealableTraits": [
              "calm",
              "relaxed",
              "confident"
            ]
          },
          "minimal_stress": {
            "name": "Minimal Stress",
            "description": "Perfect stress management",
            "met": false,
            "progress": 0,
            "revealableTraits": [
              "zen",
              "unflappable",
              "serene"
            ]
          },
          "perfect_care": {
            "name": "Perfect Care",
            "description": "Perfect care conditions achieved",
            "met": true,
            "progress": 100,
            "revealableTraits": [
              "exceptional",
              "thriving",
              "balanced"
            ]
          },
          "mature_bond": {
            "name": "Mature Bond",
            "description": "Mature relationship developed with adult horse",
            "met": false,
            "progress": 0,
            "revealableTraits": [
              "resilient",
              "calm",
              "confident",
              "bonded"
            ]
          },
          "consistent_training": {
            "name": "Consistent Training",
            "description": "Consistent training regimen maintained",
            "met": false,
            "progress": 0,
            "revealableTraits": [
              "disciplined",
              "focused",
              "trainable"
            ]
          }
        }
      }

      at Object.<anonymous> (tests/traitDiscoveryIntegration.test.mjs:474:15)

    console.log
      [2025-12-27 23:13:41] info: [POST] /api/trait-discovery/check-conditions/93957

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] warn: [MemoryMonitoring] Memory threshold exceeded: 812MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitDiscoveryRoutes] POST /check-conditions/93957 - Checking conditions without discovery

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [POST] /api/trait-discovery/check-conditions/93957 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [POST] /api/trait-discovery/discover/93957

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] warn: [MemoryMonitoring] Memory threshold exceeded: 812MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitController.discoverTraits] Triggering trait discovery for horse 93957

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitDiscovery.revealTraits] Starting trait discovery for horse 93957

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitDiscovery.revealTraits] Found 5 hidden traits for horse 93957

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitDiscovery.revealTraits] Successfully revealed 3 traits for horse 93957: athletic, intelligent, resilient

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitController.discoverTraits] Discovered 3 traits for horse 93957 (Fresh Workflow Foal)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [POST] /api/trait-discovery/discover/93957 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [GET] /api/trait-discovery/progress/93957

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] warn: [MemoryMonitoring] Memory threshold exceeded: 816MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [traitDiscoveryRoutes] GET /progress/93957 - Getting discovery progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [GET] /api/trait-discovery/progress/93957 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/auth-working.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:41] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:41] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:42] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:42] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:42] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:42] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-register@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=4e5e5556b849a346db537d44855279e3782759f1cd8bfaecdd3c3796d5e2c7e6

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:42] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:42] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:42] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:42] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-duplicate@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=42d7b985e91f769b2a17588a98e0e72f22d047371763c113ad14f25fc25cd600

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:42] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:42] error: [authController.register] Error registering user: User with this email or username already exists

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:43] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:43] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:43] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-login@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=abca2abeaa59095258b1b8007759795d25a0b0660ba7bf1277a942fcff3abfd5

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:43] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:43] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:43] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:43] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:43] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:43] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-login@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=2c4137e686d7e49923d49fdd3e4acf0e0f20c4f7c1c799a6151bf20a9b8625de

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:43] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:44] error: [authController.login] Error logging in user: Invalid credentials

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:44] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:44] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:44] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-token@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=26c3127d8d7767ba52f5b6aee44fff28ce19cb85d038e25e55097795c0915b23

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:44] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:44] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:44] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-token@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=558e31de481f0458a488047b2ed0d53d6285858a342ee6ae0953a46dceae5477

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:45] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] warn: [authController.refreshToken] Token family invalidated due to reuse detection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] error: [authController.refreshToken] Error refreshing token: Token reuse detected - please login again

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:13:45] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-protected@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=51df301e7d0455d3bc3eda49fbbd715e0801bbef72ed825abb9a970c5803dc2a

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:45] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [auth] Authenticated user 4a483590-7212-4285-8fc9-7d2e154d8d41 for GET /api/auth/me

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-protected@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=aaa2b6288543461b88be008b2374edc17363942c5d0ec173e7cb91f8ce797b2e

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:45] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:45] warn: [auth] Access token is required for GET /api/auth/me from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:46] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:46] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:46] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authtest-protected@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=e4caf87b8c1e24139dc040ef87535b77b082458e6239c5826dd6e4b26586ed64

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:46] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:46] info: [auth] Authenticated user 34c704f0-e4c9-4235-a7e5-b9da4e276a41 for POST /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/systemWideIntegration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:46] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:46] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:46] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:47] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:47] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 881MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: integration1766895227297@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=3ec935e346ed6d9627825285513c59cb06fba968937ad5c6c9f4ebf19773e981

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:47] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 887MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [UserDocRoutes] Getting all documentation list

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [UserDocService] Loaded 1 documentation files

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [UserDocService] Built search index with 34 terms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [UserDocService] Documentation system initialized successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 881MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api-docs/swagger.json - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/memory/status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 880MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [auth] Authenticated user e5957114-db78-4146-bd59-f82f14ae6b4b for GET /memory/status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [auth] Authenticated user e5957114-db78-4146-bd59-f82f14ae6b4b for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/memory/status - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/users/e5957114-db78-4146-bd59-f82f14ae6b4b/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 880MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [auth] Authenticated user e5957114-db78-4146-bd59-f82f14ae6b4b for GET /users/e5957114-db78-4146-bd59-f82f14ae6b4b/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [auth] Authenticated user e5957114-db78-4146-bd59-f82f14ae6b4b for GET /e5957114-db78-4146-bd59-f82f14ae6b4b/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [userRoutes] Self-access validated: user e5957114-db78-4146-bd59-f82f14ae6b4b accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [userController.getUserProgressAPI] Getting comprehensive progress for user e5957114-db78-4146-bd59-f82f14ae6b4b

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [userController.getUserProgressAPI] Successfully retrieved progress for user inttest227297 (Level 1, XP: 0/200, 0% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/users/e5957114-db78-4146-bd59-f82f14ae6b4b/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs/search?q=horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 883MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs/search?q=horse - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 883MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 881MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs/analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 893MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [UserDocRoutes] Getting documentation analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [GET] /api/user-docs/analytics - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] warn: [MemoryMonitoring] Memory threshold exceeded: 892MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for POST /grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:47] info: [groomController.recordInteraction] Recording early_touch interaction for foal 93958

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [groomPersonalityEffects.calculatePersonalityEffects] Unknown personality: calm

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for calm: none

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [groomController.recordInteraction] Interaction recorded: 6 bonding, -4 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46550 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [groomProgressionService.awardGroomXP] Groom 46550 gained 2 XP: 0 â†’ 2 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [groomController.recordInteraction] Awarded 2 XP to groom 46550 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/grooms/user/ebbb278e-acc1-48f2-a5ee-4d8536756755

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 884MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /grooms/user/ebbb278e-acc1-48f2-a5ee-4d8536756755

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [groomController.getUserGrooms] Getting grooms for user ebbb278e-acc1-48f2-a5ee-4d8536756755

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/grooms/user/ebbb278e-acc1-48f2-a5ee-4d8536756755 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 887MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api-docs/swagger.json - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 884MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Getting all documentation list

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 883MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 893MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Getting documentation analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/analytics - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 888MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 896MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 888MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 896MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 888MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 896MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 888MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 896MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 888MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 896MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/horses - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 892MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 900MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 892MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 900MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 892MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 900MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 892MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 899MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 892MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 899MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 891MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 899MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 891MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 899MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:48] warn: [MemoryMonitoring] Memory threshold exceeded: 891MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] warn: [MemoryMonitoring] Memory threshold exceeded: 899MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] warn: [MemoryMonitoring] Memory threshold exceeded: 891MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] warn: [MemoryMonitoring] Memory threshold exceeded: 898MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] warn: [MemoryMonitoring] Memory threshold exceeded: 891MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] warn: [MemoryMonitoring] Memory threshold exceeded: 898MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [UserDocRoutes] Searching documentation for: "horse"

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/user-docs/search?q=horse&includeContent=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] warn: [MemoryMonitoring] Memory threshold exceeded: 890MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [horseModel.createHorse] Successfully created horse: Consistency Test Horse (ID: 93959)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [horseRoutes] Created new horse: Consistency Test Horse (ID: 93959)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [POST] /api/horses - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/users/ebbb278e-acc1-48f2-a5ee-4d8536756755/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] warn: [MemoryMonitoring] Memory threshold exceeded: 894MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /users/ebbb278e-acc1-48f2-a5ee-4d8536756755/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /ebbb278e-acc1-48f2-a5ee-4d8536756755/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [userRoutes] Self-access validated: user ebbb278e-acc1-48f2-a5ee-4d8536756755 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [userController.getUserProgressAPI] Getting comprehensive progress for user ebbb278e-acc1-48f2-a5ee-4d8536756755

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [userController.getUserProgressAPI] Successfully retrieved progress for user globaltest227278 (Level 1, XP: 0/200, 0% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:49] info: [GET] /api/users/ebbb278e-acc1-48f2-a5ee-4d8536756755/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] warn: [MemoryMonitoring] Memory threshold exceeded: 896MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [ownership] Found owned horse 93960 for user ebbb278e-acc1-48f2-a5ee-4d8536756755

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingController.trainRouteHandler] Training request for horse 93960 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingController.trainHorse] Attempting to train horse 93960 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingController.canTrain] Checking training eligibility for horse 93960 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingModel.getHorseAge] Getting age for horse 93960

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingModel.getHorseAge] Horse 93960 is 5 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 93960 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingModel.getAnyRecentTraining] No training records found for horse 93960

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingController.canTrain] Horse 93960 is eligible to train in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [horseModel.getHorseById] Successfully found horse: Progress Test Horse (ID: 93960)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingController.trainHorse] Horse 93960 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingModel.logTrainingSession] Logging training session for horse 93960 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4786

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [horseModel.incrementDisciplineScore] Incrementing Dressage score for horse 93960 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [horseModel.updateDisciplineScore] Updating Dressage score for horse 93960 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [horseModel.updateDisciplineScore] Successfully updated Dressage score for horse 93960: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [horseModel.incrementDisciplineScore] Successfully incremented Dressage score for horse 93960

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [xpLogModel.logXpEvent] Logging XP event: User ebbb278e-acc1-48f2-a5ee-4d8536756755, Amount: 5, Reason: Trained horse Progress Test Horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2312, User ebbb278e-acc1-48f2-a5ee-4d8536756755, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingController.trainHorse] Awarded 5 XP to user ebbb278e-acc1-48f2-a5ee-4d8536756755 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [trainingController.trainHorse] Successfully trained horse 93960 in Dressage (Log ID: 4786, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [GET] /api/users/ebbb278e-acc1-48f2-a5ee-4d8536756755/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] warn: [MemoryMonitoring] Memory threshold exceeded: 899MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /users/ebbb278e-acc1-48f2-a5ee-4d8536756755/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [auth] Authenticated user ebbb278e-acc1-48f2-a5ee-4d8536756755 for GET /ebbb278e-acc1-48f2-a5ee-4d8536756755/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [userRoutes] Self-access validated: user ebbb278e-acc1-48f2-a5ee-4d8536756755 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [userController.getUserProgressAPI] Getting comprehensive progress for user ebbb278e-acc1-48f2-a5ee-4d8536756755

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [userController.getUserProgressAPI] Successfully retrieved progress for user globaltest227278 (Level 1, XP: 5/200, 3% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:50] info: [GET] /api/users/ebbb278e-acc1-48f2-a5ee-4d8536756755/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/security/sql-injection-attempts.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:51] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:51] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:51] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:52] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:52] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1'%20OR%20'1'='1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 938MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 27f9fd84-617c-43fa-ab57-4b8c6afeb2ee for GET /horses/1'%20OR%20'1'='1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1'%20OR%20'1'='1 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20DROP%20TABLE%20horses;%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 941MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 3222ef3e-bdbf-4fc4-b994-63df8eb93408 for GET /horses/1;%20DROP%20TABLE%20horses;%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20DROP%20TABLE%20horses;%20-- - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20SELECT%20*%20FROM%20users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 940MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 5dbf3176-bcdc-4f10-af0f-c0f147c49280 for GET /horses/1%20UNION%20SELECT%20*%20FROM%20users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20SELECT%20*%20FROM%20users - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20AND%20(SELECT%20COUNT(*)%20FROM%20users)%20%3E%200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 938MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user e7b7a91a-a148-4f81-838c-7e2ab8762224 for GET /horses/1%20AND%20(SELECT%20COUNT(*)%20FROM%20users)%20%3E%200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20AND%20(SELECT%20COUNT(*)%20FROM%20users)%20%3E%200 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/0x31

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 937MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user cb11eb81-76e7-46da-a338-1f689e4a481d for GET /horses/0x31

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/0x31 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/93966'%20AND%201=1%20AND%20'1'='1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 936MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 951ff4e1-d946-4d42-92e7-4f7c00a07e98 for GET /horses/93966'%20AND%201=1%20AND%20'1'='1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/93966'%20AND%201=1%20AND%20'1'='1 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20WAITFOR%20DELAY%20'00:00:05';%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 936MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 0f61d3dc-e656-4643-b25d-b2182ff97eae for GET /horses/1;%20WAITFOR%20DELAY%20'00:00:05';%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20WAITFOR%20DELAY%20'00:00:05';%20-- - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20SELECT%20pg_sleep(5);%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 937MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 9b35de50-d6d6-4248-a19e-4d13659448f5 for GET /horses/1;%20SELECT%20pg_sleep(5);%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20SELECT%20pg_sleep(5);%20-- - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1'%20AND%20(SELECT%201/0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 937MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 15049aa9-2b9d-4b2d-969e-f1bac7ce3906 for GET /horses/1'%20AND%20(SELECT%201/0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: 404 - Route not found: GET /api/horses/1'%20AND%20(SELECT%201/0) from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1'%20AND%20(SELECT%201/0) - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20SELECT%20id,email,password,NULL,NULL,NULL%20FROM%20users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 939MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user ec2f2e6c-b138-4b8c-9ff7-15edfd488aaf for GET /horses/1%20UNION%20SELECT%20id,email,password,NULL,NULL,NULL%20FROM%20users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20SELECT%20id,email,password,NULL,NULL,NULL%20FROM%20users - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20ALL%20SELECT%20*%20FROM%20users%20WHERE%201=1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 939MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 44488662-d3e3-4a6a-9bb4-c4264b3d3e4b for GET /horses/1%20UNION%20ALL%20SELECT%20*%20FROM%20users%20WHERE%201=1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20ALL%20SELECT%20*%20FROM%20users%20WHERE%201=1 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20ORDER%20BY%20100

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 938MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 42d6d01d-8dd9-4992-afa3-953ae87f9daa for GET /horses/1%20ORDER%20BY%20100

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20ORDER%20BY%20100 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20SELECT%20NULL,NULL,NULL,NULL,NULL

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 938MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 3363a558-9284-40e1-aab8-104bc981c5ba for GET /horses/1%20UNION%20SELECT%20NULL,NULL,NULL,NULL,NULL

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1%20UNION%20SELECT%20NULL,NULL,NULL,NULL,NULL - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20DELETE%20FROM%20horses%20WHERE%20id%20%3E%200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 938MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 23f38fcd-03e7-4531-a0ab-a052266725ba for GET /horses/1;%20DELETE%20FROM%20horses%20WHERE%20id%20%3E%200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20DELETE%20FROM%20horses%20WHERE%20id%20%3E%200 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20UPDATE%20users%20SET%20role='ADMIN'%20WHERE%20id=7de1a1b4-3a9e-473b-809b-477ed61ca138

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 939MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 7de1a1b4-3a9e-473b-809b-477ed61ca138 for GET /horses/1;%20UPDATE%20users%20SET%20role='ADMIN'%20WHERE%20id=7de1a1b4-3a9e-473b-809b-477ed61ca138

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20UPDATE%20users%20SET%20role='ADMIN'%20WHERE%20id=7de1a1b4-3a9e-473b-809b-477ed61ca138 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20INSERT%20INTO%20horses%20(name,%20userId)%20VALUES%20('Hacked',%201)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 940MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user d11753b1-7a79-4c84-89ef-193f93101824 for GET /horses/1;%20INSERT%20INTO%20horses%20(name,%20userId)%20VALUES%20('Hacked',%201)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses/1;%20INSERT%20INTO%20horses%20(name,%20userId)%20VALUES%20('Hacked',%201) - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?breed=Thoroughbred%27%20OR%20%271%27=%271

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 939MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 86bc878d-3399-45d3-af7a-c0842f771548 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?breed=Thoroughbred%27%20OR%20%271%27=%271 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?name=Test%27;%20DROP%20TABLE%20horses;%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 939MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 240b64e8-b8e3-4569-8813-6e2201c0dfb4 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?name=Test%27;%20DROP%20TABLE%20horses;%20-- - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?sort=name;%20UPDATE%20horses%20SET%20name=%27Hacked%27

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 942MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user b24a840a-3939-4c49-a9b3-704031067ab6 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?sort=name;%20UPDATE%20horses%20SET%20name=%27Hacked%27 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?name=%%27%20OR%20%271%27=%271

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] warn: [MemoryMonitoring] Memory threshold exceeded: 946MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [auth] Authenticated user 9f13c90e-f74b-4cfd-a096-7ae8bab0471d for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:52] info: [GET] /api/horses?name=%%27%20OR%20%271%27=%271 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?ids=1,2,3)%20OR%201=1%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 948MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user dc1ee20f-d09d-46dd-b5f0-2e25b70292d4 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?ids=1,2,3)%20OR%201=1%20-- - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?traits.strength=50%27;%20DROP%20TABLE%20horses;%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 949MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user a0558ab7-d3cd-4b40-9582-948d8be55e3f for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?traits.strength=50%27;%20DROP%20TABLE%20horses;%20-- - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?traits-%3E%3E%27color%27=%27Bay%27%20OR%20%271%27=%271

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 951MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user add43528-2834-42b2-8d27-bc2880cb889a for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?traits-%3E%3E%27color%27=%27Bay%27%20OR%20%271%27=%271 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?achievements[0]=Win%27;%20DELETE%20FROM%20horses;%20--

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 950MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 5bbb2d07-fd41-4bb2-9f76-d5de47ecafa5 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?achievements[0]=Win%27;%20DELETE%20FROM%20horses;%20-- - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 952MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user a2359a55-af03-481b-81f9-ee0582c35305 for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [PUT] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 953MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user e4ac9ac2-d2d1-4ba7-9d32-789c724db515 for PUT /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [PUT] /api/auth/profile - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses/query

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 953MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 4b18d2c6-ce78-4cb9-bc79-7c449a8cdafa for POST /horses/query

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses/query - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?raw={%22sql%22:%22SELECT%20*%20FROM%20users%22}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 953MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 855e4cc0-b5ee-4deb-9031-13c94d4ca507 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses?raw={%22sql%22:%22SELECT%20*%20FROM%20users%22} - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses/search

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 943MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 5afff9c0-7873-4b31-8500-b1cee504ae89 for POST /horses/search

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses/search - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20SELECT%20version()

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 945MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 20217cd1-626b-4797-a9a4-7a045bda2c8f for GET /horses/1;%20SELECT%20version()

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20SELECT%20version() - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20COPY%20users%20TO%20'/tmp/users.csv'

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 945MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 86ec7ae2-9faa-488d-90f4-e6af49ab9440 for GET /horses/1;%20COPY%20users%20TO%20'/tmp/users.csv'

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: 404 - Route not found: GET /api/horses/1;%20COPY%20users%20TO%20'/tmp/users.csv' from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20COPY%20users%20TO%20'/tmp/users.csv' - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20SELECT%20pg_read_file('/etc/passwd')

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 947MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user ae9fc5f7-1cb4-4213-b911-35abba72294e for GET /horses/1;%20SELECT%20pg_read_file('/etc/passwd')

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: 404 - Route not found: GET /api/horses/1;%20SELECT%20pg_read_file('/etc/passwd') from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20SELECT%20pg_read_file('/etc/passwd') - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20SELECT%20lo_create(1234)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 947MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 1d091834-9562-4c4f-b94b-8a89cd1e448c for GET /horses/1;%20SELECT%20lo_create(1234)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20SELECT%20lo_create(1234) - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20CALL%20malicious_procedure()

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 946MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 0e58f21e-9e3b-4c39-9d35-a2261ee7df31 for GET /horses/1;%20CALL%20malicious_procedure()

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20CALL%20malicious_procedure() - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 946MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 29314cec-a60e-4047-a513-3136bc35ee2a for POST /horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses/batch-update - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/grooms/batch-delete

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 947MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user c7e24f7d-1295-43cb-941c-80e14b22e55d for POST /grooms/batch-delete

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/grooms/batch-delete - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/invalid-sql-injection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 948MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user d86c3f9d-8dc9-4ad1-b786-d3223ec5a9e4 for GET /horses/invalid-sql-injection

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/invalid-sql-injection - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1'%20OR%20'1'='1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 950MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 87261368-8150-46ae-bd24-e4b6f13ae8e9 for GET /horses/1'%20OR%20'1'='1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1'%20OR%20'1'='1 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20DROP%20TABLE%20horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 944MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 87261368-8150-46ae-bd24-e4b6f13ae8e9 for GET /horses/1;%20DROP%20TABLE%20horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1;%20DROP%20TABLE%20horses - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1%20UNION%20SELECT%20*%20FROM%20users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 954MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 87261368-8150-46ae-bd24-e4b6f13ae8e9 for GET /horses/1%20UNION%20SELECT%20*%20FROM%20users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1%20UNION%20SELECT%20*%20FROM%20users - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1%20AND%20(SELECT%201%20FROM%20users)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 948MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 87261368-8150-46ae-bd24-e4b6f13ae8e9 for GET /horses/1%20AND%20(SELECT%201%20FROM%20users)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/1%20AND%20(SELECT%201%20FROM%20users) - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/93999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 950MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 141b2c79-6dac-4195-8345-bb18b1e4aa1a for GET /horses/93999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [ownership] Validated ownership: user 141b2c79-6dac-4195-8345-bb18b1e4aa1a owns horse 93999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [GET] /api/horses/93999 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] warn: [MemoryMonitoring] Memory threshold exceeded: 954MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [auth] Authenticated user 4c3831dd-b799-4ba2-b7e8-562542fe974e for POST /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:53] info: [POST] /api/horses - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/groomPerformanceSystem.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:54] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:54] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:54] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:54] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:55] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Updated metrics for groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Recorded performance for groom 46591: grooming

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Updated metrics for groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Recorded performance for groom 46591: training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Updated metrics for groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Recorded performance for groom 46591: training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Updated metrics for groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Recorded performance for groom 46591: training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 990MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceController] Recording performance for groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [ownership] Found owned groom 46591 for user 744aae43-5aa6-41f5-9afb-7bdb52149b29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [ownership] Found owned horse 94001 for user 744aae43-5aa6-41f5-9afb-7bdb52149b29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Updated metrics for groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceService] Recorded performance for groom 46591: enrichment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/groom/46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 996MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /groom-performance/groom/46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /groom/46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [ownership] Validated ownership: user 744aae43-5aa6-41f5-9afb-7bdb52149b29 owns groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceController] Getting performance for groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/groom/46591 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/top?limit=5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 988MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /groom-performance/top

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /top

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceController] Getting top performers for user 744aae43-5aa6-41f5-9afb-7bdb52149b29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/top?limit=5 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 990MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /groom-performance/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceController] Getting performance config for user 744aae43-5aa6-41f5-9afb-7bdb52149b29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/config - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/analytics/46591?days=30

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 994MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /groom-performance/analytics/46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /analytics/46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [ownership] Validated ownership: user 744aae43-5aa6-41f5-9afb-7bdb52149b29 owns groom 46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [groomPerformanceController] Getting analytics for groom 46591, last 30 days

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/analytics/46591?days=30 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/groom/46592

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 998MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /groom-performance/groom/46592

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for GET /groom/46592

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [ownership] groom 46592 not found or not owned by user 744aae43-5aa6-41f5-9afb-7bdb52149b29

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/groom/46592 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 999MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 999MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 999MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [auth] Authenticated user 744aae43-5aa6-41f5-9afb-7bdb52149b29 for POST /record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 1002MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [auth] Access token is required for POST /groom-performance/record from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [POST] /api/groom-performance/record - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/groom/46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 1002MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [auth] Access token is required for GET /groom-performance/groom/46591 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/groom/46591 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/top

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 1001MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [auth] Access token is required for GET /groom-performance/top from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/top - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 1000MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [auth] Access token is required for GET /groom-performance/config from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/config - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/analytics/46591

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [MemoryMonitoring] Memory threshold exceeded: 999MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] warn: [auth] Access token is required for GET /groom-performance/analytics/46591 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:55] info: [GET] /api/groom-performance/analytics/46591 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/auth-system-integration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:13:56] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:56] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:56] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:13:56] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:13:57] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=9d02567abf7235177c6e339a32068c2c48d803314f01e9d11bcb4555b0bfaacf

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:57] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/competition/my-entries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/training/status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/grooms/my-grooms

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/traits/my-discoveries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/dashboard/overview

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [auth] Authenticated user a751b219-5433-4e9e-8b41-f8f4917cad5b for GET /api/health/protected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=4c553fa873ed5dc6de73b622497f1859e16bb6a819090ea9073738c09946f66f

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:57] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/auth/profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/horses from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/competition/my-entries from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/training/status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/grooms/my-grooms from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/traits/my-discoveries from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/dashboard/overview from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] warn: [auth] Access token is required for GET /api/health/protected from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:57] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=3a1b44f4f8dbe2a0b7996f184da0e79a30424bba0631d648d223cad19f6c3f19

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:58] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] warn: [auth] Invalid or expired token for GET /api/auth/profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] warn: [auth] Invalid or expired token for GET /api/horses from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] warn: [auth] Invalid or expired token for GET /api/competition/my-entries from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] warn: [auth] Invalid or expired token for GET /api/training/status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:58] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=fc2bcf5e20211b7653a00d4bdbd02c73eabd2c47d54e588a25549a5956e286c2

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:58] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [authController.refreshToken] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [auth] Authenticated user 976a6107-0ba3-4129-bc10-5cd2843b38a8 for GET /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [auth] Authenticated user 976a6107-0ba3-4129-bc10-5cd2843b38a8 for GET /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [auth] Authenticated user 976a6107-0ba3-4129-bc10-5cd2843b38a8 for GET /api/dashboard/overview

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=2e951bf221b56ced57b2cbeb8cf4c90ab3cce02b57b3e4db4097413e5f3f0173

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:13:59] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] warn: [auth] Access token is required for GET /api/auth/profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] warn: [auth] Access token is required for GET /api/horses from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:13:59] warn: [auth] Access token is required for GET /api/competition/my-entries from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: authintegration@test.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=e9da6a6d7005abc91be7da22d2791447a03468871025d0922de6bc7d53100413

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:14:00] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] warn: [auth] Access token is required for GET /api/auth/profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] warn: [auth] Access token is required for GET /api/auth/profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] warn: [auth] Access token is required for GET /api/auth/profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] warn: [auth] Access token is required for GET /api/auth/profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/session-lifecycle.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:00] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:00] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:01] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:01] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1072MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1073MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1076MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1071MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [auth] Authenticated user 67bb7a93-6e1e-45c0-aef4-774f50630e4a for POST /logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1071MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1067MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [auth] Authenticated user 67bb7a93-6e1e-45c0-aef4-774f50630e4a for POST /logout

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/logout - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1070MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [POST] /api/auth/change-password

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] warn: [MemoryMonitoring] Memory threshold exceeded: 1069MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:01] info: [auth] Authenticated user 67bb7a93-6e1e-45c0-aef4-774f50630e4a for POST /change-password

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [authController.changePassword] Password changed successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/change-password - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1072MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/change-password

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1068MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [auth] Authenticated user 67bb7a93-6e1e-45c0-aef4-774f50630e4a for POST /change-password

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] error: [authController.changePassword] Error changing password: Current password is incorrect

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:02] error: [POST] /api/auth/change-password - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:02] error: Error Current password is incorrect

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/change-password - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1072MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/change-password

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1069MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [auth] Authenticated user 67bb7a93-6e1e-45c0-aef4-774f50630e4a for POST /change-password

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/change-password - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1069MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1080MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [auth] Session expired due to age for GET /profile from ::ffff:127.0.0.1 (8 days old)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [auth] Session expired. Please login again. for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1070MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1080MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [auth] Authenticated user 67bb7a93-6e1e-45c0-aef4-774f50630e4a for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1079MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/login - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1075MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [auth] Authenticated user 67bb7a93-6e1e-45c0-aef4-774f50630e4a for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Manually triggering token cleanup...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Starting expired token cleanup...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Token cleanup completed. Removed 1 expired/invalidated tokens

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Manual token cleanup completed: {"removed":1,"expired":1,"invalidated":0,"timestamp":"2025-12-28T04:14:02.726Z"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Manually triggering token cleanup...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Starting expired token cleanup...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Token cleanup completed. Removed 1 expired/invalidated tokens

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Manual token cleanup completed: {"removed":1,"expired":1,"invalidated":0,"timestamp":"2025-12-28T04:14:02.745Z"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Manually triggering token cleanup...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Starting expired token cleanup...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [TokenRotation] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Token cleanup completed. Removed 0 expired/invalidated tokens

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [cronJobService] Manual token cleanup completed: {"removed":0,"expired":0,"invalidated":0,"timestamp":"2025-12-28T04:14:02.770Z"}

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [MemoryMonitoring] Memory threshold exceeded: 1083MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] warn: [Validation] Input validation failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:02] info: [POST] /api/auth/register - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/foalTaskLoggingIntegration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:03] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:03] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:03] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:03] warn: [MemoryMonitoring] Memory threshold exceeded: 1116MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Recording trust_building interaction for foal 94002

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task trust_building

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Interaction recorded: 3 bonding, -1 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Personality effects applied (patient): category_match - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46593 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Groom 46593 gained 2 XP: 3 â†’ 5 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Awarded 2 XP to groom 46593 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] warn: [MemoryMonitoring] Memory threshold exceeded: 1118MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Recording trust_building interaction for foal 94003

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task trust_building

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Interaction recorded: 10 bonding, -6 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Personality effects applied (patient): category_match - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46594 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Groom 46594 gained 2 XP: 3 â†’ 5 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Awarded 2 XP to groom 46594 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] warn: [MemoryMonitoring] Memory threshold exceeded: 1118MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Recording hoof_handling interaction for foal 94004

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task hoof_handling

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Interaction recorded: 3 bonding, 0 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Personality effects applied (patient): task_specialty - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46595 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Groom 46595 gained 2 XP: 3 â†’ 5 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Awarded 2 XP to groom 46595 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] warn: [MemoryMonitoring] Memory threshold exceeded: 1118MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Recording trust_building interaction for foal 94006

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task trust_building

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Interaction recorded: 5 bonding, -4 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Personality effects applied (patient): category_match - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46596 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Groom 46596 gained 2 XP: 3 â†’ 5 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Awarded 2 XP to groom 46596 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] warn: [MemoryMonitoring] Memory threshold exceeded: 1126MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Recording desensitization interaction for foal 94007

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task desensitization

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Interaction recorded: 7 bonding, -4 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Personality effects applied (patient): category_match - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46596 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomProgressionService.awardGroomXP] Groom 46596 gained 2 XP: 5 â†’ 7 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [groomController.recordInteraction] Awarded 2 XP to groom 46596 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:04] warn: [MemoryMonitoring] Memory threshold exceeded: 1118MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Recording hoof_handling interaction for foal 94008

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task hoof_handling

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Interaction recorded: 9 bonding, -4 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Personality effects applied (patient): task_specialty - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46596 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Groom 46596 gained 2 XP: 7 â†’ 9 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Awarded 2 XP to groom 46596 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] warn: [MemoryMonitoring] Memory threshold exceeded: 1127MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Recording early_touch interaction for foal 94009

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task early_touch

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: none

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Interaction recorded: 9 bonding, -4 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46596 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Groom 46596 gained 2 XP: 9 â†’ 11 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Awarded 2 XP to groom 46596 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] warn: [MemoryMonitoring] Memory threshold exceeded: 1122MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Recording trust_building interaction for foal 94010

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task trust_building

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Interaction recorded: 10 bonding, -2 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Personality effects applied (patient): category_match - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46597 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Groom 46597 gained 2 XP: 3 â†’ 5 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Awarded 2 XP to groom 46597 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] warn: [MemoryMonitoring] Memory threshold exceeded: 1120MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Recording trust_building interaction for foal 94011

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task trust_building

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: category_match

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Interaction recorded: 5 bonding, -2 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Personality effects applied (patient): category_match - Reduces burnout risk and failure chance on enrichment tasks

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46598 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Groom 46598 gained 2 XP: 3 â†’ 5 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Awarded 2 XP to groom 46598 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] warn: [MemoryMonitoring] Memory threshold exceeded: 1129MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Recording desensitization interaction for foal 94011

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] warn: [MemoryMonitoring] Memory threshold exceeded: 1117MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Recording early_touch interaction for foal 94012

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying patient personality effects for task early_touch

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied patient effects:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for patient: none

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Interaction recorded: 10 bonding, -4 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46599 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomProgressionService.awardGroomXP] Groom 46599 gained 2 XP: 3 â†’ 5 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [groomController.recordInteraction] Awarded 2 XP to groom 46599 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:05] warn: [MemoryMonitoring] Memory threshold exceeded: 1127MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:06] info: [groomController.recordInteraction] Recording hoof_handling interaction for foal 94013

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:06] info: [POST] /api/grooms/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/competitionWorkflow.integration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:06] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:06] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:06] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:07] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:07] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [POST] /api/auth/register

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] warn: [MemoryMonitoring] Memory threshold exceeded: 1162MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: competition-integration@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=1c72068a189647d5c48afcfb086d19a6828086daf7bdc17c8ef41933d57a4fb9

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:14:07] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [POST] /api/auth/register - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [GET] /api/competition/eligibility/94014/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] warn: [MemoryMonitoring] Memory threshold exceeded: 1160MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [auth] Authenticated user 200dce3f-de21-4ee3-9eb1-54df0accde19 for GET /competition/eligibility/94014/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [auth] Authenticated user 200dce3f-de21-4ee3-9eb1-54df0accde19 for GET /eligibility/94014/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [ownership] Validated ownership: user 200dce3f-de21-4ee3-9eb1-54df0accde19 owns horse 94014

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [competitionRoutes.GET /eligibility] Checking eligibility for horse 94014 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [competitionRoutes.GET /eligibility] Horse 94014 eligibility checked for Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [GET] /api/competition/eligibility/94014/Racing - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [POST] /api/competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] warn: [MemoryMonitoring] Memory threshold exceeded: 1164MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [auth] Authenticated user 200dce3f-de21-4ee3-9eb1-54df0accde19 for POST /competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [auth] Authenticated user 200dce3f-de21-4ee3-9eb1-54df0accde19 for POST /enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [competitionRoutes.POST /enter] User 200dce3f-de21-4ee3-9eb1-54df0accde19 entering horse 94014 in show 5445

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [ownership] Found owned horse 94014 for user 200dce3f-de21-4ee3-9eb1-54df0accde19

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [competitionRoutes.POST /enter] Successfully entered horse 94014 in show 5445

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [POST] /api/competition/enter - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [GET] /api/leaderboards/competition?metric=wins&limit=10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] warn: [MemoryMonitoring] Memory threshold exceeded: 1171MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [auth] Authenticated user 200dce3f-de21-4ee3-9eb1-54df0accde19 for GET /leaderboards/competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [auth] Authenticated user 200dce3f-de21-4ee3-9eb1-54df0accde19 for GET /competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [leaderboardRoutes.GET /competition] Getting competition leaderboard: discipline=undefined, period=all, metric=wins

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [leaderboardRoutes.GET /competition] Retrieved 1 leaderboard entries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:07] info: [GET] /api/leaderboards/competition?metric=wins&limit=10 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/security/parameter-pollution.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:08] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:08] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:08] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] info: [GET] /api/horses/94015?id=94015&id=999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:08] warn: [MemoryMonitoring] Memory threshold exceeded: 1204MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 04f7e2e5-5099-4415-a6e3-8cf9c009f2f4 for GET /horses/94015

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses/94015?id=94015&id=999 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?id=1&id=2&id=3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1204MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 08255572-d57f-49f0-80af-e3ff0b4e3b7b for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?id=1&id=2&id=3 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses/94017?sort=name&sort=age

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1205MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user dcf95ff6-e0f1-4610-b6d5-2814cef8df37 for GET /horses/94017

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user dcf95ff6-e0f1-4610-b6d5-2814cef8df37 owns horse 94017

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses/94017?sort=name&sort=age - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94018

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1207MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user e2d48125-1ea6-4fa8-9fd9-190991a23b84 for PUT /horses/94018

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user e2d48125-1ea6-4fa8-9fd9-190991a23b84 owns horse 94018

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94018 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94019

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1208MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 5eea9d79-aa0b-41ea-83a2-9faca11974c8 for PUT /horses/94019

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user 5eea9d79-aa0b-41ea-83a2-9faca11974c8 owns horse 94019

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94019 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94020

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1208MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 9269b52a-8f3c-4e2d-a49d-3a37e850003c for PUT /horses/94020

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user 9269b52a-8f3c-4e2d-a49d-3a37e850003c owns horse 94020

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94020 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94021

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1209MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 9a24d44c-8fe7-4048-9cb2-9122fad438fe for PUT /horses/94021

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user 9a24d44c-8fe7-4048-9cb2-9122fad438fe owns horse 94021

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94021 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94022

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1209MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user c801fd92-bc02-43b1-9df1-2bd772d8c10e for PUT /horses/94022

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user c801fd92-bc02-43b1-9df1-2bd772d8c10e owns horse 94022

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94022 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94023

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1209MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 73751b87-e394-4077-a608-872837c2f2d1 for PUT /horses/94023

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user 73751b87-e394-4077-a608-872837c2f2d1 owns horse 94023

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94023 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94024

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user b3167836-0f23-4972-8ae9-b268d056177b for PUT /horses/94024

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user b3167836-0f23-4972-8ae9-b268d056177b owns horse 94024

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94024 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user a1c32668-442d-4731-8115-487d86e1127c for POST /horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user a1c32668-442d-4731-8115-487d86e1127c for POST /batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 211c04ae-9ee6-4976-a89f-57914e6aa52c for POST /horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 211c04ae-9ee6-4976-a89f-57914e6aa52c for POST /batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1211MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 914d02eb-560a-4c0c-b502-ab80751dea47 for POST /horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 914d02eb-560a-4c0c-b502-ab80751dea47 for POST /batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1211MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 5b86b341-a8c7-4df5-a39a-74ebaee6de6c for POST /horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 5b86b341-a8c7-4df5-a39a-74ebaee6de6c for POST /batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1211MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 82d6f605-4ac6-4c24-a19a-41646fdc9531 for POST /horses/batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 82d6f605-4ac6-4c24-a19a-41646fdc9531 for POST /batch-update

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [POST] /api/horses/batch-update - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?breed=Thoroughbred%27%20OR%20%271%27=%271

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1211MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 2914c726-7682-401e-b975-d8e289c353c0 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?breed=Thoroughbred%27%20OR%20%271%27=%271 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name[$ne]=null

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 8e248261-0cf0-4245-9d24-979e6b32faa3 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name[$ne]=null - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name=%3Cscript%3Ealert(1)%3C/script%3E

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 90e910f3-559e-4281-9d44-ec4d92cb64be for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name=%3Cscript%3Ealert(1)%3C/script%3E - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name=Horse%00Admin

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user da6f4b07-8839-48eb-be74-ce380372f003 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name=Horse%00Admin - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user fc89f63f-47e7-412f-b32c-e2e80d7b1368 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [GET] /api/horses?name=aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa - 414

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] error: [PUT] /api/horses/94035 - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:09] error: Error Unexpected token 'n', "name=HackedName" is not valid JSON

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94036

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1210MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 848a8239-b466-4581-860f-fed51e483757 for PUT /horses/94036

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user 848a8239-b466-4581-860f-fed51e483757 owns horse 94036

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94036 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94037

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1211MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 14a83a59-1cdf-4abe-9e7d-d81910ca285e for PUT /horses/94037

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user 14a83a59-1cdf-4abe-9e7d-d81910ca285e owns horse 94037

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94037 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94038

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1212MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user 78d757c9-484b-49e8-bee9-54c6cf4932de for PUT /horses/94038

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user 78d757c9-484b-49e8-bee9-54c6cf4932de owns horse 94038

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94038 - 415

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94039

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1212MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [auth] Authenticated user d85bc7cf-447c-4db8-b7c4-04932be4a322 for PUT /horses/94039

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [ownership] Validated ownership: user d85bc7cf-447c-4db8-b7c4-04932be4a322 owns horse 94039

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94039 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] info: [PUT] /api/horses/94040

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:09] warn: [MemoryMonitoring] Memory threshold exceeded: 1212MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 5e2bb581-2dcc-4125-8cf7-53837a8cd15c for PUT /horses/94040

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 5e2bb581-2dcc-4125-8cf7-53837a8cd15c owns horse 94040

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94040 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94041

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1213MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 1c3bb970-68c9-4c2b-9e1e-6388daa4695f for PUT /horses/94041

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 1c3bb970-68c9-4c2b-9e1e-6388daa4695f owns horse 94041

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94041 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94042

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1213MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user e70a5ef5-dcd1-414d-9218-e464f33920e0 for PUT /horses/94042

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user e70a5ef5-dcd1-414d-9218-e464f33920e0 owns horse 94042

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94042 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94043

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1213MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 31481358-ecd0-4975-a343-5c77e59925a1 for PUT /horses/94043

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 31481358-ecd0-4975-a343-5c77e59925a1 owns horse 94043

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94043 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94044

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1214MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 77888afc-0af3-4d07-b889-231ec3b49a89 for PUT /horses/94044

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 77888afc-0af3-4d07-b889-231ec3b49a89 owns horse 94044

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94044 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94045

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1214MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 91109ac2-7100-4bb5-b5c3-14b125c2940d for PUT /horses/94045

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 91109ac2-7100-4bb5-b5c3-14b125c2940d owns horse 94045

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94045 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94046

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1214MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user fb58ef1e-0581-4661-886c-13339e80a36d for PUT /horses/94046

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user fb58ef1e-0581-4661-886c-13339e80a36d owns horse 94046

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94046 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94047

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1214MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 2c46520e-a699-4592-aad7-b745b5e1de8f for PUT /horses/94047

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 2c46520e-a699-4592-aad7-b745b5e1de8f owns horse 94047

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94047 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94048

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1215MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 2b1b8d6d-a1b5-432a-877f-74f85bba2b82 for PUT /horses/94048

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 2b1b8d6d-a1b5-432a-877f-74f85bba2b82 owns horse 94048

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94048 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94049

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1215MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user f1077692-1cdc-4703-93ca-81f192116250 for PUT /horses/94049

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user f1077692-1cdc-4703-93ca-81f192116250 owns horse 94049

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94049 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94050

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1216MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user 5e173c91-2921-4aac-85c6-1d1c59a70ce6 for PUT /horses/94050

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user 5e173c91-2921-4aac-85c6-1d1c59a70ce6 owns horse 94050

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94050 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94051

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1216MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user e1f10166-07c1-4db0-bb89-6724370912ef for PUT /horses/94051

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user e1f10166-07c1-4db0-bb89-6724370912ef owns horse 94051

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94051 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94052

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1216MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user d0cfc918-5f9a-4f11-8997-5acd1bd5fdfc for PUT /horses/94052

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user d0cfc918-5f9a-4f11-8997-5acd1bd5fdfc owns horse 94052

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94052 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [GET] /api/horses/94053

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1216MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user d704a7dc-96b2-48c5-957f-ea2c66cfe8da for GET /horses/94053

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user d704a7dc-96b2-48c5-957f-ea2c66cfe8da owns horse 94053

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [GET] /api/horses/94053 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1217MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user a971496d-12ef-460e-9d06-348aa9a6fd78 for GET /horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [GET] /api/horses - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [GET] /api/horses/94055

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1216MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user ed471978-b7fa-4f70-95aa-05b07e1f3a8a for GET /horses/94055

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [GET] /api/horses/94055 - 406

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94056

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1218MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user e5f83f03-0e40-4b4b-bba5-9e543940fe58 for PUT /horses/94056

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94056

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] warn: [MemoryMonitoring] Memory threshold exceeded: 1226MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [auth] Authenticated user e5f83f03-0e40-4b4b-bba5-9e543940fe58 for PUT /horses/94056

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user e5f83f03-0e40-4b4b-bba5-9e543940fe58 owns horse 94056

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94056 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [ownership] Validated ownership: user e5f83f03-0e40-4b4b-bba5-9e543940fe58 owns horse 94056

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:10] info: [PUT] /api/horses/94056 - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/competitionAPIEndpoints.integration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:11] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:11] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:11] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:12] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:12] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1033MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/disciplines - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1034MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /competition/eligibility/94057/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /eligibility/94057/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [ownership] Validated ownership: user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a owns horse 94057

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.GET /eligibility] Checking eligibility for horse 94057 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.GET /eligibility] Horse 94057 eligibility checked for Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/Racing - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/Gaited

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1039MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /competition/eligibility/94057/Gaited

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /eligibility/94057/Gaited

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [ownership] Validated ownership: user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a owns horse 94057

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.GET /eligibility] Checking eligibility for horse 94057 in Gaited

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.GET /eligibility] Horse 94057 eligibility checked for Gaited

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/Gaited - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/InvalidDiscipline

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1041MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /competition/eligibility/94057/InvalidDiscipline

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /eligibility/94057/InvalidDiscipline

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [ownership] Validated ownership: user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a owns horse 94057

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.GET /eligibility] Checking eligibility for horse 94057 in InvalidDiscipline

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/InvalidDiscipline - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1043MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [auth] Access token is required for GET /competition/eligibility/94057/Racing from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94057/Racing - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94058/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1043MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /competition/eligibility/94058/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /eligibility/94058/Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [ownership] horse 94058 not found or not owned by user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [GET] /api/competition/eligibility/94058/Racing - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1044MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.POST /enter] User 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a entering horse 94057 in show 5446

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [ownership] Found owned horse 94057 for user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.POST /enter] Successfully entered horse 94057 in show 5446

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1036MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.POST /enter] User 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a entering horse 94057 in show 5446

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [ownership] Found owned horse 94057 for user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1040MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [competitionRoutes.POST /enter] Validation errors: [{"type":"field","value":"invalid","msg":"Horse ID must be a positive integer","path":"horseId","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1041MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [auth] Access token is required for POST /competition/enter from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/enter - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [POST] /api/competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] warn: [MemoryMonitoring] Memory threshold exceeded: 1040MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.POST /execute] User 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a executing competition for show 5446

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [competitionRoutes.POST /execute] Executing competition with 1 entries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [enhancedCompetitionSimulation] Executing competition: API Test Racing Show_1766895252343_55424_33732 (Racing)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:12] info: [calculateCompetitionScore] Horse API Test Horse: Base score for Racing: 205

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:12] info: [calculateCompetitionScore] Horse API Test Horse: Luck modifier: -0.3%, adjustment: -0.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:12] info: [calculateCompetitionScore] Horse API Test Horse: Final score: 204 (base: 205, trait: +0, luck: -0.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:12] info: [enhancedCompetitionSimulation] Horse API Test Horse (ID: 94057) scored 204 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:12] info: [resultModel.saveResult] Successfully updated placeholder result for horse 94057 in show 5446 with score 204

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [horseXpModel.addXpToHorse] Added 30 XP to horse API Test Horse (ID: 94057). New XP: 30, Stat points gained: 0, Available: 0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [enhancedCompetitionSimulation] Awarded 30 Horse XP to API Test Horse for 1st place

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [enhancedCompetitionSimulation] Competition completed. 1 entries processed.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [competitionRoutes.POST /execute] Competition executed successfully for show 5446

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [POST] /api/competition/execute - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [POST] /api/competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [MemoryMonitoring] Memory threshold exceeded: 1037MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user ee4467f9-e64a-4c1f-8470-506512e62cb7 for POST /competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user ee4467f9-e64a-4c1f-8470-506512e62cb7 for POST /execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [competitionRoutes.POST /execute] User ee4467f9-e64a-4c1f-8470-506512e62cb7 executing competition for show 5446

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [POST] /api/competition/execute - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [POST] /api/competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [MemoryMonitoring] Memory threshold exceeded: 1040MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /competition/execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for POST /execute

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [competitionRoutes.POST /execute] User 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a executing competition for show 99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [POST] /api/competition/execute - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition?metric=wins&limit=10

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [MemoryMonitoring] Memory threshold exceeded: 1041MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /leaderboards/competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [leaderboardRoutes.GET /competition] Getting competition leaderboard: discipline=undefined, period=all, metric=wins

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [leaderboardRoutes.GET /competition] Retrieved 0 leaderboard entries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition?metric=wins&limit=10 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition?metric=earnings&discipline=Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [MemoryMonitoring] Memory threshold exceeded: 1043MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /leaderboards/competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [leaderboardRoutes.GET /competition] Getting competition leaderboard: discipline=Racing, period=all, metric=earnings

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [leaderboardRoutes.GET /competition] Retrieved 1 leaderboard entries

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition?metric=earnings&discipline=Racing - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition?metric=invalid

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [MemoryMonitoring] Memory threshold exceeded: 1045MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /leaderboards/competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [auth] Authenticated user 1f3f6017-aeea-4ab4-b43c-2157fc95bb7a for GET /competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [leaderboardRoutes.GET /competition] Validation errors: [{"type":"field","value":"invalid","msg":"Metric must be one of: wins, earnings, placements, average_placement","path":"metric","location":"query"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition?metric=invalid - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [MemoryMonitoring] Memory threshold exceeded: 1045MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] warn: [auth] Access token is required for GET /leaderboards/competition from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [GET] /api/leaderboards/competition - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/training.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:13] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:13] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:14] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:14] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] warn: [MemoryMonitoring] Memory threshold exceeded: 1083MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [ownership] Found owned horse 94060 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainRouteHandler] Training request for horse 94060 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Attempting to train horse 94060 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Checking training eligibility for horse 94060 in Racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Getting age for horse 94060

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Horse 94060 is 2 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Horse 94060 is too young (2 years old)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] warn: [trainingController.trainHorse] Training rejected: Horse is under age

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] warn: [MemoryMonitoring] Memory threshold exceeded: 1091MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [ownership] Found owned horse 94059 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainRouteHandler] Training request for horse 94059 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Attempting to train horse 94059 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Checking training eligibility for horse 94059 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Getting age for horse 94059

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Horse 94059 is 4 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94059 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getAnyRecentTraining] No training records found for horse 94059

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Horse 94059 is eligible to train in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.getHorseById] Successfully found horse: Test Adult Horse (ID: 94059)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Horse 94059 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.logTrainingSession] Logging training session for horse 94059 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4788

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.incrementDisciplineScore] Incrementing Dressage score for horse 94059 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.updateDisciplineScore] Updating Dressage score for horse 94059 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.updateDisciplineScore] Successfully updated Dressage score for horse 94059: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.incrementDisciplineScore] Successfully incremented Dressage score for horse 94059

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [xpLogModel.logXpEvent] Logging XP event: User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5, Reason: Trained horse Test Adult Horse in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2315, User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Awarded 5 XP to user 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Successfully trained horse 94059 in Dressage (Log ID: 4788, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] warn: [MemoryMonitoring] Memory threshold exceeded: 1081MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [ownership] Found owned horse 94062 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainRouteHandler] Training request for horse 94062 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Attempting to train horse 94062 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Checking training eligibility for horse 94062 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Getting age for horse 94062

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Horse 94062 is 4 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94062 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getAnyRecentTraining] No training records found for horse 94062

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Horse 94062 is eligible to train in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.getHorseById] Successfully found horse: Score Test Horse (ID: 94062)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Horse 94062 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.logTrainingSession] Logging training session for horse 94062 in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4789

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.incrementDisciplineScore] Incrementing Show Jumping score for horse 94062 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.updateDisciplineScore] Updating Show Jumping score for horse 94062 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.updateDisciplineScore] Successfully updated Show Jumping score for horse 94062: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.incrementDisciplineScore] Successfully incremented Show Jumping score for horse 94062

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [xpLogModel.logXpEvent] Logging XP event: User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5, Reason: Trained horse Score Test Horse in Show Jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2316, User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Awarded 5 XP to user 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Successfully trained horse 94062 in Show Jumping (Log ID: 4789, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] warn: [MemoryMonitoring] Memory threshold exceeded: 1085MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [ownership] Found owned horse 94063 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainRouteHandler] Training request for horse 94063 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Attempting to train horse 94063 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Checking training eligibility for horse 94063 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Getting age for horse 94063

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getHorseAge] Horse 94063 is 5 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94063 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.getAnyRecentTraining] No training records found for horse 94063

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.canTrain] Horse 94063 is eligible to train in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.getHorseById] Successfully found horse: Accumulation Test Horse 1 (ID: 94063)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Horse 94063 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.logTrainingSession] Logging training session for horse 94063 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4790

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.incrementDisciplineScore] Incrementing Cross Country score for horse 94063 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.updateDisciplineScore] Updating Cross Country score for horse 94063 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.updateDisciplineScore] Successfully updated Cross Country score for horse 94063: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [horseModel.incrementDisciplineScore] Successfully incremented Cross Country score for horse 94063

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [xpLogModel.logXpEvent] Logging XP event: User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5, Reason: Trained horse Accumulation Test Horse 1 in Cross Country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2317, User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Awarded 5 XP to user 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [trainingController.trainHorse] Successfully trained horse 94063 in Cross Country (Log ID: 4790, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:14] warn: [MemoryMonitoring] Memory threshold exceeded: 1091MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [ownership] Found owned horse 94061 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainRouteHandler] Training request for horse 94061 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Attempting to train horse 94061 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Checking training eligibility for horse 94061 in Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Getting age for horse 94061

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Horse 94061 is 5 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94061 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 94061: Sat Dec 27 2025 23:14:14 GMT-0500 (Eastern Standard Time) (discipline: Racing)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Horse 94061 still in cooldown for any training (7 days remaining)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [trainingController.trainHorse] Training rejected: Training cooldown active for this horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [MemoryMonitoring] Memory threshold exceeded: 1084MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [ownership] Found owned horse 94065 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainRouteHandler] Training request for horse 94065 in Endurance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Attempting to train horse 94065 in Endurance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Checking training eligibility for horse 94065 in Endurance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Getting age for horse 94065

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Horse 94065 is 6 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94065 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] Most recent training date for horse 94065: Fri Dec 19 2025 23:14:15 GMT-0500 (Eastern Standard Time) (discipline: Racing)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Horse 94065 is eligible to train in Endurance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.getHorseById] Successfully found horse: Old Trained Horse (ID: 94065)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Horse 94065 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Logging training session for horse 94065 in Endurance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4792

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Incrementing Endurance score for horse 94065 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Updating Endurance score for horse 94065 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Successfully updated Endurance score for horse 94065: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Successfully incremented Endurance score for horse 94065

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Logging XP event: User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5, Reason: Trained horse Old Trained Horse in Endurance

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2318, User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Awarded 5 XP to user 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Successfully trained horse 94065 in Endurance (Log ID: 4792, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [MemoryMonitoring] Memory threshold exceeded: 1086MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [ownership] Found owned horse 94066 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainRouteHandler] Training request for horse 94066 in Trail

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Attempting to train horse 94066 in Trail

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Checking training eligibility for horse 94066 in Trail

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Getting age for horse 94066

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Horse 94066 is 4 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94066 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] No training records found for horse 94066

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Horse 94066 is eligible to train in Trail

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.getHorseById] Successfully found horse: XP Test Horse (ID: 94066)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Horse 94066 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Logging training session for horse 94066 in Trail

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4793

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Incrementing Trail score for horse 94066 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Updating Trail score for horse 94066 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Successfully updated Trail score for horse 94066: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Successfully incremented Trail score for horse 94066

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Logging XP event: User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5, Reason: Trained horse XP Test Horse in Trail

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2319, User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Awarded 5 XP to user 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Successfully trained horse 94066 in Trail (Log ID: 4793, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [MemoryMonitoring] Memory threshold exceeded: 1093MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [ownership] Found owned horse 94067 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainRouteHandler] Training request for horse 94067 in Reining

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Attempting to train horse 94067 in Reining

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Checking training eligibility for horse 94067 in Reining

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Getting age for horse 94067

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Horse 94067 is 5 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94067 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] No training records found for horse 94067

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Horse 94067 is eligible to train in Reining

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.getHorseById] Successfully found horse: Log Test Horse (ID: 94067)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Horse 94067 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Logging training session for horse 94067 in Reining

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4794

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Incrementing Reining score for horse 94067 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Updating Reining score for horse 94067 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Successfully updated Reining score for horse 94067: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Successfully incremented Reining score for horse 94067

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Logging XP event: User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5, Reason: Trained horse Log Test Horse in Reining

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2320, User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Awarded 5 XP to user 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Successfully trained horse 94067 in Reining (Log ID: 4794, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [MemoryMonitoring] Memory threshold exceeded: 1083MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [ownership] horse 99999 not found or not owned by user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [MemoryMonitoring] Memory threshold exceeded: 1083MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [trainingRoutes] Validation errors: [{"type":"field","value":"invalid","msg":"Horse ID must be a positive integer","path":"horseId","location":"body"},{"type":"field","value":"","msg":"Discipline is required","path":"discipline","location":"body"},{"type":"field","value":"","msg":"Discipline must be between 1 and 50 characters","path":"discipline","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] warn: [MemoryMonitoring] Memory threshold exceeded: 1084MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [auth] Authenticated user df7ac259-c7c4-4c61-94a7-ff042127c35d for POST /training/train

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [ownership] Found owned horse 94068 for user df7ac259-c7c4-4c61-94a7-ff042127c35d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainRouteHandler] Training request for horse 94068 in Driving

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Attempting to train horse 94068 in Driving

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Checking training eligibility for horse 94068 in Driving

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Getting age for horse 94068

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getHorseAge] Horse 94068 is 4 years old

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] Checking most recent training date for horse 94068 across all disciplines

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.getAnyRecentTraining] No training records found for horse 94068

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.canTrain] Horse 94068 is eligible to train in Driving

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.getHorseById] Successfully found horse: Date Test Horse (ID: 94068)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Horse 94068 has traits:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Logging training session for horse 94068 in Driving

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingModel.logTrainingSession] Successfully logged training session: ID 4795

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Incrementing Driving score for horse 94068 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Updating Driving score for horse 94068 by +5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.updateDisciplineScore] Successfully updated Driving score for horse 94068: 0 -> 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [horseModel.incrementDisciplineScore] Successfully incremented Driving score for horse 94068

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Logging XP event: User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5, Reason: Trained horse Date Test Horse in Driving

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [xpLogModel.logXpEvent] Successfully logged XP event: ID 2321, User 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2, Amount: 5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Awarded 5 XP to user 561e8a55-f2ca-4292-8c9f-a79c7b11c9f2 for training

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [trainingController.trainHorse] Successfully trained horse 94068 in Driving (Log ID: 4795, Score +5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [POST] /api/training/train - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/unit/email-verification.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:15] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:15] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:16] error: [EmailVerification] Error creating verification token: Maximum pending verification tokens (5) reached

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:16] error: [EmailVerification] Error creating verification token: Please wait 300 seconds before requesting another verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:16] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] error: [EmailVerification] Error verifying email token: Verification token has already been used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:17] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Verification status check

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Verification status check

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Resent verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] error: [EmailVerification] Error resending verification email: Email is already verified

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Resent verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Resent verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] error: [EmailVerification] Error creating verification token: Please wait 300 seconds before requesting another verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:18] error: [EmailVerification] Error resending verification email: Please wait 300 seconds before requesting another verification email

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:18] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:19] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:19] info: [EmailVerification] Email verified successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:19] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/unit/token-rotation.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:19] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:19] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:19] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:19] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:19] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:20] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Token rotation successful

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 0)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 1)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token reuse detected

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 2)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 1)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 1)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 2)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token reuse detected during rotation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at async Promise.allSettled (index 2)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Token family invalidated

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Token cleanup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] warn: [TokenRotation] Skipping refresh token persistence in test env

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:21] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/competitionScore.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:22] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 210

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -5.8%, adjustment: -12.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 198 (base: 210, trait: +0, luck: -12.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 210

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.5%, adjustment: 7.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 217 (base: 210, trait: +0, luck: 7.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 210

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.4%, adjustment: 7.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 217 (base: 210, trait: +0, luck: 7.1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 210

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 6.5%, adjustment: 13.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 224 (base: 210, trait: +0, luck: 13.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.8%, adjustment: 11.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 311 (base: 300, trait: +0, luck: 11.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.1%, adjustment: 6.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 306 (base: 300, trait: +0, luck: 6.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -2.9%, adjustment: -8.6

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 291 (base: 300, trait: +0, luck: -8.6)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -7.1%, adjustment: -21.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 279 (base: 300, trait: +0, luck: -21.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.9%, adjustment: 2.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 303 (base: 300, trait: +0, luck: 2.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.9%, adjustment: 8.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 309 (base: 300, trait: +0, luck: 8.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -0.3%, adjustment: -0.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 299 (base: 300, trait: +0, luck: -0.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 7.9%, adjustment: 23.6

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 324 (base: 300, trait: +0, luck: 23.6)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -4.2%, adjustment: -12.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 287 (base: 300, trait: +0, luck: -12.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.9%, adjustment: 5.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 306 (base: 300, trait: +0, luck: 5.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.8%, adjustment: 8.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 309 (base: 300, trait: +0, luck: 8.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.3%, adjustment: 6.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 307 (base: 300, trait: +0, luck: 6.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -5.7%, adjustment: -17.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 283 (base: 300, trait: +0, luck: -17.1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -4.6%, adjustment: -13.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 286 (base: 300, trait: +0, luck: -13.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 4.8%, adjustment: 14.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 314 (base: 300, trait: +0, luck: 14.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -8.4%, adjustment: -25.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 275 (base: 300, trait: +0, luck: -25.1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -5.5%, adjustment: -16.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 284 (base: 300, trait: +0, luck: -16.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -6.0%, adjustment: -18.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 282 (base: 300, trait: +0, luck: -18.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.3%, adjustment: -3.9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 296 (base: 300, trait: +0, luck: -3.9)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -7.4%, adjustment: -22.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 278 (base: 300, trait: +0, luck: -22.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.2%, adjustment: 9.6

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 310 (base: 300, trait: +0, luck: 9.6)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -2.4%, adjustment: -7.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 293 (base: 300, trait: +0, luck: -7.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.5%, adjustment: -10.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 290 (base: 300, trait: +0, luck: -10.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 7.7%, adjustment: 23.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 323 (base: 300, trait: +0, luck: 23.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -0.6%, adjustment: -1.9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 298 (base: 300, trait: +0, luck: -1.9)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.3%, adjustment: -4.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 296 (base: 300, trait: +0, luck: -4.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 6.3%, adjustment: 18.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 319 (base: 300, trait: +0, luck: 18.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -5.5%, adjustment: -16.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 283 (base: 300, trait: +0, luck: -16.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -10.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 289 (base: 300, trait: +0, luck: -10.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.2%, adjustment: 9.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 309 (base: 300, trait: +0, luck: 9.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.0%, adjustment: 2.9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 303 (base: 300, trait: +0, luck: 2.9)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.9%, adjustment: -5.6

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 294 (base: 300, trait: +0, luck: -5.6)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -4.9%, adjustment: -14.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 285 (base: 300, trait: +0, luck: -14.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -2.0%, adjustment: -6.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 294 (base: 300, trait: +0, luck: -6.1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -2.1%, adjustment: -6.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 294 (base: 300, trait: +0, luck: -6.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.6%, adjustment: 7.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 308 (base: 300, trait: +0, luck: 7.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.3%, adjustment: 1.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 301 (base: 300, trait: +0, luck: 1.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 5.8%, adjustment: 17.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 317 (base: 300, trait: +0, luck: 17.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 4.1%, adjustment: 12.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 312 (base: 300, trait: +0, luck: 12.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -2.8%, adjustment: -8.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 291 (base: 300, trait: +0, luck: -8.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.3%, adjustment: 6.9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 307 (base: 300, trait: +0, luck: 6.9)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.4%, adjustment: 7.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 307 (base: 300, trait: +0, luck: 7.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 5.9%, adjustment: 17.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 318 (base: 300, trait: +0, luck: 17.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 8.3%, adjustment: 24.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 325 (base: 300, trait: +0, luck: 24.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.6%, adjustment: 7.9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 308 (base: 300, trait: +0, luck: 7.9)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 4.7%, adjustment: 14.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 314 (base: 300, trait: +0, luck: 14.1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.0%, adjustment: -8.9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 291 (base: 300, trait: +0, luck: -8.9)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -6.2%, adjustment: -18.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 282 (base: 300, trait: +0, luck: -18.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -7.4%, adjustment: -22.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 278 (base: 300, trait: +0, luck: -22.1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 6.1%, adjustment: 18.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 318 (base: 300, trait: +0, luck: 18.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 80

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.7%, adjustment: 1.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 81 (base: 80, trait: +0, luck: 1.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 130

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -7.6%, adjustment: -9.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 120 (base: 130, trait: +0, luck: -9.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 130

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -5.2%, adjustment: -6.8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 123 (base: 130, trait: +0, luck: -6.8)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 130

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 2.6%, adjustment: 3.4

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 133 (base: 130, trait: +0, luck: 3.4)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 130

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.8%, adjustment: 4.9

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 135 (base: 130, trait: +0, luck: 4.9)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] error: [calculateCompetitionScore] Error calculating score for horse undefined: Horse object is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:22] error: [calculateCompetitionScore] Error calculating score for horse undefined: Horse object is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:22] error: [calculateCompetitionScore] Error calculating score for horse undefined: Horse object is required

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:22] error: [calculateCompetitionScore] Error calculating score for horse Test Horse: Event type is required and must be a string

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:22] error: [calculateCompetitionScore] Error calculating score for horse Test Horse: Event type is required and must be a string

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:22] error: [calculateCompetitionScore] Error calculating score for horse Test Horse: Event type is required and must be a string

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:22] warn: [calculateCompetitionScore] Unknown event type: Unknown Event, using default calculation

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Unknown Event: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 4.2%, adjustment: 7.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 187 (base: 180, trait: +0, luck: 7.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -2.6%, adjustment: -4.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 175 (base: 180, trait: +0, luck: -4.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:22] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 178 (base: 180, trait: +5, luck: -6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 192 (base: 180, trait: +5, luck: 6.7)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -3.6%, adjustment: -6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 174 (base: 180, trait: +0, luck: -6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 182 (base: 180, trait: +5, luck: -3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 188 (base: 180, trait: +5, luck: 3.3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 3.6%, adjustment: 6.5

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 186 (base: 180, trait: +0, luck: 6.5)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Luck modifier: 1.8%, adjustment: 3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse No Modifiers Horse: Final score: 183 (base: 180, trait: +0, luck: 3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -1.8%, adjustment: -3.2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 177 (base: 180, trait: +0, luck: -3.2)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: -9.0%, adjustment: -27.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 273 (base: 300, trait: +0, luck: -27.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 300

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 9.0%, adjustment: 27.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 327 (base: 300, trait: +0, luck: 27.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Show Jumping: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Dressage: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 185 (base: 180, trait: +5, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Cross Country: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Base score for Racing: 180

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Luck modifier: 0.0%, adjustment: 0.0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:23] info: [calculateCompetitionScore] Horse Test Horse: Final score: 180 (base: 180, trait: +0, luck: 0.0)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/competition.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:24] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:24] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:24] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:24] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse RacingSpecialist: Discipline affinity bonus applied for discipline_affinity_racing (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_racing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse DressageSpecialist: Discipline affinity bonus applied for discipline_affinity_dressage (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse CrossCountrySpecialist: Discipline affinity bonus applied for discipline_affinity_cross_country (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_cross_country

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:25] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [simulateCompetition] Horse JumpSpecialist: Discipline affinity bonus applied for discipline_affinity_show_jumping (+5 points)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] warn: [traitCompetitionImpact] Unknown trait: discipline_affinity_show_jumping

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.forEach (<anonymous>)
          at Array.map (<anonymous>)

    console.log
      [2025-12-27 23:14:26] info: [traitCompetitionImpact] Horse 1: 0 traits applied, 0.0% modifier, 0.0 point adjustment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)
          at Array.map (<anonymous>)

PASS tests/integration/groomAssignmentSystem.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:27] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:27] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:27] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:27] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:28] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1220MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94069

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentService] Created assignment: Assignment Test Groom 1 -> Assignment Test Horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1214MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94070

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentService] Created assignment: Assignment Test Groom 1 -> Assignment Test Horse 2

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1219MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94069

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentService] Error creating assignment: Groom is already assigned to this horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentController] Error creating assignment: Groom is already assigned to this horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1222MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [groomAssignmentRoutes] Validation errors: [{"type":"field","msg":"Horse ID must be a positive integer","path":"horseId","location":"body"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1223MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94071

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentService] Error creating assignment: You do not own this horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentController] Error creating assignment: You do not own this horse

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1226MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Getting assignments for user fde5788a-35af-46d2-8da5-50d2129b0748

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments?groomId=46601

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1215MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Getting assignments for user fde5788a-35af-46d2-8da5-50d2129b0748

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments?groomId=46601 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments/dashboard

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1218MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments/dashboard

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /dashboard

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Getting assignment dashboard for user fde5788a-35af-46d2-8da5-50d2129b0748

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments/dashboard - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments/groom/46601/limits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1223MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments/groom/46601/limits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom/46601/limits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [ownership] Validated ownership: user fde5788a-35af-46d2-8da5-50d2129b0748 owns groom 46601

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Getting limits for groom 46601

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments/groom/46601/limits - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1227MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94072

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentService] Created assignment: Assignment Test Groom 1 -> Limit Test Horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1229MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94073

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentService] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentController] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1217MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94074

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentService] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentController] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1219MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94075

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentService] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentController] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1222MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Creating assignment: groom 46601 -> horse 94076

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentService] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] error: [groomAssignmentController] Error creating assignment: Groom Assignment Test Groom 1 has reached maximum assignments (3)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments/salary-costs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1227MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments/salary-costs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /salary-costs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Calculating salary costs for user fde5788a-35af-46d2-8da5-50d2129b0748

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments/salary-costs - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments/validate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1218MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /groom-assignments/validate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for POST /validate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Validating assignment: groom 46602 -> horse 94069

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [POST] /api/groom-assignments/validate - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1221MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Getting assignments for user fde5788a-35af-46d2-8da5-50d2129b0748

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [GET] /api/groom-assignments - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [DELETE] /api/groom-assignments/6397

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1224MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for DELETE /groom-assignments/6397

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for DELETE /6397

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [ownership] Validated ownership: user fde5788a-35af-46d2-8da5-50d2129b0748 owns groom-assignment 6397

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentController] Removing assignment 6397

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [groomAssignmentService] Removed assignment: Assignment Test Groom 1 -> Assignment Test Horse 1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [DELETE] /api/groom-assignments/6397 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [DELETE] /api/groom-assignments/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] warn: [MemoryMonitoring] Memory threshold exceeded: 1226MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for DELETE /groom-assignments/99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:28] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for DELETE /99999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [ownership] groom-assignment 99999 not found or not owned by user fde5788a-35af-46d2-8da5-50d2129b0748

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [DELETE] /api/groom-assignments/99999 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [MemoryMonitoring] Memory threshold exceeded: 1227MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments/config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /config

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/config - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/statistics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [MemoryMonitoring] Memory threshold exceeded: 1226MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /groom-assignments/statistics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [auth] Authenticated user fde5788a-35af-46d2-8da5-50d2129b0748 for GET /statistics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [groomAssignmentRoutes] Getting assignment statistics for user fde5788a-35af-46d2-8da5-50d2129b0748

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/statistics - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [MemoryMonitoring] Memory threshold exceeded: 1230MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [auth] Access token is required for GET /groom-assignments from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [POST] /api/groom-assignments

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [MemoryMonitoring] Memory threshold exceeded: 1228MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [auth] Access token is required for POST /groom-assignments from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [POST] /api/groom-assignments - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/dashboard

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [MemoryMonitoring] Memory threshold exceeded: 1226MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [auth] Access token is required for GET /groom-assignments/dashboard from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/dashboard - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/salary-costs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [MemoryMonitoring] Memory threshold exceeded: 1225MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] warn: [auth] Access token is required for GET /groom-assignments/salary-costs from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [GET] /api/groom-assignments/salary-costs - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/epigeneticTraitSystem.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:29] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:29] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:30] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:30] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [GET] /api/epigenetic-traits/definitions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] warn: [MemoryMonitoring] Memory threshold exceeded: 1264MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [GET] /api/epigenetic-traits/definitions - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] warn: [MemoryMonitoring] Memory threshold exceeded: 1266MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /epigenetic-traits/evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [ownership] Validated ownership: user f53b0823-944c-4824-a809-3df030bf71cb owns horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [ultraRareTriggerEngine] Evaluating ultra-rare triggers for horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [ultraRareTriggerEngine] Evaluating exotic unlocks for horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] error: [ultraRareTriggerEngine] Error evaluating Soulbonded conditions: Cannot read properties of undefined (reading 'map')

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:30] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [POST] /api/epigenetic-traits/log-trait

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] warn: [MemoryMonitoring] Memory threshold exceeded: 1273MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /epigenetic-traits/log-trait

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /log-trait

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [ownership] Found owned horse 94077 for user f53b0823-944c-4824-a809-3df030bf71cb

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [POST] /api/epigenetic-traits/log-trait - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [GET] /api/epigenetic-traits/history/94077?limit=10&isEpigenetic=true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] warn: [MemoryMonitoring] Memory threshold exceeded: 1263MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /epigenetic-traits/history/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /history/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [ownership] Validated ownership: user f53b0823-944c-4824-a809-3df030bf71cb owns horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [GET] /api/epigenetic-traits/history/94077?limit=10&isEpigenetic=true - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [GET] /api/epigenetic-traits/summary/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] warn: [MemoryMonitoring] Memory threshold exceeded: 1265MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /epigenetic-traits/summary/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:30] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /summary/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ownership] Validated ownership: user f53b0823-944c-4824-a809-3df030bf71cb owns horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/summary/94077 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/breeding-insights/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1270MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /epigenetic-traits/breeding-insights/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /breeding-insights/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ownership] Validated ownership: user f53b0823-944c-4824-a809-3df030bf71cb owns horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/breeding-insights/94077 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/history/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1272MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [auth] Access token is required for GET /epigenetic-traits/history/94077 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/history/94077 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1270MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [auth] Access token is required for POST /epigenetic-traits/evaluate-milestone/94077 from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077 - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/history/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1269MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user 2e999de4-44ce-47b1-964f-e1da487d00b8 for GET /epigenetic-traits/history/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user 2e999de4-44ce-47b1-964f-e1da487d00b8 for GET /history/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [ownership] horse 94077 not found or not owned by user 2e999de4-44ce-47b1-964f-e1da487d00b8

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/history/94077 - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/history/invalid

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1270MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /epigenetic-traits/history/invalid

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for GET /history/invalid

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [ownership] Invalid horse ID: invalid

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [GET] /api/epigenetic-traits/history/invalid - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/log-trait

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1270MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /epigenetic-traits/log-trait

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /log-trait

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/log-trait - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1271MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /epigenetic-traits/evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ownership] Validated ownership: user f53b0823-944c-4824-a809-3df030bf71cb owns horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ultraRareTriggerEngine] Evaluating ultra-rare triggers for horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ultraRareTriggerEngine] Evaluating exotic unlocks for horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] error: [ultraRareTriggerEngine] Error evaluating Soulbonded conditions: Cannot read properties of undefined (reading 'map')

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] warn: [MemoryMonitoring] Memory threshold exceeded: 1277MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /epigenetic-traits/evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [auth] Authenticated user f53b0823-944c-4824-a809-3df030bf71cb for POST /evaluate-milestone/94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ownership] Validated ownership: user f53b0823-944c-4824-a809-3df030bf71cb owns horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ultraRareTriggerEngine] Evaluating ultra-rare triggers for horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [ultraRareTriggerEngine] Evaluating exotic unlocks for horse 94077

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] error: [ultraRareTriggerEngine] Error evaluating Soulbonded conditions: Cannot read properties of undefined (reading 'map')

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:31] info: [POST] /api/epigenetic-traits/evaluate-milestone/94077 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/epigeneticFlagRoutes.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:31] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:31] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:32] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:32] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [MemoryMonitoring] Memory threshold exceeded: 1308MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [POST] /api/flags/evaluate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [MemoryMonitoring] Memory threshold exceeded: 1309MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [auth] Access token is required for POST /flags/evaluate from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [POST] /api/flags/evaluate - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/horses/123/flags

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [MemoryMonitoring] Memory threshold exceeded: 1309MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [auth] Access token is required for GET /flags/horses/123/flags from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/horses/123/flags - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/definitions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [MemoryMonitoring] Memory threshold exceeded: 1309MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [auth] Access token is required for GET /flags/definitions from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/definitions - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [POST] /api/flags/batch-evaluate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [MemoryMonitoring] Memory threshold exceeded: 1310MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [auth] Access token is required for POST /flags/batch-evaluate from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [POST] /api/flags/batch-evaluate - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/horses/123/care-patterns

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [MemoryMonitoring] Memory threshold exceeded: 1310MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [auth] Access token is required for GET /flags/horses/123/care-patterns from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [GET] /api/flags/horses/123/care-patterns - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] info: [POST] /api/flags/evaluate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:32] warn: [MemoryMonitoring] Memory threshold exceeded: 1310MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [POST] /api/flags/evaluate - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/horses/123/flags

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [MemoryMonitoring] Memory threshold exceeded: 1322MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [ownership] horse 123 not found or not owned by user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/horses/123/flags - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/definitions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [MemoryMonitoring] Memory threshold exceeded: 1319MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/definitions - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [POST] /api/flags/batch-evaluate

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [MemoryMonitoring] Memory threshold exceeded: 1318MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [POST] /api/flags/batch-evaluate - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/horses/123/care-patterns

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [MemoryMonitoring] Memory threshold exceeded: 1317MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [ownership] horse 123 not found or not owned by user test@example.com

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/horses/123/care-patterns - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [MemoryMonitoring] Memory threshold exceeded: 1316MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [MemoryMonitoring] Memory threshold exceeded: 1314MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] info: [GET] /api/flags/health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:33] warn: [MemoryMonitoring] Memory threshold exceeded: 1312MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [GET] /api/flags/health - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/routes/memoryManagementRoutes.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:34] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:34] info: [MemoryManager] Starting memory and resource monitoring

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] warn: [auth] Access token is required for GET /status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory metrics for timeframe: 1h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory metrics for timeframe: 1h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory metrics for timeframe: 6h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory metrics for timeframe: 24h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory metrics for timeframe: 7d

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory metrics for timeframe: 1h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /resources

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting resource analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for POST /gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Manual GC trigger requested (force: false)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for POST /gc

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for POST /cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Resource cleanup requested for: all

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for POST /cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Resource cleanup requested for: timers, intervals

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] warn: [MemoryManagement] Selective cleanup not yet implemented

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for POST /cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [MemoryManagement] Getting memory alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:34] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting memory alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting memory alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /alerts

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] warn: [auth] Invalid or expired token for GET /status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] warn: [auth] Access token is required for GET /status from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting memory metrics for timeframe: 1h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /resources

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting resource analytics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /health

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting system health assessment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] info: [MemoryManagement] Getting memory status

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:35] warn: [MemoryManager] Memory threshold alert: 1339MB used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:36] warn: [MemoryManager] Memory threshold alert: 1341MB used

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:36] info: [auth] Authenticated user 78d61002-26f2-438d-8bb2-07e98e01fece for GET /metrics

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:36] info: [MemoryManagement] Getting memory metrics for timeframe: 1h

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:36] info: [MemoryManager] Stopping memory and resource monitoring

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:36] info: [MemoryManager] Starting resource cleanup

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:36] info: [MemoryManager] Resource cleanup completed: 0 resources cleaned

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/breedingPrediction.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:37] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:37] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:37] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculating inheritance for stallion 94079 and mare 94080

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculated 6 trait probabilities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [breedingPredictionService.calculateFlagInheritanceScore] Calculating flag inheritance for stallion 94081 and mare 94082

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculating inheritance for stallion 94081 and mare 94082

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculated 2 trait probabilities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:37] info: [breedingPredictionService.calculateFlagInheritanceScore] Calculated flag inheritance score: 13.3

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculating inheritance for stallion 94083 and mare 94084

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculated 0 trait probabilities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateTemperamentInfluence] Calculating temperament influence for stallion 94085 and mare 94086

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateTemperamentInfluence] Calculated temperament compatibility: 70

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.predictOffspringTraits] Predicting offspring traits for stallion 94087 and mare 94088

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculating inheritance for stallion 94087 and mare 94088

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculated 4 trait probabilities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateFlagInheritanceScore] Calculating flag inheritance for stallion 94087 and mare 94088

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculating inheritance for stallion 94087 and mare 94088

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculated 4 trait probabilities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateFlagInheritanceScore] Calculated flag inheritance score: 26.7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.predictOffspringTraits] Predicted 2 traits with medium confidence

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculating inheritance for stallion 94089 and mare 94090

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.calculateInheritanceProbabilities] Calculated 2 trait probabilities

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [GET] /api/horses/94091/breeding-data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1383MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [auth] Authenticated user f665a7fc-19f5-4fd1-9b94-ceb72dfb2a38 for GET /horses/94091/breeding-data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [ownership] Validated ownership: user f665a7fc-19f5-4fd1-9b94-ceb72dfb2a38 owns horse 94091

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.generateBreedingData] Generating breeding data for horse 94091

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.generateBreedingData] Generated breeding data for horse 94091 with 1 traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [GET] /api/horses/94091/breeding-data - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [GET] /api/horses/94093/breeding-data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1391MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] warn: [auth] Access token is required for GET /horses/94093/breeding-data from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [GET] /api/horses/94093/breeding-data - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [GET] /api/horses/94095/breeding-data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] warn: [MemoryMonitoring] Memory threshold exceeded: 1393MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [auth] Authenticated user 1c195e84-84f6-4003-978f-c151c75c9927 for GET /horses/94095/breeding-data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [ownership] Validated ownership: user 1c195e84-84f6-4003-978f-c151c75c9927 owns horse 94095

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.generateBreedingData] Generating breeding data for horse 94095

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [breedingPredictionService.generateBreedingData] Generated breeding data for horse 94095 with 0 traits

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [GET] /api/horses/94095/breeding-data - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/userRoutes.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:38] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:38] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:39] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:39] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1429MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userRoutes] Self-access validated: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.getUserProgressAPI] Getting comprehensive progress for user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.getUserProgressAPI] Successfully retrieved progress for user userroutes_1766895279400 (Level 2, XP: 100/300, -100% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/550e8400-e29b-41d4-a716-446655440999/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1424MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/550e8400-e29b-41d4-a716-446655440999/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /550e8400-e29b-41d4-a716-446655440999/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Self-access violation: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e attempted to access user 550e8400-e29b-41d4-a716-446655440999

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/550e8400-e29b-41d4-a716-446655440999/progress - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users//progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1424MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users//progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Validation errors for /:id: [{"type":"field","value":"progress","msg":"User ID must be a valid UUID","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users//progress - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/a/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1425MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/a/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /a/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Validation errors for /:id: [{"type":"field","value":"a","msg":"User ID must be a valid UUID","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/a/progress - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1425MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Validation errors for /:id: [{"type":"field","value":"aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa","msg":"User ID must be a valid UUID","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa/progress - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/550e8400-e29b-41d4-a716-446655440998/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1425MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/550e8400-e29b-41d4-a716-446655440998/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /550e8400-e29b-41d4-a716-446655440998/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Self-access violation: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e attempted to access user 550e8400-e29b-41d4-a716-446655440998

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/550e8400-e29b-41d4-a716-446655440998/progress - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1426MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userRoutes] Self-access validated: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.getUserProgressAPI] Getting comprehensive progress for user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.getUserProgressAPI] Successfully retrieved progress for user userroutes_1766895279400 (Level 2, XP: 100/300, -100% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1431MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userRoutes] Self-access validated: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.getUserProgressAPI] Getting comprehensive progress for user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.getUserProgressAPI] Successfully retrieved progress for user userroutes_1766895279400 (Level 2, XP: 100/300, -100% progress)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/progress - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/user-123_test/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1435MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/user-123_test/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /user-123_test/progress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Validation errors for /:id: [{"type":"field","value":"user-123_test","msg":"User ID must be a valid UUID","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/user-123_test/progress - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1435MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user e3edf39b-8f1e-434d-984f-705618f87ab7 for GET /users/e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user e3edf39b-8f1e-434d-984f-705618f87ab7 for GET /e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userRoutes] Self-access validated: user e3edf39b-8f1e-434d-984f-705618f87ab7 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.getUser] Getting user e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/e3edf39b-8f1e-434d-984f-705618f87ab7 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1437MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /users/550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for GET /550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Self-access violation: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e attempted to access user 550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [GET] /api/users/550e8400-e29b-41d4-a716-446655440001 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [POST] /api/users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1439MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for POST /users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.createUser] Creating user NewUser_1766895279811

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [createUser] User created: NewUser_1766895279811

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [POST] /api/users - 201

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [POST] /api/users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1439MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for POST /users

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [POST] /api/users - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [PUT] /api/users/e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1436MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user e3edf39b-8f1e-434d-984f-705618f87ab7 for PUT /users/e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user e3edf39b-8f1e-434d-984f-705618f87ab7 for PUT /e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userRoutes] Self-access validated: user e3edf39b-8f1e-434d-984f-705618f87ab7 accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.updateUser] Updating user e3edf39b-8f1e-434d-984f-705618f87ab7

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [PUT] /api/users/e3edf39b-8f1e-434d-984f-705618f87ab7 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [PUT] /api/users/550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1438MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for PUT /users/550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for PUT /550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Self-access violation: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e attempted to access user 550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [PUT] /api/users/550e8400-e29b-41d4-a716-446655440001 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [DELETE] /api/users/07550b45-20d7-4ce3-95ee-0878692c3bba

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1439MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user 07550b45-20d7-4ce3-95ee-0878692c3bba for DELETE /users/07550b45-20d7-4ce3-95ee-0878692c3bba

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user 07550b45-20d7-4ce3-95ee-0878692c3bba for DELETE /07550b45-20d7-4ce3-95ee-0878692c3bba

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userRoutes] Self-access validated: user 07550b45-20d7-4ce3-95ee-0878692c3bba accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [userController.deleteUser] Deleting user 07550b45-20d7-4ce3-95ee-0878692c3bba

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [DELETE] /api/users/07550b45-20d7-4ce3-95ee-0878692c3bba - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [DELETE] /api/users/550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [MemoryMonitoring] Memory threshold exceeded: 1440MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for DELETE /users/550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for DELETE /550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] warn: [userRoutes] Self-access violation: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e attempted to access user 550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:39] info: [DELETE] /api/users/550e8400-e29b-41d4-a716-446655440001 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [POST] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/add-xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] warn: [MemoryMonitoring] Memory threshold exceeded: 1441MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for POST /users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/add-xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for POST /d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/add-xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [userRoutes] Self-access validated: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e accessing own data

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [userController.addXp] Adding 50 XP to user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [POST] /api/users/d7b5e50d-32d2-4c41-ba45-5b14028b1f4e/add-xp - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [POST] /api/users/550e8400-e29b-41d4-a716-446655440001/add-xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] warn: [MemoryMonitoring] Memory threshold exceeded: 1430MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for POST /users/550e8400-e29b-41d4-a716-446655440001/add-xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [auth] Authenticated user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e for POST /550e8400-e29b-41d4-a716-446655440001/add-xp

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] warn: [userRoutes] Self-access violation: user d7b5e50d-32d2-4c41-ba45-5b14028b1f4e attempted to access user 550e8400-e29b-41d4-a716-446655440001

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [POST] /api/users/550e8400-e29b-41d4-a716-446655440001/add-xp - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/integration/security/auth-bypass-attempts.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:40] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:40] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:41] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:41] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1477MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [PUT] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1479MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for PUT /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [PUT] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [DELETE] /api/users/account

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1479MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for DELETE /users/account from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [DELETE] /api/users/account - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1479MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for GET /horses from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/horses - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [POST] /api/horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1479MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for POST /horses from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [POST] /api/horses - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1478MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Invalid token for GET /profile from ::ffff:127.0.0.1: invalid signature

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1476MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Invalid token for GET /profile from ::ffff:127.0.0.1: invalid algorithm

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1474MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1485MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1481MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1477MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Token expired (precheck) for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Token expired for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1476MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Session expired due to age for GET /profile from ::ffff:127.0.0.1 (8 days old)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Session expired. Please login again. for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1475MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 3e019b84-377f-4006-a69e-7c5c7e81cea1 for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1486MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 5c0c672d-51ac-4530-bf35-3a2e8f9e7325 for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1481MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 5c0c672d-51ac-4530-bf35-3a2e8f9e7325 for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1478MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 9047c5a0-1d0a-4a82-b247-19d4a2c16b52 for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1477MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1488MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1483MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1479MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [auth] Access token is required for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1476MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 5bce8265-d47c-4f33-9c96-940e78131896 for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1488MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 3f201157-a1be-45d4-b606-63e3d444b27a for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1483MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 3f201157-a1be-45d4-b606-63e3d444b27a for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1480MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user abf51046-6cef-430e-8a10-a141203cac5b for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/users/e2d81929-1f2f-482d-a657-327b51373a57

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1478MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user d87bf8f1-6849-4acb-a780-276ba59d69b3 for GET /users/e2d81929-1f2f-482d-a657-327b51373a57

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user d87bf8f1-6849-4acb-a780-276ba59d69b3 for GET /e2d81929-1f2f-482d-a657-327b51373a57

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [userRoutes] Self-access violation: user d87bf8f1-6849-4acb-a780-276ba59d69b3 attempted to access user e2d81929-1f2f-482d-a657-327b51373a57

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/users/e2d81929-1f2f-482d-a657-327b51373a57 - 403

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1481MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user 418dd5d9-3b67-475f-b46b-5c650c61e83b for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1479MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user f896e54a-72bd-4eb2-9f68-7063fedb859e for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] warn: [MemoryMonitoring] Memory threshold exceeded: 1489MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [auth] Authenticated user f896e54a-72bd-4eb2-9f68-7063fedb859e for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:41] info: [GET] /api/auth/profile - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [MemoryMonitoring] Memory threshold exceeded: 1485MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [auth] Invalid token for GET /profile from ::ffff:127.0.0.1: invalid signature

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [MemoryMonitoring] Memory threshold exceeded: 1482MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [auth] Invalid or expired token for GET /profile from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [MemoryMonitoring] Memory threshold exceeded: 1480MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [auth] Authenticated user 1' OR '1'='1 for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] error: [authController.getProfile] Error retrieving profile: User not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:42] error: [GET] /api/auth/profile - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:42] error: Error User not found

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile - 404

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [MemoryMonitoring] Memory threshold exceeded: 1482MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [auth] Authenticated user undefined for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] error: [authController.getProfile] Error retrieving profile: Authentication error, user not found in request

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:42] error: [GET] /api/auth/profile - ERROR

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:42] error: Error Authentication error, user not found in request

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/auth/profile - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/users/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [MemoryMonitoring] Memory threshold exceeded: 1483MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [auth] Authenticated user not-a-number for GET /users/profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [auth] Authenticated user not-a-number for GET /profile

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] warn: [userRoutes] Validation errors for /:id: [{"type":"field","value":"profile","msg":"User ID must be a valid UUID","path":"id","location":"params"}]

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [GET] /api/users/profile - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/traitEvaluation.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:42] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

PASS tests/groomBondingIntegration.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:42] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:42] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:43] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:43] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] warn: [MemoryMonitoring] Memory threshold exceeded: 1283MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Recording brushing interaction for foal 94097

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying gentle personality effects for task brushing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied gentle effects: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for gentle: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Interaction recorded: 7 bonding, -1 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Personality effects applied (gentle): task_specialty - 10% increased success rate on nervous or timid horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46614 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomProgressionService.awardGroomXP] Groom 46614 gained 2 XP: 5 â†’ 7 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Awarded 2 XP to groom 46614 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] warn: [MemoryMonitoring] Memory threshold exceeded: 1281MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Recording hand-walking interaction for foal 94098

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying gentle personality effects for task hand-walking

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied gentle effects:

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for gentle: none

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Interaction recorded: 8 bonding, -1 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46615 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomProgressionService.awardGroomXP] Groom 46615 gained 2 XP: 5 â†’ 7 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Awarded 2 XP to groom 46615 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] warn: [MemoryMonitoring] Memory threshold exceeded: 1291MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomController.recordInteraction] Recording stall_care interaction for foal 94099

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:43] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying gentle personality effects for task stall_care

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied gentle effects: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for gentle: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Interaction recorded: 6 bonding, -1 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Personality effects applied (gentle): task_specialty - 10% increased success rate on nervous or timid horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46616 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Groom 46616 gained 2 XP: 5 â†’ 7 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Awarded 2 XP to groom 46616 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] warn: [MemoryMonitoring] Memory threshold exceeded: 1287MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Recording brushing interaction for foal 94101

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] warn: [MemoryMonitoring] Memory threshold exceeded: 1290MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Recording brushing interaction for foal 94102

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying gentle personality effects for task brushing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied gentle effects: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for gentle: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Interaction recorded: 7 bonding, -1 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Personality effects applied (gentle): task_specialty - 10% increased success rate on nervous or timid horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46618 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Groom 46618 gained 2 XP: 5 â†’ 7 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Awarded 2 XP to groom 46618 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] warn: [MemoryMonitoring] Memory threshold exceeded: 1288MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Recording brushing interaction for foal 94103

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying gentle personality effects for task brushing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied gentle effects: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for gentle: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Interaction recorded: 4 bonding, -4 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Personality effects applied (gentle): task_specialty - 10% increased success rate on nervous or timid horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46619 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Groom 46619 gained 2 XP: 5 â†’ 7 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Awarded 2 XP to groom 46619 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] warn: [MemoryMonitoring] Memory threshold exceeded: 1286MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Recording brushing interaction for foal 94104

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomPersonalityEffects.calculatePersonalityEffects] Applying gentle personality effects for task brushing

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomPersonalityEffects.calculatePersonalityEffects] Applied gentle effects: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomSystem.calculateGroomInteractionEffects] Applied personality effects for gentle: task_specialty

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Interaction recorded: 4 bonding, -1 stress

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Personality effects applied (gentle): task_specialty - 10% increased success rate on nervous or timid horses

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Awarding 2 XP to groom 46620 for interaction_completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomProgressionService.awardGroomXP] Groom 46620 gained 2 XP: 5 â†’ 7 (Level 1 â†’ 1)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Awarded 2 XP to groom 46620 for interaction

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] warn: [MemoryMonitoring] Memory threshold exceeded: 1292MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [groomController.recordInteraction] Recording hand-walking interaction for foal 94104

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [POST] /api/grooms/interact - 400

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/integration/leaderboardRoutes.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:44] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:44] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:45] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:45] info: [SwaggerSetup] OpenAPI specification loaded successfully

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [SwaggerSetup] API documentation setup completed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [SwaggerSetup] Interactive docs available at: /api-docs

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [SwaggerSetup] OpenAPI JSON available at: /api-docs/swagger.json

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [SwaggerSetup] OpenAPI YAML available at: /api-docs/swagger.yaml

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/players/level?limit=10&offset=0

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] warn: [MemoryMonitoring] Memory threshold exceeded: 1329MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 39504ea9-8f65-44e5-beb6-32089e9be5fd for GET /leaderboards/players/level

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 39504ea9-8f65-44e5-beb6-32089e9be5fd for GET /players/level

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/players/level?limit=10&offset=0 - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/players/level

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] warn: [MemoryMonitoring] Memory threshold exceeded: 1337MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] warn: [auth] Access token is required for GET /leaderboards/players/level from ::ffff:127.0.0.1

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/players/level - 401

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/horses/earnings

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] warn: [MemoryMonitoring] Memory threshold exceeded: 1329MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 879a6cf6-4f13-4e88-9ef2-e67e9600c3c6 for GET /leaderboards/horses/earnings

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 879a6cf6-4f13-4e88-9ef2-e67e9600c3c6 for GET /horses/earnings

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/horses/earnings - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/recent-winners

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] warn: [MemoryMonitoring] Memory threshold exceeded: 1336MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 6e93b6c2-dccf-4cc4-b2ea-847caa6573d6 for GET /leaderboards/recent-winners

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 6e93b6c2-dccf-4cc4-b2ea-847caa6573d6 for GET /recent-winners

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/recent-winners - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/recent-winners?discipline=Dressage

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] warn: [MemoryMonitoring] Memory threshold exceeded: 1328MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user f3d68fef-e3ae-4d4e-92e5-b079cef9e45a for GET /leaderboards/recent-winners

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user f3d68fef-e3ae-4d4e-92e5-b079cef9e45a for GET /recent-winners

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/recent-winners?discipline=Dressage - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] warn: [MemoryMonitoring] Memory threshold exceeded: 1334MB

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 9ad45ccb-1bf6-46e8-91b8-fa047d13fb63 for GET /leaderboards/stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [auth] Authenticated user 9ad45ccb-1bf6-46e8-91b8-fa047d13fb63 for GET /stats

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:45] info: [GET] /api/leaderboards/stats - 200

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS tests/auth-simple.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:46] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:46] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:46] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.log
      [2025-12-27 23:14:46] info: [rateLimiting] Using in-memory rate limiting for test/disabled Redis environment

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:47] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:47] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:47] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: test@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=02ad312b7747398dbb10f669b486a0c6f33ab99ccaebf34c86b65f01a12c56bb

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:14:47] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:47] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:47] info: [EmailVerification] Created verification token

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:47] info: [EmailService] Email verification (DEV MODE - not sent)

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      
      === EMAIL VERIFICATION (DEV MODE) ===

      at sendVerificationEmail (utils/emailService.mjs:227:15)

    console.log
      To: login-test@example.com

      at sendVerificationEmail (utils/emailService.mjs:228:15)

    console.log
      Subject: Verify Your Email Address - Equoria

      at sendVerificationEmail (utils/emailService.mjs:229:15)

    console.log
      Verification URL: http://localhost:3000/verify-email?token=b65814cfa7071335b4c6af6c839e233e518ca9b935324528af8f131c626ffd2e

      at sendVerificationEmail (utils/emailService.mjs:230:15)

    console.log
      =====================================

      at sendVerificationEmail (utils/emailService.mjs:231:15)

    console.log
      [2025-12-27 23:14:47] info: [authController.register] Verification email sent

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:47] info: [TokenRotation] Created new token pair

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:47] warn: [AuthRateLimiter] resetAuthRateLimit() is deprecated with Redis

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

PASS __tests__/middleware/sessionManagement.test.mjs
  â— Console

    console.log
      [2025-12-27 23:14:48] info: [envValidator] Validating test environment configuration...

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] info: [envValidator] âœ… All 5 required environment variables are present

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] info: [envValidator] Test environment validation complete. Success: true

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      ðŸ§ª Test environment loaded

      at tests/setup.mjs:53:9

    console.log
      ðŸ“Š Database: postgresql://postgres:***@localhost:5432/equoria_test

      at tests/setup.mjs:54:9

    console.info
      [PrismaClient] Jest cleanup registered successfully.

      at ../packages/database/prismaClient.mjs:55:13

    console.log
      [2025-12-27 23:14:48] warn: [Session] Session expired due to inactivity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] warn: [Session] Session expired due to inactivity

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] error: [Session] Error tracking session activity: Database connection error

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:48] warn: [Session] Too many concurrent sessions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] info: [Session] Removed oldest sessions to enforce limit

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] warn: [Session] Too many concurrent sessions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] info: [Session] Removed oldest sessions to enforce limit

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] warn: [Session] Too many concurrent sessions

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] info: [Session] Removed oldest sessions to enforce limit

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] error: [Session] Error enforcing concurrent sessions: Database query failed

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:48] error: [Session] Error fetching active sessions: Database connection lost

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

    console.log
      [2025-12-27 23:14:48] info: [Session] Session revoked by user

      at Console.log (node_modules/winston/lib/winston/transports/console.js:87:23)

    console.log
      [2025-12-27 23:14:48] error: [Session] Error revoking session: 
      Invalid `prisma.refreshToken.deleteMany()` invocation:
      
      {
        where: {
          userId: "invalid-user",
      +   id: {
      +     equals: Int | IntFieldRefInput,
      +     in: Int[] | ListIntFieldRefInput,
      +     notIn: Int[] | ListIntFieldRefInput,
      +     lt: Int | IntFieldRefInput,
      +     lte: Int | IntFieldRefInput,
      +     gt: Int | IntFieldRefInput,
      +     gte: Int | IntFieldRefInput,
      +     not: Int | NestedIntFilter
      +   }
        }
      }
      
      Argument `id` is missing.

      at Console.log (node_modules/winston/lib/winston/transports/console.js:59:25)

